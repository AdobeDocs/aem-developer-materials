<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_131) on Fri May 29 19:13:26 UTC 2020 -->
<title>JcrTagManagerFactory (The Adobe AEM Quickstart and Web Application.)</title>
<meta name="date" content="2020-05-29">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="JcrTagManagerFactory (The Adobe AEM Quickstart and Web Application.)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":6,"i1":38};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],32:["t6","Deprecated Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/day/cq/tagging/InvalidTagFormatException.html" title="class in com.day.cq.tagging"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/day/cq/tagging/Tag.html" title="interface in com.day.cq.tagging"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/day/cq/tagging/JcrTagManagerFactory.html" target="_top">Frames</a></li>
<li><a href="JcrTagManagerFactory.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.day.cq.tagging</div>
<h2 title="Interface JcrTagManagerFactory" class="title">Interface JcrTagManagerFactory</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>@ProviderType
public interface <span class="typeNameLabel">JcrTagManagerFactory</span></pre>
<div class="block"><code>JcrTagManagerFactory</code> returns a JCR-based implementation of a
 <a href="../../../../com/day/cq/tagging/TagManager.html" title="interface in com.day.cq.tagging"><code>TagManager</code></a>. This is the reference implementation of the tagging API.
 
 <h3>Getting a JCR-based TagManager</h3>
 First you need the service instance of this interface. Call
 <a href="../../../../com/day/cq/tagging/JcrTagManagerFactory.html#getTagManager-org.apache.sling.api.resource.ResourceResolver-"><code>getTagManager(ResourceResolver)</code></a> on it with a JCR <a href="../../../../org/apache/sling/api/resource/ResourceResolver.html" title="interface in org.apache.sling.api.resource"><code>ResourceResolver</code></a> to retrieve a
 <a href="../../../../com/day/cq/tagging/TagManager.html" title="interface in com.day.cq.tagging"><code>TagManager</code></a> instance:
 
 <pre><code>
 Reference
 JcrTagManagerFactory jcrTagManagerFactory;
 
 ...
 
 TagManager tagManager = jcrTagManagerFactory.getTagManager(session);
 </code></pre>
 
 In the typical Sling context you can also adapt to a <a href="../../../../com/day/cq/tagging/TagManager.html" title="interface in com.day.cq.tagging"><code>TagManager</code></a> from
 the <a href="../../../../org/apache/sling/api/resource/ResourceResolver.html" title="interface in org.apache.sling.api.resource"><code>ResourceResolver</code></a>:
 
 <pre><code>
 TagManager tagManager = resourceResolver.adaptTo(ResourceResolver.class);
 </code></pre>
 
 <h3>About the JCR implementation</h3>
 The JCR-based TagManager instance is not a global singleton and does not
 cache anything, because it is bound to a specific JCR <a href="https://docs.adobe.com/docs/en/spec/javax.jcr/javadocs/jcr-2.0/javax/jcr/Session.html?is-external=true" title="class or interface in javax.jcr"><code>Session</code></a> and
 maps all operations to <a href="https://docs.adobe.com/docs/en/spec/javax.jcr/javadocs/jcr-2.0/javax/jcr/Node.html?is-external=true" title="class or interface in javax.jcr">Nodes</a>, queries and other JCR API
 operations.
 
 <p>
 Tags are <b>stored in the repository under a base path</b>, 
 which is provided by property <code>base.path</code> (it can be changed by setting the OSGI
 property <code>base.path</code> for the implementation
 <code>com.day.cq.tagging.impl.JcrTagManagerFactoryImpl</code>). Tag paths
 are mapped to JCR paths directly (also see the absolute tag path description
 in <a href="../../../../com/day/cq/tagging/Tag.html" title="interface in com.day.cq.tagging"><code>Tag</code></a>). A tag node has the type <code>cq:Tag</code>. The
 top-most level, ie. everything directly under the tag base path, represents
 namespaces, everything below tags or container tags (if they have tag
 children themselves). Namespaces and tags thus have both the same node type
 <code>cq:Tag</code>. You are free to add other content to namespaces or
 tags, the node type allows residual properties and any child nodes.
 
 <p>
 <b>Author tagging:</b> To tag content (ie. nodes in the repository), assign
 the mixin <code>cq:OwnerTaggable</code> to the node. OwnerTaggable means
 that the content-creator or author should be able to tag it for
 organizational purposes. The mixin essentially defines one multi-value
 property <code>cq:tags</code>, where each value is one tag that is either
 a tag ID or an absolute path to the tag.
 
 <p>
 <b>User tagging</b>: Use the mixin <code>cq:UserTaggable</code> if any
 user of the site should be able to add his own tags to the content.
 <b>Important note: user-tagging is not yet implemented; it will store the
 tags in the user's home directory, but access to this is not implemented and
 the according node types are not final yet.</b>
 
 <p>
 The implementation allows to manage tags and tag content solely by using the
 JCR API. It will ensure that tags set in the <code>cq:tags</code> property
 are not duplicated and that the user that set them had the rights to use this
 tag. This is done by using a JCR observation listener that will revert any
 incorrect changes. The creation of tags (eg. denying users to create new tags
 in a certain namespace) on the other hand must be restricted by setting
 appropiate ACLs in the repository.
 
 <p>
 <b>Rights:</b> A typical setting would only allow a group/role
 "tagadministrator" to modify namespaces (add/modify under
 <code>{base.path}</code>), read access for all users/authors to all the
 namespaces that should be readable to them (mostly all) and write access only
 for those namespaces where tags should be freely definable by users/authors
 (add_node under <code>{base.path}/some_namespace</code>).</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t6" class="tableTab"><span><a href="javascript:show(32);">Deprecated Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="../../../../com/day/cq/tagging/TagManager.html" title="interface in com.day.cq.tagging">TagManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/day/cq/tagging/JcrTagManagerFactory.html#getTagManager-org.apache.sling.api.resource.ResourceResolver-">getTagManager</a></span>(<a href="../../../../org/apache/sling/api/resource/ResourceResolver.html" title="interface in org.apache.sling.api.resource">ResourceResolver</a>&nbsp;resolver)</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="../../../../com/day/cq/tagging/TagManager.html" title="interface in com.day.cq.tagging">TagManager</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../com/day/cq/tagging/JcrTagManagerFactory.html#getTagManager-javax.jcr.Session-">getTagManager</a></span>(<a href="https://docs.adobe.com/docs/en/spec/javax.jcr/javadocs/jcr-2.0/javax/jcr/Session.html?is-external=true" title="class or interface in javax.jcr">Session</a>&nbsp;session)</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;
<div class="block"><span class="deprecationComment">This is deprecated in favor of <a href="../../../../com/day/cq/tagging/JcrTagManagerFactory.html#getTagManager-org.apache.sling.api.resource.ResourceResolver-"><code>getTagManager(ResourceResolver)</code></a></span></div>
</div>
</td>
</tr>
</table>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getTagManager-javax.jcr.Session-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getTagManager</h4>
<pre>@Deprecated
<a href="../../../../com/day/cq/tagging/TagManager.html" title="interface in com.day.cq.tagging">TagManager</a>&nbsp;getTagManager(<a href="https://docs.adobe.com/docs/en/spec/javax.jcr/javadocs/jcr-2.0/javax/jcr/Session.html?is-external=true" title="class or interface in javax.jcr">Session</a>&nbsp;session)</pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;<span class="deprecationComment">This is deprecated in favor of <a href="../../../../com/day/cq/tagging/JcrTagManagerFactory.html#getTagManager-org.apache.sling.api.resource.ResourceResolver-"><code>getTagManager(ResourceResolver)</code></a></span></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>session</code> - serviceSession</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Tagmanager
 Using this method, might cause session leak in the system.

 Returns a JCR-based <a href="../../../../com/day/cq/tagging/TagManager.html" title="interface in com.day.cq.tagging"><code>TagManager</code></a> implementation.
 
 This one is bound to a JCR session, either from a request (eg.
 <code>resourceResolver.adaptTo(TagManager.class)</code>, in which case
 you won't have to call this method directly) or by using a self-made
 session, for example:
 
 <pre><code>
 Session serviceSession = repository.loginService(...);
 TagManager tagManager = JcrTagManagerFactory.getTagManager(serviceSession);
 </code></pre>
 
 Please note that the visibility of tags and the right to create a tag
 depend on the user of the session (access rights are simply mapped to
 node read and creation rights of the repository), so an administrative
 session like above could do more than a "normal" user. In most cases it
 is advised to use the current request's session (= the request's user),
 eg. by using:
 
 <pre><code>
 TagManager tagManager = resourceResolver.adaptTo(TagManager.class);
 </code></pre></dd>
</dl>
</li>
</ul>
<a name="getTagManager-org.apache.sling.api.resource.ResourceResolver-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getTagManager</h4>
<pre><a href="../../../../com/day/cq/tagging/TagManager.html" title="interface in com.day.cq.tagging">TagManager</a>&nbsp;getTagManager(<a href="../../../../org/apache/sling/api/resource/ResourceResolver.html" title="interface in org.apache.sling.api.resource">ResourceResolver</a>&nbsp;resolver)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>resolver</code> - serviceResolver</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Tagmanager
 Returns a JCR-based <a href="../../../../com/day/cq/tagging/TagManager.html" title="interface in com.day.cq.tagging"><code>TagManager</code></a> implementation.

 This one is bound to a Resource Resolver, either from a request (eg.
 <code>resourceResolver.adaptTo(TagManager.class)</code>, in which case
 you won't have to call this method directly) or by using a self-made
 resolver, for example:

 <pre><code>
 ResourceResolver serviceResolver = resourceResolverFactory.getServiceResourceResolver(...);
 TagManager tagManager = JcrTagManagerFactory.getTagManager(serviceResolver);
 </code></pre>

 Please note that the visibility of tags and the right to create a tag
 depend on the user of the session (access rights are simply mapped to
 node read and creation rights of the repository), so an administrative
 user like above could do more than a "normal" user. In most cases it
 is advised to use the current request's session (= the request's user),
 eg. by using:

 <pre><code>
 TagManager tagManager = resourceResolver.adaptTo(TagManager.class);
 </code></pre></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../com/day/cq/tagging/InvalidTagFormatException.html" title="class in com.day.cq.tagging"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../com/day/cq/tagging/Tag.html" title="interface in com.day.cq.tagging"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?com/day/cq/tagging/JcrTagManagerFactory.html" target="_top">Frames</a></li>
<li><a href="JcrTagManagerFactory.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &copy; 2010 - 2020 Adobe. All Rights Reserved</small></p>
</body>
</html>
