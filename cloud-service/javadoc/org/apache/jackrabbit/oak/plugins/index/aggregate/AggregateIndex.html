<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.11) on Thu Jul 29 16:39:42 UTC 2021 -->
<title>AggregateIndex (The Adobe Experience Manager SDK 2021.7.5662.20210726T181801Z-210700)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2021-07-29">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="AggregateIndex (The Adobe Experience Manager SDK 2021.7.5662.20210726T181801Z-210700)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.apache.jackrabbit.oak.plugins.index.aggregate</a></div>
<h2 title="Class AggregateIndex" class="title">Class AggregateIndex</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.jackrabbit.oak.plugins.index.aggregate.AggregateIndex</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../../../spi/query/QueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex</a></code>, <code><a href="../../../spi/query/QueryIndex.AdvancedQueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.AdvancedQueryIndex</a></code>, <code><a href="../../../spi/query/QueryIndex.AdvanceFulltextQueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.AdvanceFulltextQueryIndex</a></code>, <code><a href="../../../spi/query/QueryIndex.FulltextQueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.FulltextQueryIndex</a></code>, <code><a href="../../../spi/query/QueryIndex.NativeQueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.NativeQueryIndex</a></code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">AggregateIndex</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>
implements <a href="../../../spi/query/QueryIndex.AdvanceFulltextQueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.AdvanceFulltextQueryIndex</a></pre>
<div class="block">A virtual full-text that can aggregate nodes based on aggregate definitions.
 Internally, it uses another full-text index.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a id="nested.classes.inherited.from.class.org.apache.jackrabbit.oak.spi.query.QueryIndex">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from interface&nbsp;org.apache.jackrabbit.oak.spi.query.<a href="../../../spi/query/QueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex</a></h3>
<code><a href="../../../spi/query/QueryIndex.AdvancedQueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.AdvancedQueryIndex</a>, <a href="../../../spi/query/QueryIndex.AdvanceFulltextQueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.AdvanceFulltextQueryIndex</a>, <a href="../../../spi/query/QueryIndex.FulltextQueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.FulltextQueryIndex</a>, <a href="../../../spi/query/QueryIndex.IndexPlan.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.IndexPlan</a>, <a href="../../../spi/query/QueryIndex.NativeQueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.NativeQueryIndex</a>, <a href="../../../spi/query/QueryIndex.NodeAggregator.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.NodeAggregator</a>, <a href="../../../spi/query/QueryIndex.OrderEntry.html" title="class in org.apache.jackrabbit.oak.spi.query">QueryIndex.OrderEntry</a></code></li>
</ul>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.apache.jackrabbit.oak.spi.query.QueryIndex.AdvanceFulltextQueryIndex)">AggregateIndex</a></span>&#8203;(<a href="../../../spi/query/QueryIndex.AdvanceFulltextQueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.AdvanceFulltextQueryIndex</a>&nbsp;baseIndex)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getCost(org.apache.jackrabbit.oak.spi.query.Filter,org.apache.jackrabbit.oak.spi.state.NodeState)">getCost</a></span>&#8203;(<a href="../../../spi/query/Filter.html" title="interface in org.apache.jackrabbit.oak.spi.query">Filter</a>&nbsp;filter,
       <a href="../../../spi/state/NodeState.html" title="interface in org.apache.jackrabbit.oak.spi.state">NodeState</a>&nbsp;rootState)</code></th>
<td class="colLast">
<div class="block">Estimate the worst-case cost to query with the given filter.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getIndexName()">getIndexName</a></span>()</code></th>
<td class="colLast">
<div class="block">Get the generic index name (normally the index type).</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getMinimumCost()">getMinimumCost</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the minimum cost which <a href="../../../spi/query/QueryIndex.html#getCost(org.apache.jackrabbit.oak.spi.query.Filter,org.apache.jackrabbit.oak.spi.state.NodeState)"><code>QueryIndex.getCost(Filter, NodeState)</code></a> would return in the best possible case.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../spi/query/QueryIndex.NodeAggregator.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.NodeAggregator</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getNodeAggregator()">getNodeAggregator</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the NodeAggregator responsible for providing the aggregation
 settings or null if aggregation is not available/desired.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getPlan(org.apache.jackrabbit.oak.spi.query.Filter,org.apache.jackrabbit.oak.spi.state.NodeState)">getPlan</a></span>&#8203;(<a href="../../../spi/query/Filter.html" title="interface in org.apache.jackrabbit.oak.spi.query">Filter</a>&nbsp;filter,
       <a href="../../../spi/state/NodeState.html" title="interface in org.apache.jackrabbit.oak.spi.state">NodeState</a>&nbsp;rootState)</code></th>
<td class="colLast">
<div class="block">Get the query plan for the given filter.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getPlanDescription(org.apache.jackrabbit.oak.spi.query.QueryIndex.IndexPlan,org.apache.jackrabbit.oak.spi.state.NodeState)">getPlanDescription</a></span>&#8203;(<a href="../../../spi/query/QueryIndex.IndexPlan.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.IndexPlan</a>&nbsp;plan,
                  <a href="../../../spi/state/NodeState.html" title="interface in org.apache.jackrabbit.oak.spi.state">NodeState</a>&nbsp;root)</code></th>
<td class="colLast">
<div class="block">Get the query plan description (for logging purposes).</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="../../../spi/query/QueryIndex.IndexPlan.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.IndexPlan</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getPlans(org.apache.jackrabbit.oak.spi.query.Filter,java.util.List,org.apache.jackrabbit.oak.spi.state.NodeState)">getPlans</a></span>&#8203;(<a href="../../../spi/query/Filter.html" title="interface in org.apache.jackrabbit.oak.spi.query">Filter</a>&nbsp;filter,
        <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="../../../spi/query/QueryIndex.OrderEntry.html" title="class in org.apache.jackrabbit.oak.spi.query">QueryIndex.OrderEntry</a>&gt;&nbsp;sortOrder,
        <a href="../../../spi/state/NodeState.html" title="interface in org.apache.jackrabbit.oak.spi.state">NodeState</a>&nbsp;rootState)</code></th>
<td class="colLast">
<div class="block">Return the possible index plans for the given filter and sort order.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../spi/query/Cursor.html" title="interface in org.apache.jackrabbit.oak.spi.query">Cursor</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#query(org.apache.jackrabbit.oak.spi.query.Filter,org.apache.jackrabbit.oak.spi.state.NodeState)">query</a></span>&#8203;(<a href="../../../spi/query/Filter.html" title="interface in org.apache.jackrabbit.oak.spi.query">Filter</a>&nbsp;filter,
     <a href="../../../spi/state/NodeState.html" title="interface in org.apache.jackrabbit.oak.spi.state">NodeState</a>&nbsp;rootState)</code></th>
<td class="colLast">
<div class="block">Query the index.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../spi/query/Cursor.html" title="interface in org.apache.jackrabbit.oak.spi.query">Cursor</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#query(org.apache.jackrabbit.oak.spi.query.QueryIndex.IndexPlan,org.apache.jackrabbit.oak.spi.state.NodeState)">query</a></span>&#8203;(<a href="../../../spi/query/QueryIndex.IndexPlan.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.IndexPlan</a>&nbsp;plan,
     <a href="../../../spi/state/NodeState.html" title="interface in org.apache.jackrabbit.oak.spi.state">NodeState</a>&nbsp;rootState)</code></th>
<td class="colLast">
<div class="block">Start a query.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.apache.jackrabbit.oak.spi.query.QueryIndex">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.apache.jackrabbit.oak.spi.query.<a href="../../../spi/query/QueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex</a></h3>
<code><a href="../../../spi/query/QueryIndex.html#getIndexName(org.apache.jackrabbit.oak.spi.query.Filter,org.apache.jackrabbit.oak.spi.state.NodeState)">getIndexName</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(org.apache.jackrabbit.oak.spi.query.QueryIndex.AdvanceFulltextQueryIndex)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>AggregateIndex</h4>
<pre>public&nbsp;AggregateIndex&#8203;(<a href="../../../spi/query/QueryIndex.AdvanceFulltextQueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.AdvanceFulltextQueryIndex</a>&nbsp;baseIndex)</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getMinimumCost()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMinimumCost</h4>
<pre class="methodSignature">public&nbsp;double&nbsp;getMinimumCost()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../spi/query/QueryIndex.html#getMinimumCost()">QueryIndex</a></code></span></div>
<div class="block">Returns the minimum cost which <a href="../../../spi/query/QueryIndex.html#getCost(org.apache.jackrabbit.oak.spi.query.Filter,org.apache.jackrabbit.oak.spi.state.NodeState)"><code>QueryIndex.getCost(Filter, NodeState)</code></a> would return in the best possible case.
 <p>
 The implementation should return a static/cached value because it is called very often.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../spi/query/QueryIndex.html#getMinimumCost()">getMinimumCost</a></code>&nbsp;in interface&nbsp;<code><a href="../../../spi/query/QueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the minimum cost for the index</dd>
</dl>
</li>
</ul>
<a id="getCost(org.apache.jackrabbit.oak.spi.query.Filter,org.apache.jackrabbit.oak.spi.state.NodeState)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCost</h4>
<pre class="methodSignature">public&nbsp;double&nbsp;getCost&#8203;(<a href="../../../spi/query/Filter.html" title="interface in org.apache.jackrabbit.oak.spi.query">Filter</a>&nbsp;filter,
                      <a href="../../../spi/state/NodeState.html" title="interface in org.apache.jackrabbit.oak.spi.state">NodeState</a>&nbsp;rootState)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../spi/query/QueryIndex.html#getCost(org.apache.jackrabbit.oak.spi.query.Filter,org.apache.jackrabbit.oak.spi.state.NodeState)">QueryIndex</a></code></span></div>
<div class="block">Estimate the worst-case cost to query with the given filter. The returned
 cost is a value between 1 (very fast; lookup of a unique node) and the
 estimated number of entries to traverse, if the cursor would be fully
 read, and if there could in theory be one network roundtrip or disk read
 operation per node (this method may return a lower number if the data is
 known to be fully in memory).
 <p>
 The returned value is supposed to be an estimate and doesn't have to be
 very accurate. Please note this method is called on each index whenever a
 query is run, so the method should be reasonably fast (not read any data
 itself, or at least not read too much data).
 <p>
 If an index implementation can not query the data, it has to return
 <code>Double.MAX_VALUE</code>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../spi/query/QueryIndex.html#getCost(org.apache.jackrabbit.oak.spi.query.Filter,org.apache.jackrabbit.oak.spi.state.NodeState)">getCost</a></code>&nbsp;in interface&nbsp;<code><a href="../../../spi/query/QueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>filter</code> - the filter</dd>
<dd><code>rootState</code> - root state of the current repository snapshot</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the estimated cost in number of read nodes</dd>
</dl>
</li>
</ul>
<a id="query(org.apache.jackrabbit.oak.spi.query.Filter,org.apache.jackrabbit.oak.spi.state.NodeState)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>query</h4>
<pre class="methodSignature">public&nbsp;<a href="../../../spi/query/Cursor.html" title="interface in org.apache.jackrabbit.oak.spi.query">Cursor</a>&nbsp;query&#8203;(<a href="../../../spi/query/Filter.html" title="interface in org.apache.jackrabbit.oak.spi.query">Filter</a>&nbsp;filter,
                    <a href="../../../spi/state/NodeState.html" title="interface in org.apache.jackrabbit.oak.spi.state">NodeState</a>&nbsp;rootState)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../spi/query/QueryIndex.html#query(org.apache.jackrabbit.oak.spi.query.Filter,org.apache.jackrabbit.oak.spi.state.NodeState)">QueryIndex</a></code></span></div>
<div class="block">Query the index. The returned cursor is supposed to return as few nodes
 as possible, but may return more nodes than necessary.
 <p>
 An implementation should only filter the result if it can do so easily
 and efficiently; the query engine will verify the data again (in memory)
 and check for access rights.
 <p>
 The method is only called if this index is used for the given query and
 selector, which is only the case if the given index implementation
 returned the lowest cost for the given filter. If the implementation
 returned <code>Double.MAX_VALUE</code> in the getCost method for the given
 filter, then this method is not called. If it is still called, then it is
 supposed to throw an exception (as it would be an internal error of the
 query engine).</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../spi/query/QueryIndex.html#query(org.apache.jackrabbit.oak.spi.query.Filter,org.apache.jackrabbit.oak.spi.state.NodeState)">query</a></code>&nbsp;in interface&nbsp;<code><a href="../../../spi/query/QueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>filter</code> - the filter</dd>
<dd><code>rootState</code> - root state of the current repository snapshot</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a cursor to iterate over the result</dd>
</dl>
</li>
</ul>
<a id="getPlans(org.apache.jackrabbit.oak.spi.query.Filter,java.util.List,org.apache.jackrabbit.oak.spi.state.NodeState)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPlans</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="../../../spi/query/QueryIndex.IndexPlan.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.IndexPlan</a>&gt;&nbsp;getPlans&#8203;(<a href="../../../spi/query/Filter.html" title="interface in org.apache.jackrabbit.oak.spi.query">Filter</a>&nbsp;filter,
                                           <a href="https://docs.oracle.com/javase/8/docs/api/java/util/List.html?is-external=true" title="class or interface in java.util" class="externalLink">List</a>&lt;<a href="../../../spi/query/QueryIndex.OrderEntry.html" title="class in org.apache.jackrabbit.oak.spi.query">QueryIndex.OrderEntry</a>&gt;&nbsp;sortOrder,
                                           <a href="../../../spi/state/NodeState.html" title="interface in org.apache.jackrabbit.oak.spi.state">NodeState</a>&nbsp;rootState)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../spi/query/QueryIndex.AdvancedQueryIndex.html#getPlans(org.apache.jackrabbit.oak.spi.query.Filter,java.util.List,org.apache.jackrabbit.oak.spi.state.NodeState)">QueryIndex.AdvancedQueryIndex</a></code></span></div>
<div class="block">Return the possible index plans for the given filter and sort order.
 Please note this method is supposed to run quickly. That means it
 should usually not read any data from the storage.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../spi/query/QueryIndex.AdvancedQueryIndex.html#getPlans(org.apache.jackrabbit.oak.spi.query.Filter,java.util.List,org.apache.jackrabbit.oak.spi.state.NodeState)">getPlans</a></code>&nbsp;in interface&nbsp;<code><a href="../../../spi/query/QueryIndex.AdvancedQueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.AdvancedQueryIndex</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>filter</code> - the filter</dd>
<dd><code>sortOrder</code> - the sort order or null if no sorting is required</dd>
<dd><code>rootState</code> - root state of the current repository snapshot</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the list of index plans (null if none)</dd>
</dl>
</li>
</ul>
<a id="query(org.apache.jackrabbit.oak.spi.query.QueryIndex.IndexPlan,org.apache.jackrabbit.oak.spi.state.NodeState)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>query</h4>
<pre class="methodSignature">public&nbsp;<a href="../../../spi/query/Cursor.html" title="interface in org.apache.jackrabbit.oak.spi.query">Cursor</a>&nbsp;query&#8203;(<a href="../../../spi/query/QueryIndex.IndexPlan.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.IndexPlan</a>&nbsp;plan,
                    <a href="../../../spi/state/NodeState.html" title="interface in org.apache.jackrabbit.oak.spi.state">NodeState</a>&nbsp;rootState)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../spi/query/QueryIndex.AdvancedQueryIndex.html#query(org.apache.jackrabbit.oak.spi.query.QueryIndex.IndexPlan,org.apache.jackrabbit.oak.spi.state.NodeState)">QueryIndex.AdvancedQueryIndex</a></code></span></div>
<div class="block">Start a query. The filter and sort order of the index plan is to be
 used.
 <p>
 The index plan is one of the plans that the index returned in the
 getPlans call.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../spi/query/QueryIndex.AdvancedQueryIndex.html#query(org.apache.jackrabbit.oak.spi.query.QueryIndex.IndexPlan,org.apache.jackrabbit.oak.spi.state.NodeState)">query</a></code>&nbsp;in interface&nbsp;<code><a href="../../../spi/query/QueryIndex.AdvancedQueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.AdvancedQueryIndex</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>plan</code> - the index plan to use</dd>
<dd><code>rootState</code> - root state of the current repository snapshot</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a cursor to iterate over the result</dd>
</dl>
</li>
</ul>
<a id="getPlan(org.apache.jackrabbit.oak.spi.query.Filter,org.apache.jackrabbit.oak.spi.state.NodeState)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPlan</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;getPlan&#8203;(<a href="../../../spi/query/Filter.html" title="interface in org.apache.jackrabbit.oak.spi.query">Filter</a>&nbsp;filter,
                      <a href="../../../spi/state/NodeState.html" title="interface in org.apache.jackrabbit.oak.spi.state">NodeState</a>&nbsp;rootState)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../spi/query/QueryIndex.html#getPlan(org.apache.jackrabbit.oak.spi.query.Filter,org.apache.jackrabbit.oak.spi.state.NodeState)">QueryIndex</a></code></span></div>
<div class="block">Get the query plan for the given filter. This method is called when
 running an <code>EXPLAIN SELECT</code> query, or for logging purposes. The
 result should be human readable.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../spi/query/QueryIndex.html#getPlan(org.apache.jackrabbit.oak.spi.query.Filter,org.apache.jackrabbit.oak.spi.state.NodeState)">getPlan</a></code>&nbsp;in interface&nbsp;<code><a href="../../../spi/query/QueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>filter</code> - the filter</dd>
<dd><code>rootState</code> - root state of the current repository snapshot</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the query plan</dd>
</dl>
</li>
</ul>
<a id="getPlanDescription(org.apache.jackrabbit.oak.spi.query.QueryIndex.IndexPlan,org.apache.jackrabbit.oak.spi.state.NodeState)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPlanDescription</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;getPlanDescription&#8203;(<a href="../../../spi/query/QueryIndex.IndexPlan.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.IndexPlan</a>&nbsp;plan,
                                 <a href="../../../spi/state/NodeState.html" title="interface in org.apache.jackrabbit.oak.spi.state">NodeState</a>&nbsp;root)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../spi/query/QueryIndex.AdvancedQueryIndex.html#getPlanDescription(org.apache.jackrabbit.oak.spi.query.QueryIndex.IndexPlan,org.apache.jackrabbit.oak.spi.state.NodeState)">QueryIndex.AdvancedQueryIndex</a></code></span></div>
<div class="block">Get the query plan description (for logging purposes).
 <p>
 The index plan is one of the plans that the index returned in the
 getPlans call.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../spi/query/QueryIndex.AdvancedQueryIndex.html#getPlanDescription(org.apache.jackrabbit.oak.spi.query.QueryIndex.IndexPlan,org.apache.jackrabbit.oak.spi.state.NodeState)">getPlanDescription</a></code>&nbsp;in interface&nbsp;<code><a href="../../../spi/query/QueryIndex.AdvancedQueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.AdvancedQueryIndex</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>plan</code> - the index plan</dd>
<dd><code>root</code> - root state of the current repository snapshot</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the query plan description</dd>
</dl>
</li>
</ul>
<a id="getIndexName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIndexName</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;getIndexName()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../spi/query/QueryIndex.html#getIndexName()">QueryIndex</a></code></span></div>
<div class="block">Get the generic index name (normally the index type).</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../spi/query/QueryIndex.html#getIndexName()">getIndexName</a></code>&nbsp;in interface&nbsp;<code><a href="../../../spi/query/QueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the index name</dd>
</dl>
</li>
</ul>
<a id="getNodeAggregator()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getNodeAggregator</h4>
<pre class="methodSignature">public&nbsp;<a href="../../../spi/query/QueryIndex.NodeAggregator.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.NodeAggregator</a>&nbsp;getNodeAggregator()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../spi/query/QueryIndex.FulltextQueryIndex.html#getNodeAggregator()">QueryIndex.FulltextQueryIndex</a></code></span></div>
<div class="block">Returns the NodeAggregator responsible for providing the aggregation
 settings or null if aggregation is not available/desired.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../spi/query/QueryIndex.FulltextQueryIndex.html#getNodeAggregator()">getNodeAggregator</a></code>&nbsp;in interface&nbsp;<code><a href="../../../spi/query/QueryIndex.FulltextQueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.FulltextQueryIndex</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the node aggregator or null</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &copy; 2010 - 2021 Adobe. All Rights Reserved</small></p>
</footer>
</body>
</html>
