
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>foundation-collection-action &#8212; Granite UI 1.0 documentation</title>
    <link rel="stylesheet" href="../../../../../../../../../../../../_static/pyramid.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../../../../../../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../../../../../../_static/graphviz.css" />
    <link rel="stylesheet" type="text/css" href="../../../../../../../../../../../../_static/gnd.css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../../../../../../../../../../../" src="../../../../../../../../../../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../../../../../../../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../../../../../../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../../../../../../../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../../../../../../../../../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../../../../../../../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../../../../../../../../search.html" />
    <link rel="next" title="foundation.collection.action.action: foundation.dialog" href="action/foundation.dialog.html" />
    <link rel="prev" title="foundation-autocomplete" href="../../autocomplete/index.html" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Neuton&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nobile:regular,italic,bold,bolditalic&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="../../../../../../../../../../../../_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->

  </head><body>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../../../../../../../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="action/foundation.dialog.html" title="foundation.collection.action.action: foundation.dialog"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../../autocomplete/index.html" title="foundation-autocomplete"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../../../../../../index.html">Granite UI 1.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../../../../index.html" >Granite UI Foundation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../../index.html" >Granite UI Foundation Client-side</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="../../index.html" accesskey="U">Granite UI Foundation JS Components</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="foundation-collection-action">
<h1>foundation-collection-action<a class="headerlink" href="#foundation-collection-action" title="Permalink to this headline">¶</a></h1>
<p><code class="docutils literal notranslate"><span class="pre">foundation-collection-action</span></code> is a control to perform an certain action related to <a class="reference internal" href="../../../vocabulary/selections.html"><span class="doc">foundation-selections</span></a>.</p>
<p>For example, given a collection, there is a button to delete the selected items. This button can be implemented as <code class="docutils literal notranslate"><span class="pre">foundation-collection-action</span></code>.</p>
<div class="section" id="markup">
<h2>Markup<a class="headerlink" href="#markup" title="Permalink to this headline">¶</a></h2>
<div class="section" id="id1">
<h3>.foundation-collection-action<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h3>
<p>Indicates the control.</p>
<p>Selector Rule:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">.</span><span class="n">foundation</span><span class="o">-</span><span class="n">collection</span><span class="o">-</span><span class="n">action</span><span class="p">,</span>
<span class="o">.</span><span class="n">foundation</span><span class="o">-</span><span class="n">collection</span><span class="o">-</span><span class="n">actionbar</span> <span class="o">.</span><span class="n">foundation</span><span class="o">-</span><span class="n">collection</span><span class="o">-</span><span class="n">action</span>
</pre></div>
</div>
</div>
<div class="section" id="data-foundation-collection-action">
<h3>[data-foundation-collection-action]<a class="headerlink" href="#data-foundation-collection-action" title="Permalink to this headline">¶</a></h3>
<p>The JSON config to configure the behaviour of <code class="docutils literal notranslate"><span class="pre">.foundation-collection-action</span></code>, which satisfies <code class="docutils literal notranslate"><span class="pre">FoundationCollectionActionConfig</span></code> interface.</p>
<p>Selector Rule:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">.</span><span class="n">foundation</span><span class="o">-</span><span class="n">collection</span><span class="o">-</span><span class="n">action</span><span class="p">[</span><span class="n">data</span><span class="o">-</span><span class="n">foundation</span><span class="o">-</span><span class="n">collection</span><span class="o">-</span><span class="n">action</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="section" id="foundation-collection-actionbar">
<h3>.foundation-collection-actionbar<a class="headerlink" href="#foundation-collection-actionbar" title="Permalink to this headline">¶</a></h3>
<p>The optional container that can be used to specify the common properties of the contained actions.</p>
<p>Selector Rule:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">.</span><span class="n">foundation</span><span class="o">-</span><span class="n">collection</span><span class="o">-</span><span class="n">actionbar</span>
</pre></div>
</div>
</div>
<div class="section" id="data-foundation-collection-actionbar-target">
<h3>[data-foundation-collection-actionbar-target]<a class="headerlink" href="#data-foundation-collection-actionbar-target" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">.foundation-collection</span></code> target of each <code class="docutils literal notranslate"><span class="pre">.foundation-collection-action</span></code> element.</p>
<p>Selector Rule:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">.</span><span class="n">foundation</span><span class="o">-</span><span class="n">collection</span><span class="o">-</span><span class="n">actionbar</span><span class="p">[</span><span class="n">data</span><span class="o">-</span><span class="n">foundation</span><span class="o">-</span><span class="n">collection</span><span class="o">-</span><span class="n">actionbar</span><span class="o">-</span><span class="n">target</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="collection-targeting">
<h2>Collection Targeting<a class="headerlink" href="#collection-targeting" title="Permalink to this headline">¶</a></h2>
<p>The control behaviour is always in the context of a certain collection element, which is determined based on the following priority:</p>
<ol class="arabic simple">
<li>If the control has <code class="docutils literal notranslate"><span class="pre">target</span></code> property of <code class="docutils literal notranslate"><span class="pre">data-foundation-collection-action</span></code> attribute, the collection is from that property.</li>
<li>If the control is a descendant of <code class="docutils literal notranslate"><span class="pre">.foundation-collection-actionbar</span></code>, the collection is from <code class="docutils literal notranslate"><span class="pre">[data-foundation-collection-actionbar-target]</span></code>.</li>
</ol>
</div>
<div class="section" id="activation-behavior">
<h2>Activation Behavior<a class="headerlink" href="#activation-behavior" title="Permalink to this headline">¶</a></h2>
<p>Upon activation, the control will execute the action as specified at action property of <code class="docutils literal notranslate"><span class="pre">data-foundation-collection-action</span></code> attribute.</p>
<p>The selections and collection passed to the action handler are based on the following priority:</p>
<ol class="arabic simple">
<li>If the control has internal data named <code class="docutils literal notranslate"><span class="pre">foundationCollectionItem</span></code> of type <code class="docutils literal notranslate"><span class="pre">HTMLElement</span></code> (jQuery: <code class="docutils literal notranslate"><span class="pre">item</span> <span class="pre">=</span> <span class="pre">control.data(&quot;foundationCollectionItem&quot;)</span></code>), the selection is that item, while the collection is the <code class="docutils literal notranslate"><span class="pre">.foundation-collection</span></code> of that item.</li>
<li>The target collection based on “Collection Targeting” section above.</li>
<li>If the control is a descendant of <code class="docutils literal notranslate"><span class="pre">.foundation-collection-item</span></code>, the selection is that item, while the collection is the <code class="docutils literal notranslate"><span class="pre">.foundation-collection</span></code> of that item.</li>
</ol>
<p>Granite UI Foundation provides some build-in actions, namely <a class="reference internal" href="action/foundation.dialog.html"><span class="doc">foundation.dialog</span></a>, <a class="reference internal" href="action/foundation.link.html"><span class="doc">foundation.link</span></a>, <a class="reference internal" href="action/foundation.pushstate.html"><span class="doc">foundation.pushstate</span></a>. Many use cases can be performed simply by leveraging these actions.</p>
</div>
<div class="section" id="showing-and-hiding-behavior">
<h2>Showing and Hiding Behavior<a class="headerlink" href="#showing-and-hiding-behavior" title="Permalink to this headline">¶</a></h2>
<p>When the control is not a descendant of <code class="docutils literal notranslate"><span class="pre">.foundation-collection-item</span></code>, the control is shown if all the following conditions are true (<code class="docutils literal notranslate"><span class="pre">AND</span></code> logic); otherwise it’s hidden:</p>
<ol class="arabic simple">
<li><code class="docutils literal notranslate"><span class="pre">activeCount</span></code> property of <code class="docutils literal notranslate"><span class="pre">data-foundation-collection-action</span></code> attribute is set and its value is evaluated to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</li>
<li><code class="docutils literal notranslate"><span class="pre">activeSelectionCount</span></code> property of <code class="docutils literal notranslate"><span class="pre">data-foundation-collection-action</span></code> attribute is set and its value is evaluated to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</li>
<li><code class="docutils literal notranslate"><span class="pre">activeCondition</span></code> property of <code class="docutils literal notranslate"><span class="pre">data-foundation-collection-action</span></code> attribute is set and its value is evaluated to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</li>
<li><code class="docutils literal notranslate"><span class="pre">ignoreRel</span></code> property of <code class="docutils literal notranslate"><span class="pre">data-foundation-collection-action</span></code> attribute is evaluated to <code class="docutils literal notranslate"><span class="pre">false</span></code> and the control matches the common relationships of all selected items. i.e. <code class="docutils literal notranslate"><span class="pre">isCommon()</span></code> is evaluated to <code class="docutils literal notranslate"><span class="pre">true</span></code>.</li>
</ol>
<div class="section" id="iscommon-algorithm">
<h3>isCommon() Algorithm<a class="headerlink" href="#iscommon-algorithm" title="Permalink to this headline">¶</a></h3>
<div class="highlight-ts notranslate"><div class="highlight"><pre><span></span><span class="cm">/**</span>
<span class="cm"> * Returns &lt;code&gt;true&lt;/code&gt; if the given control matches the common relationships of the given scope; &lt;code&gt;false&lt;/code&gt; otherwise.</span>
<span class="cm"> *</span>
<span class="cm"> * @param control The jQuery object wrapping &lt;code&gt;.foundation-collection-action&lt;/code&gt;.</span>
<span class="cm"> * @param collection The jQuery object wrapping &lt;code&gt;.foundation-collection&lt;/code&gt; specified by &lt;code&gt;target&lt;/code&gt; property of &lt;code&gt;data-foundation-collection-action&lt;/code&gt; attribute.</span>
<span class="cm"> * @param selections The jQuery object wrapping &lt;code&gt;.foundation-selections-item&lt;/code&gt; of the collection.</span>
<span class="cm"> * @param relScope The scope of the relationship.</span>
<span class="cm"> */</span>
<span class="kd">function</span> <span class="nx">isCommon</span><span class="p">(</span><span class="nx">control</span>: <span class="kt">JQuery</span><span class="p">,</span> <span class="nx">collection</span>: <span class="kt">JQuery</span><span class="p">,</span> <span class="nx">selections</span>: <span class="kt">JQuery</span><span class="p">,</span> <span class="nx">relScope</span>: <span class="kt">string</span><span class="p">)</span><span class="o">:</span> <span class="kr">boolean</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="nx">relScope</span> <span class="o">===</span> <span class="s2">&quot;none&quot;</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">if</span> <span class="p">(</span><span class="nx">relScope</span> <span class="o">===</span> <span class="s2">&quot;item&quot;</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">rels</span> <span class="o">=</span> <span class="nx">selections</span><span class="p">.</span><span class="nx">toArray</span><span class="p">().</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">item</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">var</span> <span class="nx">qa</span> <span class="o">=</span> <span class="nx">$</span><span class="p">(</span><span class="nx">item</span><span class="p">).</span><span class="nx">find</span><span class="p">(</span><span class="s2">&quot;.foundation-collection-quickactions&quot;</span><span class="p">);</span>
      <span class="kd">var</span> <span class="nx">rel</span> <span class="o">=</span> <span class="p">(</span><span class="nx">qa</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s2">&quot;foundationCollectionQuickactionsRel&quot;</span><span class="p">)</span> <span class="o">||</span> <span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">trim</span><span class="p">();</span>
      <span class="k">return</span> <span class="nx">rel</span><span class="p">.</span><span class="nx">length</span> <span class="o">?</span> <span class="nx">rel</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="sr">/\s+/</span><span class="p">)</span> <span class="o">:</span> <span class="p">[];</span>
    <span class="p">});</span>

    <span class="kd">var</span> <span class="nx">noRelAtAll</span> <span class="o">=</span> <span class="nx">rels</span><span class="p">.</span><span class="nx">every</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">v</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span><span class="p">;</span> <span class="p">});</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">noRelAtAll</span><span class="p">)</span> <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>

    <span class="k">return</span> <span class="nx">rels</span><span class="p">.</span><span class="nx">every</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="o">!</span><span class="nx">v</span><span class="p">.</span><span class="nx">every</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">rel</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="o">!</span><span class="nx">control</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="nx">rel</span><span class="p">);</span> <span class="p">});</span>
    <span class="p">});</span>
  <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">metaAPI</span> <span class="o">=</span> <span class="nx">collection</span><span class="p">.</span><span class="nx">adaptTo</span><span class="p">(</span><span class="s2">&quot;foundation-collection-meta&quot;</span><span class="p">);</span>

    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">metaAPI</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="kd">var</span> <span class="nx">rawRel</span> <span class="o">=</span> <span class="nx">metaAPI</span><span class="p">.</span><span class="nx">getRelationship</span><span class="p">()</span> <span class="o">||</span> <span class="s2">&quot;&quot;</span><span class="p">;</span>
    <span class="nx">rawRel</span> <span class="o">=</span> <span class="nx">rawRel</span><span class="p">.</span><span class="nx">trim</span><span class="p">();</span>

    <span class="kd">var</span> <span class="nx">rels</span> <span class="o">=</span> <span class="nx">rawRel</span><span class="p">.</span><span class="nx">length</span> <span class="o">?</span> <span class="nx">rawRel</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="sr">/\s+/</span><span class="p">)</span> <span class="o">:</span> <span class="p">[];</span>

    <span class="k">if</span> <span class="p">(</span><span class="nx">rels</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="kc">true</span><span class="p">;</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="nx">rels</span><span class="p">.</span><span class="nx">some</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">v</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">control</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="nx">v</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="foundationcollectionactionconfig">
<h2>FoundationCollectionActionConfig<a class="headerlink" href="#foundationcollectionactionconfig" title="Permalink to this headline">¶</a></h2>
<div class="highlight-ts notranslate"><div class="highlight"><pre><span></span><span class="kr">interface</span> <span class="nx">FoundationCollectionActionConfig</span> <span class="p">{</span>
  <span class="cm">/**</span>
<span class="cm">   * The selector to the &lt;code&gt;.foundation-collection&lt;/code&gt;.</span>
<span class="cm">   */</span>
  <span class="nx">target?</span>: <span class="kt">string</span><span class="p">;</span>

  <span class="cm">/**</span>
<span class="cm">   * The optional property to show or hide the control according to how many &lt;code&gt;.foundation-collection-item&lt;/code&gt; in the collection.</span>
<span class="cm">   *</span>
<span class="cm">   * 0: Show when there is no item at all; hide otherwise</span>
<span class="cm">   * &quot;&gt;0&quot;: Show when there is at least one item; hide otherwise</span>
<span class="cm">   */</span>
  <span class="nx">activeCount?</span>: <span class="kt">any</span><span class="p">;</span>

  <span class="cm">/**</span>
<span class="cm">   * The optional property to show or hide the control according to how many &lt;code&gt;.foundation-selections-item&lt;/code&gt; in the collection.</span>
<span class="cm">   *</span>
<span class="cm">   * &quot;none&quot;: Show when there is no selection at all; hide otherwise</span>
<span class="cm">   * &quot;single&quot;: Show when there is exactly one selection; hide otherwise</span>
<span class="cm">   * &quot;multiple&quot;: Show when there is one or more selections; hide otherwise</span>
<span class="cm">   */</span>
  <span class="nx">activeSelectionCount?</span>: <span class="kt">string</span><span class="p">;</span>

  <span class="cm">/**</span>
<span class="cm">   * The pluggable condition to show or hide the control. See ActiveCondition Registration section.</span>
<span class="cm">   */</span>
  <span class="nx">activeCondition?</span>: <span class="kt">string</span><span class="p">;</span>

  <span class="cm">/**</span>
<span class="cm">   * The pluggable action to be performed when the control is activated. See Action Registration section.</span>
<span class="cm">   * If this property is not specified, no action will be performed.</span>
<span class="cm">   */</span>
  <span class="nx">action?</span>: <span class="kt">string</span><span class="p">;</span>

  <span class="cm">/**</span>
<span class="cm">   * The scope of the relationship, when deciding if the action is shown or hidden (the &lt;code&gt;isCommon()&lt;/code&gt; algorithm).</span>
<span class="cm">   *</span>
<span class="cm">   * none</span>
<span class="cm">   *    Skip the processing of relationship.</span>
<span class="cm">   * item</span>
<span class="cm">   *    Read the relationship from the item. This is the default.</span>
<span class="cm">   * collection</span>
<span class="cm">   *    Read the relationship from the collection.</span>
<span class="cm">   */</span>
  <span class="nx">relScope?</span>: <span class="kt">string</span><span class="p">;</span>

  <span class="cm">/**</span>
<span class="cm">   * When &lt;code&gt;true&lt;/code&gt;, it is equivalent to ``relScope`` = ``none``.</span>
<span class="cm">   */</span>
  <span class="nx">ignoreRel?</span>: <span class="kt">boolean</span><span class="p">;</span>

  <span class="cm">/**</span>
<span class="cm">   * The general purpose data to be used by the action handler. Consult specific action handler for details.</span>
<span class="cm">   */</span>
  <span class="nx">data?</span>: <span class="kt">any</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="action-registration">
<span id="foundation-collection-action-action"></span><h2>Action Registration<a class="headerlink" href="#action-registration" title="Permalink to this headline">¶</a></h2>
<p>The action of <code class="docutils literal notranslate"><span class="pre">.foundation-collection-action</span></code> can be registered to the <a class="reference internal" href="../../registry/index.html"><span class="doc">registry</span></a> using <code class="docutils literal notranslate"><span class="pre">foundation.collection.action.action</span></code> as the name and the config satisfying the following interface:</p>
<div class="highlight-ts notranslate"><div class="highlight"><pre><span></span><span class="kr">interface</span> <span class="nx">FoundationCollectionActionActionAdapter</span> <span class="p">{</span>
  <span class="cm">/**</span>
<span class="cm">   * The name of the action. It is recommended that it is namespaced using dot notation according to application that register the action.</span>
<span class="cm">   * &quot;foundation&quot; namespace is reserved for Granite UI.</span>
<span class="cm">   *</span>
<span class="cm">   * @example</span>
<span class="cm">   * foundation.link</span>
<span class="cm">   */</span>
  <span class="nx">name</span>: <span class="kt">string</span><span class="p">;</span>

  <span class="cm">/**</span>
<span class="cm">   * The handler to actually perform the action.</span>
<span class="cm">   * If &lt;code&gt;false&lt;/code&gt; is returned, the next action in the chain will be evaluated. Otherwise the chain stops.</span>
<span class="cm">   *</span>
<span class="cm">   * @param name The name of the action</span>
<span class="cm">   * @param el The element of the &lt;code&gt;.foundation-collection-action&lt;/code&gt;</span>
<span class="cm">   * @param config The value of &lt;code&gt;[data-foundation-collection-action]&lt;/code&gt;</span>
<span class="cm">   * @param collection The &lt;code&gt;.foundation-collection&lt;/code&gt; associated to the action</span>
<span class="cm">   * @param selections The array of &lt;code&gt;.foundation-selections-item&lt;/code&gt; elements of the collection</span>
<span class="cm">   */</span>
  <span class="nx">handler</span><span class="o">:</span> <span class="p">(</span><span class="nx">name</span>: <span class="kt">string</span><span class="p">,</span> <span class="nx">el</span>: <span class="kt">Element</span><span class="p">,</span> <span class="nx">config</span>: <span class="kt">FoundationCollectionActionConfig</span><span class="p">,</span> <span class="nx">collection</span>: <span class="kt">Element</span><span class="p">,</span> <span class="nx">selections</span>: <span class="kt">Element</span><span class="p">[])</span> <span class="o">=&gt;</span> <span class="kr">boolean</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>A chain of registered actions is created using LIFO (last in, first out) algorithm. The action handler will be called when the name matches. If false is returned by the handler, the next action in the chain will be evaluated. Otherwise the chain stops.</p>
<div class="section" id="example">
<h3>Example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h3>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">$</span><span class="p">(</span><span class="nb">window</span><span class="p">).</span><span class="nx">adaptTo</span><span class="p">(</span><span class="s2">&quot;foundation-registry&quot;</span><span class="p">).</span><span class="nx">register</span><span class="p">(</span><span class="s2">&quot;foundation.collection.action.action&quot;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;foundation.link&quot;</span><span class="p">,</span>
  <span class="nx">handler</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">el</span><span class="p">,</span> <span class="nx">config</span><span class="p">,</span> <span class="nx">collection</span><span class="p">,</span> <span class="nx">selections</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="nx">URITemplate</span><span class="p">.</span><span class="nx">expand</span><span class="p">(</span><span class="nx">config</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">href</span><span class="p">,</span> <span class="p">{</span>
      <span class="nx">item</span><span class="o">:</span> <span class="nx">selections</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">item</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">$</span><span class="p">(</span><span class="nx">item</span><span class="p">).</span><span class="nx">data</span><span class="p">(</span><span class="s2">&quot;foundation-collection-item-id&quot;</span><span class="p">);</span> <span class="p">})</span>
    <span class="p">});</span>

    <span class="nb">window</span><span class="p">.</span><span class="nx">location</span> <span class="o">=</span> <span class="nx">url</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="activecondition-registration">
<h2>ActiveCondition Registration<a class="headerlink" href="#activecondition-registration" title="Permalink to this headline">¶</a></h2>
<p>The activeCondition of <code class="docutils literal notranslate"><span class="pre">.foundation-collection-action</span></code> can be registered to the <a class="reference internal" href="../../registry/index.html"><span class="doc">registry</span></a> using <code class="docutils literal notranslate"><span class="pre">foundation.collection.action.activecondition</span></code> as the name and the config satisfying the following interface:</p>
<div class="highlight-ts notranslate"><div class="highlight"><pre><span></span><span class="kr">interface</span> <span class="nx">FoundationCollectionActionActiveConditionAdapter</span> <span class="p">{</span>
  <span class="cm">/**</span>
<span class="cm">   * The name of the activeCondition. It is recommended that it is namespaced using dot notation according to application that register the action.</span>
<span class="cm">   * &quot;foundation&quot; namespace is reserved for Granite UI.</span>
<span class="cm">   *</span>
<span class="cm">   * @example</span>
<span class="cm">   * project.edit</span>
<span class="cm">   */</span>
  <span class="nx">name</span>: <span class="kt">string</span><span class="p">;</span>

  <span class="cm">/**</span>
<span class="cm">   * The handler to actually perform the condition.</span>
<span class="cm">   *</span>
<span class="cm">   * Returns &lt;code&gt;true&lt;/code&gt; to show the control; &lt;code&gt;false&lt;/code&gt; to hide the control. Both will stop the chain.</span>
<span class="cm">   * Otherwise the next condition in the chain will be evaluated if any other value is returned.</span>
<span class="cm">   *</span>
<span class="cm">   * @param name The name of the condition</span>
<span class="cm">   * @param el The element of the &lt;code&gt;.foundation-collection-action&lt;/code&gt;</span>
<span class="cm">   * @param config The value of &lt;code&gt;[data-foundation-collection-action]&lt;/code&gt;</span>
<span class="cm">   * @param collection The &lt;code&gt;.foundation-collection&lt;/code&gt; associated to the action</span>
<span class="cm">   * @param selections The array of &lt;code&gt;.foundation-selections-item&lt;/code&gt; elements of the collection</span>
<span class="cm">   */</span>
  <span class="nx">handler</span><span class="o">:</span> <span class="p">(</span><span class="nx">name</span>: <span class="kt">string</span><span class="p">,</span> <span class="nx">el</span>: <span class="kt">Element</span><span class="p">,</span> <span class="nx">config</span>: <span class="kt">FoundationCollectionActionConfig</span><span class="p">,</span> <span class="nx">collection</span>: <span class="kt">Element</span><span class="p">,</span> <span class="nx">selections</span>: <span class="kt">Element</span><span class="p">[])</span> <span class="o">=&gt;</span> <span class="kr">boolean</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>A chain of registered activeConditions is created using LIFO (last in, first out) algorithm. The activeCondition handler will be called when the name matches.</p>
<div class="section" id="id2">
<h3>Example<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<div class="highlight-js notranslate"><div class="highlight"><pre><span></span><span class="nx">$</span><span class="p">(</span><span class="nb">window</span><span class="p">).</span><span class="nx">adaptTo</span><span class="p">(</span><span class="s2">&quot;foundation-registry&quot;</span><span class="p">).</span><span class="nx">register</span><span class="p">(</span><span class="s2">&quot;foundation.collection.action.activecondition&quot;</span><span class="p">,</span> <span class="p">{</span>
  <span class="nx">name</span><span class="o">:</span> <span class="s2">&quot;project.edit&quot;</span><span class="p">,</span>
  <span class="nx">handler</span><span class="o">:</span> <span class="kd">function</span><span class="p">(</span><span class="nx">name</span><span class="p">,</span> <span class="nx">el</span><span class="p">,</span> <span class="nx">config</span><span class="p">,</span> <span class="nx">collection</span><span class="p">,</span> <span class="nx">selections</span><span class="p">)</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="nx">URITemplate</span><span class="p">.</span><span class="nx">expand</span><span class="p">(</span><span class="nx">config</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">href</span><span class="p">,</span> <span class="p">{</span>
      <span class="nx">item</span><span class="o">:</span> <span class="nx">selections</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">item</span><span class="p">)</span> <span class="p">{</span> <span class="k">return</span> <span class="nx">$</span><span class="p">(</span><span class="nx">item</span><span class="p">).</span><span class="nx">data</span><span class="p">(</span><span class="s2">&quot;foundation-collection-item-id&quot;</span><span class="p">);</span> <span class="p">})</span>
    <span class="p">});</span>

    <span class="k">return</span> <span class="nx">url</span><span class="p">.</span><span class="nx">indexOf</span><span class="p">(</span><span class="s2">&quot;/content&quot;</span><span class="p">)</span> <span class="o">!==</span> <span class="mi">0</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">});</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="id3">
<h2>Example<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h2>
<p>Given the following markup representing a collection:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">coral-masonry</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;my-collection&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;foundation-collection&quot;</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">coral-masonry-item</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;foundation-collection-item&quot;</span> <span class="na">data-foundation-collection-item-id</span><span class="o">=</span><span class="s">&quot;item1&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">coral-masonry-item</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">coral-masonry-item</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;foundation-collection-item&quot;</span> <span class="na">data-foundation-collection-item-id</span><span class="o">=</span><span class="s">&quot;item2&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">coral-masonry-item</span><span class="p">&gt;</span>
  <span class="p">&lt;</span><span class="nt">coral-masonry-item</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;foundation-collection-item&quot;</span> <span class="na">data-foundation-collection-item-id</span><span class="o">=</span><span class="s">&quot;item3&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">coral-masonry-item</span><span class="p">&gt;</span>
<span class="p">&lt;/</span><span class="nt">coral-masonry</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>We want to setup a button to navigate to a certain URL based on the selected items. This button needs to be shown when there are multiple items selected.</p>
<p>We do this by setting up a <code class="docutils literal notranslate"><span class="pre">&lt;button&gt;</span></code> annotated with <code class="docutils literal notranslate"><span class="pre">foundation-collection-action</span></code> with <code class="docutils literal notranslate"><span class="pre">action</span></code> =
<a class="reference internal" href="action/foundation.link.html"><span class="doc">foundation.link</span></a>:</p>
<div class="highlight-html notranslate"><div class="highlight"><pre><span></span><span class="p">&lt;</span><span class="nt">button</span>
  <span class="na">class</span><span class="o">=</span><span class="s">&quot;foundation-collection-action&quot;</span>
  <span class="na">data-foundation-collection-action</span><span class="o">=</span><span class="s">&#39;{&quot;target&quot;: &quot;#my-collection&quot;, &quot;activeSelectionCount&quot;: &quot;multiple&quot;, &quot;action&quot;: &quot;foundation.link&quot;, &quot;data&quot;: {&quot;href&quot;: &quot;/my/link.html{?item*}&quot;}&#39;</span><span class="p">&gt;</span>Navigate<span class="p">&lt;/</span><span class="nt">button</span><span class="p">&gt;</span>
</pre></div>
</div>
<p>When the user selects the first and second items (id = <code class="docutils literal notranslate"><span class="pre">item1</span></code> and <code class="docutils literal notranslate"><span class="pre">item2</span></code> respectively) then activates the button, the page will navigate to <code class="docutils literal notranslate"><span class="pre">/my/link.html?item=item1&amp;item=item2</span></code>.</p>
</div>
<div class="section" id="relationship-graph">
<h2>Relationship Graph<a class="headerlink" href="#relationship-graph" title="Permalink to this headline">¶</a></h2>
<div class="graphviz"><object data="../../../../../../../../../../../../_images/graphviz-f215704d49492782f6f81168671c55e4f4088778.svg" type="image/svg+xml" class="graphviz">
<p class="warning">digraph &quot;foundation-collection&quot; {
  rankdir=BT;
  &quot;foundation-selections&quot; -&gt; &quot;foundation-collection&quot; [label=&quot;extends&quot;, weight=8];
  &quot;foundation-collection-action&quot; -&gt; &quot;foundation-selections&quot; [label=&quot;reacts to&quot;];
  &quot;foundation.dialog&quot; -&gt; &quot;foundation-collection-action&quot; [label=&quot;provides action to&quot;];
  &quot;foundation.link&quot; -&gt; &quot;foundation-collection-action&quot; [label=&quot;provides action to&quot;];
  &quot;foundation.pushstate&quot; -&gt; &quot;foundation-collection-action&quot; [label=&quot;provides action to&quot;];
}</p></object></div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../../../../../../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">foundation-collection-action</a><ul>
<li><a class="reference internal" href="#markup">Markup</a><ul>
<li><a class="reference internal" href="#id1">.foundation-collection-action</a></li>
<li><a class="reference internal" href="#data-foundation-collection-action">[data-foundation-collection-action]</a></li>
<li><a class="reference internal" href="#foundation-collection-actionbar">.foundation-collection-actionbar</a></li>
<li><a class="reference internal" href="#data-foundation-collection-actionbar-target">[data-foundation-collection-actionbar-target]</a></li>
</ul>
</li>
<li><a class="reference internal" href="#collection-targeting">Collection Targeting</a></li>
<li><a class="reference internal" href="#activation-behavior">Activation Behavior</a></li>
<li><a class="reference internal" href="#showing-and-hiding-behavior">Showing and Hiding Behavior</a><ul>
<li><a class="reference internal" href="#iscommon-algorithm">isCommon() Algorithm</a></li>
</ul>
</li>
<li><a class="reference internal" href="#foundationcollectionactionconfig">FoundationCollectionActionConfig</a></li>
<li><a class="reference internal" href="#action-registration">Action Registration</a><ul>
<li><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#activecondition-registration">ActiveCondition Registration</a><ul>
<li><a class="reference internal" href="#id2">Example</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id3">Example</a></li>
<li><a class="reference internal" href="#relationship-graph">Relationship Graph</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../../autocomplete/index.html"
                        title="previous chapter">foundation-autocomplete</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="action/foundation.dialog.html"
                        title="next chapter">foundation.collection.action.action: foundation.dialog</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../../../../../../../../../../_sources/jcr_root/libs/granite/ui/components/coral/foundation/clientlibs/foundation/js/collection/action/index.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../../../../../../../../../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../../../../../../../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="action/foundation.dialog.html" title="foundation.collection.action.action: foundation.dialog"
             >next</a> |</li>
        <li class="right" >
          <a href="../../autocomplete/index.html" title="foundation-autocomplete"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../../../../../../index.html">Granite UI 1.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../../../../index.html" >Granite UI Foundation</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="../../../index.html" >Granite UI Foundation Client-side</a> &#187;</li>
          <li class="nav-item nav-item-3"><a href="../../index.html" >Granite UI Foundation JS Components</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Adobe Systems Incorporated.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.3.
    </div>
  </body>
</html>