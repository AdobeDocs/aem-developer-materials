<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_272) on Fri Nov 24 07:37:51 UTC 2023 -->
<title>LuceneIndex (The Adobe AEM Quickstart and Web Application.)</title>
<meta name="date" content="2023-11-24">
<link rel="stylesheet" type="text/css" href="../../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="LuceneIndex (The Adobe AEM Quickstart and Web Application.)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../org/apache/jackrabbit/oak/plugins/index/lucene/LuceneDocumentMaker.html" title="class in org.apache.jackrabbit.oak.plugins.index.lucene"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexConstants.html" title="interface in org.apache.jackrabbit.oak.plugins.index.lucene"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndex.html" target="_top">Frames</a></li>
<li><a href="LuceneIndex.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.jackrabbit.oak.plugins.index.lucene</div>
<h2 title="Class LuceneIndex" class="title">Class LuceneIndex</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.jackrabbit.oak.plugins.index.lucene.LuceneIndex</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex</a>, <a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.AdvancedQueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.AdvancedQueryIndex</a>, <a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.AdvanceFulltextQueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.AdvanceFulltextQueryIndex</a>, <a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.FulltextQueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.FulltextQueryIndex</a>, <a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.NativeQueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.NativeQueryIndex</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">LuceneIndex</span>
extends java.lang.Object
implements <a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.AdvanceFulltextQueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.AdvanceFulltextQueryIndex</a></pre>
<div class="block">Used to query old (compatVersion 1) Lucene indexes.

 Provides a QueryIndex that does lookups against a Lucene-based index

 <p>
 To define a lucene index on a subtree you have to add an
 <code>oak:index</code> node.

 Under it follows the index definition node that:
 <ul>
 <li>must be of type <code>oak:QueryIndexDefinition</code></li>
 <li>must have the <code>type</code> property set to <b><code>lucene</code></b></li>
 <li>must have the <code>async</code> property set to <b><code>async</code></b></li>
 </ul>
 <p>
 Optionally you can add
 <ul>
 <li>what subset of property types to be included in the index via the <code>includePropertyTypes</code> property</li>
 <li>a blacklist of property names: what property to be excluded from the index via the <code>excludePropertyNames</code> property</li>
 <li>the <code>reindex</code> flag which when set to <code>true</code>, triggers a full content re-index.</li>
 </ul>
 <pre><code>
 {
     NodeBuilder index = root.child("oak:index");
     index.child("lucene")
         .setProperty("jcr:primaryType", "oak:QueryIndexDefinition", Type.NAME)
         .setProperty("type", "lucene")
         .setProperty("async", "async")
         .setProperty("reindex", "true");
 }
 </code></pre></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query"><code>QueryIndex</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<ul class="blockList">
<li class="blockList"><a name="nested.classes.inherited.from.class.org.apache.jackrabbit.oak.spi.query.QueryIndex">
<!--   -->
</a>
<h3>Nested classes/interfaces inherited from interface&nbsp;org.apache.jackrabbit.oak.spi.query.<a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex</a></h3>
<code><a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.AdvancedQueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.AdvancedQueryIndex</a>, <a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.AdvanceFulltextQueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.AdvanceFulltextQueryIndex</a>, <a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.FulltextQueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.FulltextQueryIndex</a>, <a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.IndexPlan.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.IndexPlan</a>, <a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.NativeQueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.NativeQueryIndex</a>, <a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.NodeAggregator.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.NodeAggregator</a>, <a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.OrderEntry.html" title="class in org.apache.jackrabbit.oak.spi.query">QueryIndex.OrderEntry</a></code></li>
</ul>
</li>
</ul>
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndex.html#NATIVE_QUERY_FUNCTION">NATIVE_QUERY_FUNCTION</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndex.html#LuceneIndex-org.apache.jackrabbit.oak.plugins.index.lucene.IndexTracker-org.apache.jackrabbit.oak.spi.query.QueryIndex.NodeAggregator-">LuceneIndex</a></span>(<a href="../../../../../../../org/apache/jackrabbit/oak/plugins/index/lucene/IndexTracker.html" title="class in org.apache.jackrabbit.oak.plugins.index.lucene">IndexTracker</a>&nbsp;tracker,
           <a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.NodeAggregator.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.NodeAggregator</a>&nbsp;aggregator)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndex.html#getCost-org.apache.jackrabbit.oak.spi.query.Filter-org.apache.jackrabbit.oak.spi.state.NodeState-">getCost</a></span>(<a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/Filter.html" title="interface in org.apache.jackrabbit.oak.spi.query">Filter</a>&nbsp;filter,
       <a href="../../../../../../../org/apache/jackrabbit/oak/spi/state/NodeState.html" title="interface in org.apache.jackrabbit.oak.spi.state">NodeState</a>&nbsp;root)</code>
<div class="block">Estimate the worst-case cost to query with the given filter.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndex.html#getIndexName--">getIndexName</a></span>()</code>
<div class="block">Get the generic index name (normally the index type).</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndex.html#getMinimumCost--">getMinimumCost</a></span>()</code>
<div class="block">Returns the minimum cost which <a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.html#getCost-org.apache.jackrabbit.oak.spi.query.Filter-org.apache.jackrabbit.oak.spi.state.NodeState-"><code>QueryIndex.getCost(Filter, NodeState)</code></a> would return in the best possible case.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.NodeAggregator.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.NodeAggregator</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndex.html#getNodeAggregator--">getNodeAggregator</a></span>()</code>
<div class="block">Returns the NodeAggregator responsible for providing the aggregation
 settings or null if aggregation is not available/desired.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndex.html#getPlan-org.apache.jackrabbit.oak.spi.query.Filter-org.apache.jackrabbit.oak.spi.state.NodeState-">getPlan</a></span>(<a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/Filter.html" title="interface in org.apache.jackrabbit.oak.spi.query">Filter</a>&nbsp;filter,
       <a href="../../../../../../../org/apache/jackrabbit/oak/spi/state/NodeState.html" title="interface in org.apache.jackrabbit.oak.spi.state">NodeState</a>&nbsp;root)</code>
<div class="block">Get the query plan for the given filter.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndex.html#getPlanDescription-org.apache.jackrabbit.oak.spi.query.QueryIndex.IndexPlan-org.apache.jackrabbit.oak.spi.state.NodeState-">getPlanDescription</a></span>(<a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.IndexPlan.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.IndexPlan</a>&nbsp;plan,
                  <a href="../../../../../../../org/apache/jackrabbit/oak/spi/state/NodeState.html" title="interface in org.apache.jackrabbit.oak.spi.state">NodeState</a>&nbsp;root)</code>
<div class="block">Get the query plan description (for logging purposes).</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>java.util.List&lt;<a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.IndexPlan.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.IndexPlan</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndex.html#getPlans-org.apache.jackrabbit.oak.spi.query.Filter-java.util.List-org.apache.jackrabbit.oak.spi.state.NodeState-">getPlans</a></span>(<a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/Filter.html" title="interface in org.apache.jackrabbit.oak.spi.query">Filter</a>&nbsp;filter,
        java.util.List&lt;<a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.OrderEntry.html" title="class in org.apache.jackrabbit.oak.spi.query">QueryIndex.OrderEntry</a>&gt;&nbsp;sortOrder,
        <a href="../../../../../../../org/apache/jackrabbit/oak/spi/state/NodeState.html" title="interface in org.apache.jackrabbit.oak.spi.state">NodeState</a>&nbsp;rootState)</code>
<div class="block">Return the possible index plans for the given filter and sort order.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/Cursor.html" title="interface in org.apache.jackrabbit.oak.spi.query">Cursor</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndex.html#query-org.apache.jackrabbit.oak.spi.query.Filter-org.apache.jackrabbit.oak.spi.state.NodeState-">query</a></span>(<a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/Filter.html" title="interface in org.apache.jackrabbit.oak.spi.query">Filter</a>&nbsp;filter,
     <a href="../../../../../../../org/apache/jackrabbit/oak/spi/state/NodeState.html" title="interface in org.apache.jackrabbit.oak.spi.state">NodeState</a>&nbsp;root)</code>
<div class="block">Query the index.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code><a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/Cursor.html" title="interface in org.apache.jackrabbit.oak.spi.query">Cursor</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../../../../org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndex.html#query-org.apache.jackrabbit.oak.spi.query.QueryIndex.IndexPlan-org.apache.jackrabbit.oak.spi.state.NodeState-">query</a></span>(<a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.IndexPlan.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.IndexPlan</a>&nbsp;plan,
     <a href="../../../../../../../org/apache/jackrabbit/oak/spi/state/NodeState.html" title="interface in org.apache.jackrabbit.oak.spi.state">NodeState</a>&nbsp;rootState)</code>
<div class="block">Start a query.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.jackrabbit.oak.spi.query.QueryIndex">
<!--   -->
</a>
<h3>Methods inherited from interface&nbsp;org.apache.jackrabbit.oak.spi.query.<a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex</a></h3>
<code><a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.html#getIndexName-org.apache.jackrabbit.oak.spi.query.Filter-org.apache.jackrabbit.oak.spi.state.NodeState-">getIndexName</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="NATIVE_QUERY_FUNCTION">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>NATIVE_QUERY_FUNCTION</h4>
<pre>public static final&nbsp;java.lang.String NATIVE_QUERY_FUNCTION</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../../../constant-values.html#org.apache.jackrabbit.oak.plugins.index.lucene.LuceneIndex.NATIVE_QUERY_FUNCTION">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="LuceneIndex-org.apache.jackrabbit.oak.plugins.index.lucene.IndexTracker-org.apache.jackrabbit.oak.spi.query.QueryIndex.NodeAggregator-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>LuceneIndex</h4>
<pre>public&nbsp;LuceneIndex(<a href="../../../../../../../org/apache/jackrabbit/oak/plugins/index/lucene/IndexTracker.html" title="class in org.apache.jackrabbit.oak.plugins.index.lucene">IndexTracker</a>&nbsp;tracker,
                   <a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.NodeAggregator.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.NodeAggregator</a>&nbsp;aggregator)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getMinimumCost--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMinimumCost</h4>
<pre>public&nbsp;double&nbsp;getMinimumCost()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.html#getMinimumCost--">QueryIndex</a></code></span></div>
<div class="block">Returns the minimum cost which <a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.html#getCost-org.apache.jackrabbit.oak.spi.query.Filter-org.apache.jackrabbit.oak.spi.state.NodeState-"><code>QueryIndex.getCost(Filter, NodeState)</code></a> would return in the best possible case.
 <p>
 The implementation should return a static/cached value because it is called very often.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.html#getMinimumCost--">getMinimumCost</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the minimum cost for the index</dd>
</dl>
</li>
</ul>
<a name="getIndexName--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getIndexName</h4>
<pre>public&nbsp;java.lang.String&nbsp;getIndexName()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.html#getIndexName--">QueryIndex</a></code></span></div>
<div class="block">Get the generic index name (normally the index type).</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.html#getIndexName--">getIndexName</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the index name</dd>
</dl>
</li>
</ul>
<a name="getPlans-org.apache.jackrabbit.oak.spi.query.Filter-java.util.List-org.apache.jackrabbit.oak.spi.state.NodeState-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPlans</h4>
<pre>public&nbsp;java.util.List&lt;<a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.IndexPlan.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.IndexPlan</a>&gt;&nbsp;getPlans(<a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/Filter.html" title="interface in org.apache.jackrabbit.oak.spi.query">Filter</a>&nbsp;filter,
                                                     java.util.List&lt;<a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.OrderEntry.html" title="class in org.apache.jackrabbit.oak.spi.query">QueryIndex.OrderEntry</a>&gt;&nbsp;sortOrder,
                                                     <a href="../../../../../../../org/apache/jackrabbit/oak/spi/state/NodeState.html" title="interface in org.apache.jackrabbit.oak.spi.state">NodeState</a>&nbsp;rootState)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.AdvancedQueryIndex.html#getPlans-org.apache.jackrabbit.oak.spi.query.Filter-java.util.List-org.apache.jackrabbit.oak.spi.state.NodeState-">QueryIndex.AdvancedQueryIndex</a></code></span></div>
<div class="block">Return the possible index plans for the given filter and sort order.
 Please note this method is supposed to run quickly. That means it
 should usually not read any data from the storage.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.AdvancedQueryIndex.html#getPlans-org.apache.jackrabbit.oak.spi.query.Filter-java.util.List-org.apache.jackrabbit.oak.spi.state.NodeState-">getPlans</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.AdvancedQueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.AdvancedQueryIndex</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>filter</code> - the filter</dd>
<dd><code>sortOrder</code> - the sort order or null if no sorting is required</dd>
<dd><code>rootState</code> - root state of the current repository snapshot</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the list of index plans (null if none)</dd>
</dl>
</li>
</ul>
<a name="getCost-org.apache.jackrabbit.oak.spi.query.Filter-org.apache.jackrabbit.oak.spi.state.NodeState-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCost</h4>
<pre>public&nbsp;double&nbsp;getCost(<a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/Filter.html" title="interface in org.apache.jackrabbit.oak.spi.query">Filter</a>&nbsp;filter,
                      <a href="../../../../../../../org/apache/jackrabbit/oak/spi/state/NodeState.html" title="interface in org.apache.jackrabbit.oak.spi.state">NodeState</a>&nbsp;root)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.html#getCost-org.apache.jackrabbit.oak.spi.query.Filter-org.apache.jackrabbit.oak.spi.state.NodeState-">QueryIndex</a></code></span></div>
<div class="block">Estimate the worst-case cost to query with the given filter. The returned
 cost is a value between 1 (very fast; lookup of a unique node) and the
 estimated number of entries to traverse, if the cursor would be fully
 read, and if there could in theory be one network roundtrip or disk read
 operation per node (this method may return a lower number if the data is
 known to be fully in memory).
 <p>
 The returned value is supposed to be an estimate and doesn't have to be
 very accurate. Please note this method is called on each index whenever a
 query is run, so the method should be reasonably fast (not read any data
 itself, or at least not read too much data).
 <p>
 If an index implementation can not query the data, it has to return
 <code>Double.MAX_VALUE</code>.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.html#getCost-org.apache.jackrabbit.oak.spi.query.Filter-org.apache.jackrabbit.oak.spi.state.NodeState-">getCost</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>filter</code> - the filter</dd>
<dd><code>root</code> - root state of the current repository snapshot</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the estimated cost in number of read nodes</dd>
</dl>
</li>
</ul>
<a name="getPlan-org.apache.jackrabbit.oak.spi.query.Filter-org.apache.jackrabbit.oak.spi.state.NodeState-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPlan</h4>
<pre>public&nbsp;java.lang.String&nbsp;getPlan(<a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/Filter.html" title="interface in org.apache.jackrabbit.oak.spi.query">Filter</a>&nbsp;filter,
                                <a href="../../../../../../../org/apache/jackrabbit/oak/spi/state/NodeState.html" title="interface in org.apache.jackrabbit.oak.spi.state">NodeState</a>&nbsp;root)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.html#getPlan-org.apache.jackrabbit.oak.spi.query.Filter-org.apache.jackrabbit.oak.spi.state.NodeState-">QueryIndex</a></code></span></div>
<div class="block">Get the query plan for the given filter. This method is called when
 running an <code>EXPLAIN SELECT</code> query, or for logging purposes. The
 result should be human readable.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.html#getPlan-org.apache.jackrabbit.oak.spi.query.Filter-org.apache.jackrabbit.oak.spi.state.NodeState-">getPlan</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>filter</code> - the filter</dd>
<dd><code>root</code> - root state of the current repository snapshot</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the query plan</dd>
</dl>
</li>
</ul>
<a name="getPlanDescription-org.apache.jackrabbit.oak.spi.query.QueryIndex.IndexPlan-org.apache.jackrabbit.oak.spi.state.NodeState-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPlanDescription</h4>
<pre>public&nbsp;java.lang.String&nbsp;getPlanDescription(<a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.IndexPlan.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.IndexPlan</a>&nbsp;plan,
                                           <a href="../../../../../../../org/apache/jackrabbit/oak/spi/state/NodeState.html" title="interface in org.apache.jackrabbit.oak.spi.state">NodeState</a>&nbsp;root)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.AdvancedQueryIndex.html#getPlanDescription-org.apache.jackrabbit.oak.spi.query.QueryIndex.IndexPlan-org.apache.jackrabbit.oak.spi.state.NodeState-">QueryIndex.AdvancedQueryIndex</a></code></span></div>
<div class="block">Get the query plan description (for logging purposes).
 <p>
 The index plan is one of the plans that the index returned in the
 getPlans call.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.AdvancedQueryIndex.html#getPlanDescription-org.apache.jackrabbit.oak.spi.query.QueryIndex.IndexPlan-org.apache.jackrabbit.oak.spi.state.NodeState-">getPlanDescription</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.AdvancedQueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.AdvancedQueryIndex</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>plan</code> - the index plan</dd>
<dd><code>root</code> - root state of the current repository snapshot</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the query plan description</dd>
</dl>
</li>
</ul>
<a name="query-org.apache.jackrabbit.oak.spi.query.Filter-org.apache.jackrabbit.oak.spi.state.NodeState-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>query</h4>
<pre>public&nbsp;<a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/Cursor.html" title="interface in org.apache.jackrabbit.oak.spi.query">Cursor</a>&nbsp;query(<a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/Filter.html" title="interface in org.apache.jackrabbit.oak.spi.query">Filter</a>&nbsp;filter,
                    <a href="../../../../../../../org/apache/jackrabbit/oak/spi/state/NodeState.html" title="interface in org.apache.jackrabbit.oak.spi.state">NodeState</a>&nbsp;root)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.html#query-org.apache.jackrabbit.oak.spi.query.Filter-org.apache.jackrabbit.oak.spi.state.NodeState-">QueryIndex</a></code></span></div>
<div class="block">Query the index. The returned cursor is supposed to return as few nodes
 as possible, but may return more nodes than necessary.
 <p>
 An implementation should only filter the result if it can do so easily
 and efficiently; the query engine will verify the data again (in memory)
 and check for access rights.
 <p>
 The method is only called if this index is used for the given query and
 selector, which is only the case if the given index implementation
 returned the lowest cost for the given filter. If the implementation
 returned <code>Double.MAX_VALUE</code> in the getCost method for the given
 filter, then this method is not called. If it is still called, then it is
 supposed to throw an exception (as it would be an internal error of the
 query engine).</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.html#query-org.apache.jackrabbit.oak.spi.query.Filter-org.apache.jackrabbit.oak.spi.state.NodeState-">query</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>filter</code> - the filter</dd>
<dd><code>root</code> - root state of the current repository snapshot</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a cursor to iterate over the result</dd>
</dl>
</li>
</ul>
<a name="query-org.apache.jackrabbit.oak.spi.query.QueryIndex.IndexPlan-org.apache.jackrabbit.oak.spi.state.NodeState-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>query</h4>
<pre>public&nbsp;<a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/Cursor.html" title="interface in org.apache.jackrabbit.oak.spi.query">Cursor</a>&nbsp;query(<a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.IndexPlan.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.IndexPlan</a>&nbsp;plan,
                    <a href="../../../../../../../org/apache/jackrabbit/oak/spi/state/NodeState.html" title="interface in org.apache.jackrabbit.oak.spi.state">NodeState</a>&nbsp;rootState)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.AdvancedQueryIndex.html#query-org.apache.jackrabbit.oak.spi.query.QueryIndex.IndexPlan-org.apache.jackrabbit.oak.spi.state.NodeState-">QueryIndex.AdvancedQueryIndex</a></code></span></div>
<div class="block">Start a query. The filter and sort order of the index plan is to be
 used.
 <p>
 The index plan is one of the plans that the index returned in the
 getPlans call.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.AdvancedQueryIndex.html#query-org.apache.jackrabbit.oak.spi.query.QueryIndex.IndexPlan-org.apache.jackrabbit.oak.spi.state.NodeState-">query</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.AdvancedQueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.AdvancedQueryIndex</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>plan</code> - the index plan to use</dd>
<dd><code>rootState</code> - root state of the current repository snapshot</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a cursor to iterate over the result</dd>
</dl>
</li>
</ul>
<a name="getNodeAggregator--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getNodeAggregator</h4>
<pre>public&nbsp;<a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.NodeAggregator.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.NodeAggregator</a>&nbsp;getNodeAggregator()</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.FulltextQueryIndex.html#getNodeAggregator--">QueryIndex.FulltextQueryIndex</a></code></span></div>
<div class="block">Returns the NodeAggregator responsible for providing the aggregation
 settings or null if aggregation is not available/desired.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.FulltextQueryIndex.html#getNodeAggregator--">getNodeAggregator</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../../../../org/apache/jackrabbit/oak/spi/query/QueryIndex.FulltextQueryIndex.html" title="interface in org.apache.jackrabbit.oak.spi.query">QueryIndex.FulltextQueryIndex</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the node aggregator or null</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../../org/apache/jackrabbit/oak/plugins/index/lucene/LuceneDocumentMaker.html" title="class in org.apache.jackrabbit.oak.plugins.index.lucene"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../../../../../org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndexConstants.html" title="interface in org.apache.jackrabbit.oak.plugins.index.lucene"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../../index.html?org/apache/jackrabbit/oak/plugins/index/lucene/LuceneIndex.html" target="_top">Frames</a></li>
<li><a href="LuceneIndex.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &copy; 2010 - 2023 Adobe. All Rights Reserved</small></p>
</body>
</html>
