<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head><title>JCR 1.0: 8.3.3 Observation Manager (Content Repository for Java Technology API)</title><meta http-equiv="CONTENT-TYPE" content="text/html; charset=utf-8"></meta><link rel="stylesheet" type="text/css" href="main.css"></link></head><body><script type="text/javascript" src="header.js"></script><script type="text/javascript" src="nav.js"></script>		<h4>
			<a name="section_8.3.3." id="section_8.3.3."></a>8.3.3 Observation Manager
		</h4>
		
			
				
					
						
							
								<p class="c5">
									The <b>ObservationManager</b> interface supports listener registration and deregistration.
								</p>
							
						
					
					
						<table border="1" cellpadding="7" cellspacing="0">
							
							
							<tr>
								<td colspan="2" valign="top">
									<p class="c12">
										javax.jcr.observation.<b><br>
										ObservationManager</b>
									</p>
								</td>
							</tr>
							<tr valign="top">
								<td>
									<p class="c12">
										<b>void</b>
									</p>
								</td>
								<td>
									<p class="c5">
										<b>addEventListener(EventListener listener,<br>
										int eventTypes,<br>
										String absPath,<br>
										boolean isDeep,<br>
										String[] uuid,<br>
										String[] nodeTypeName,<br>
										boolean noLocal)</b>
									</p>
									<p class="c5">
										Adds an event listener that listens for the specified <b>eventTypes</b> (a combination of one or more event types encoded as a bit mask value).
									</p>
									<p class="c5">
										The set of events can be filtered by specifying restrictions based on characteristics of the <i>associated parent node</i> of the event. The associated parent node of an event is the parent node of the item at (or formerly at) the path returned by <b>Event.getPath</b>. The following restrictions are available:
									</p>
									<ul>
										<li>
											<p class="c5">
												<b>absPath, isDeep</b>: Only events whose associated parent node is at <b>absPath</b> (or within its subtree, if <b>isDeep</b> is <b>true</b>) will be received. It is permissible to register a listener for a path where no node currently exists.
											</p>
										</li>
									</ul>
									<ul>
										<li>
											<p class="c5">
												<b>uuid</b>: Only events whose associated parent node has one of the UUIDs in this list will be received. If this parameter is <b>null</b> then no UUID-related restriction is placed on events received. Note that specifying an empty array instead of <b>null</b> would result in no nodes being listened to.
											</p>
										</li>
										<li>
											<p class="c5">
												<b>nodeTypeName:</b> Only events whose associated parent node has one of the node types (or a subtype of one of the node types) in this list will be received. If this parameter is <b>null</b> then no node type-related restriction is placed on events received. Note that specifying an empty array instead of <b>null</b> would result in no node types being listened to.
											</p>
										</li>
									</ul>
									<p class="c5">
										The restrictions are "ANDed" together. In other words, for a particular node to be listened to, it must meet <i>all</i> the restrictions.
									</p>
									<p class="c5">
										Additionally, if <b>noLocal</b> is <b>true</b>, then events generated by the session through which the listener was registered are ignored. Otherwise, they are not ignored.
									</p>
									<p class="c5">
										The filters of an already-registered <b>EventListener</b> can be changed at runtime by re-registering the same <b>EventListener</b> object (i.e. the same actual Java object) with a new set of filter arguments. The implementation must ensure that no events are lost during the changeover.
									</p>
									<p class="c5">
										A <b>RepositoryException</b> is thrown if an error occurs.
									</p>
								</td>
							</tr>
							<tr valign="top">
								<td>
									<p class="c12">
										<b>void</b>
									</p>
								</td>
								<td>
									<p class="c5">
										<b>removeEventListener(EventListener listener)</b>
									</p>
									<p class="c5">
										Deregisters an event listener.
									</p>
									<p class="c5">
										A <b>RepositoryException</b> is thrown if an error occurs.
									</p>
								</td>
							</tr>
							<tr valign="top">
								<td>
									<p class="c12">
										<b>EventListenerIterator</b>
									</p>
								</td>
								<td>
									<p class="c5">
										<b>getRegisteredEventListeners()</b>
									</p>
									<p class="c5">
										Returns all event listeners that have been registered through this session. If no listeners have been registered, an empty iterator is returned.
									</p>
									<p class="c5">
										A <b>RepositoryException</b> is thrown if an error occurs.
									</p>
								</td>
							</tr>
						</table>
					
				
			
		
<script type="text/javascript" src="footer.js"></script></body></html>