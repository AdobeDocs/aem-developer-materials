<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head><title>JCR 2.0: 9.2 Capabilities (Content Repository for Java Technology API v2.0)</title><meta http-equiv="CONTENT-TYPE" content="text/html; charset=utf-8"></meta><link rel="stylesheet" type="text/css" href="main.css"></link></head><body><script type="text/javascript" src="header.js"></script><script type="text/javascript" src="nav.js"></script>	<H2>9.2 Capabilities</H2>
	<P><I>Capabilities</I>
	encompass the restrictions imposed by permissions, but also include
	any further restrictions unrelated to access control. The method</P>
	<P><FONT FACE="Courier New, monospace"><FONT SIZE=2>boolean
	Session.hasCapability(String methodName,<BR> 
	 Object target,<BR> Object[]
	arguments)</FONT></FONT></P>
	<P>checks whether an
	operation can be performed given as much context as can be
	determined by the repository, including:</P>
	<UL>
		<LI><P>Permissions
		granted to the current user, including access control privileges.</P>
		<LI><P>Current state of
		the target object (reflecting locks, checked-out status, retention
		and hold status etc.).</P>
		<LI><P>Repository
		capabilities.</P>
		<LI><P>Node
		type-enforced restrictions.</P>
		<LI><P>Repository
		configuration-specific restrictions.</P>
	</UL>
	<P>The implementation of
	this method is best effort: returning <FONT FACE="Courier New, monospace"><FONT SIZE=2>false</FONT></FONT>
	guarantees that the operation cannot be performed, but returning
	<FONT FACE="Courier New, monospace"><FONT SIZE=2>true</FONT></FONT>
	does not guarantee the opposite.</P>
	<P>The <FONT FACE="Courier New, monospace"><FONT SIZE=2>methodName</FONT></FONT>
	parameter identifies the method in question by its name as defined
	in the Javadoc. 
	</P>
	<P>The <FONT FACE="Courier New, monospace"><FONT SIZE=2>target</FONT></FONT>
	parameter identifies the object on which the specified method is
	called.</P>
	<P>The <FONT FACE="Courier New, monospace"><FONT SIZE=2>arguments</FONT></FONT>
	parameter contains an array of type <FONT FACE="Courier New, monospace"><FONT SIZE=2>Object</FONT></FONT>
	consisting of the arguments to be passed to the method in question.
	In cases where a parameter is a Java primitive type it must be
	converted to its corresponding Java object form.</P>
	<P>For example, given a
	<FONT FACE="Courier New, monospace"><FONT SIZE=2>Session</FONT></FONT>
	<FONT FACE="Courier New, monospace"><FONT SIZE=2>S</FONT></FONT>
	and <FONT FACE="Courier New, monospace"><FONT SIZE=2>Node</FONT></FONT>
	<FONT FACE="Courier New, monospace"><FONT SIZE=2>N</FONT></FONT>
	then</P>
	<P>
	<FONT FACE="Courier New, monospace">boolean b =
	S.hasCapability(&quot;addNode&quot;, N, new Object[]{&quot;foo&quot;});</FONT></P>
	<P>will result in <FONT FACE="Courier New, monospace"><FONT SIZE=2>b
	== false</FONT></FONT> if a child node called <FONT FACE="Courier New, monospace"><FONT SIZE=2>foo</FONT></FONT>
	cannot be added to the node <FONT FACE="Courier New, monospace"><FONT SIZE=2>N</FONT></FONT>
	within the session <FONT FACE="Courier New, monospace"><FONT SIZE=2>S</FONT></FONT>.</P>
<script type="text/javascript" src="footer.js"></script></body></html>