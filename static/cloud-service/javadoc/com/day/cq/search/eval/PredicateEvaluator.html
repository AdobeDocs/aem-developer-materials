<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.14) on Mon Dec 05 15:20:33 UTC 2022 -->
<title>PredicateEvaluator (The Adobe Experience Manager SDK 2022.11.9850.20221116T162329Z-220900)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2022-12-05">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="PredicateEvaluator (The Adobe Experience Manager SDK 2022.11.9850.20221116T162329Z-220900)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":6,"i2":6,"i3":6,"i4":6,"i5":6,"i6":6,"i7":38};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"],32:["t6","Deprecated Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.day.cq.search.eval</a></div>
<h2 title="Interface PredicateEvaluator" class="title">Interface PredicateEvaluator</h2>
</div>
<div class="contentContainer">
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="AbstractPredicateEvaluator.html" title="class in com.day.cq.search.eval">AbstractPredicateEvaluator</a></code>, <code><a href="../../wcm/foundation/search/AssetRenditionFilterPredicateEvaluator.html" title="class in com.day.cq.wcm.foundation.search">AssetRenditionFilterPredicateEvaluator</a></code>, <code><a href="CollectionPredicateEvaluator.html" title="class in com.day.cq.search.eval">CollectionPredicateEvaluator</a></code>, <code><a href="DateRangePredicateEvaluator.html" title="class in com.day.cq.search.eval">DateRangePredicateEvaluator</a></code>, <code><a href="FulltextPredicateEvaluator.html" title="class in com.day.cq.search.eval">FulltextPredicateEvaluator</a></code>, <code><a href="JcrBoolPropertyPredicateEvaluator.html" title="class in com.day.cq.search.eval">JcrBoolPropertyPredicateEvaluator</a></code>, <code><a href="JcrPropertyPredicateEvaluator.html" title="class in com.day.cq.search.eval">JcrPropertyPredicateEvaluator</a></code>, <code><a href="NodenamePredicateEvaluator.html" title="class in com.day.cq.search.eval">NodenamePredicateEvaluator</a></code>, <code><a href="PathPredicateEvaluator.html" title="class in com.day.cq.search.eval">PathPredicateEvaluator</a></code>, <code><a href="PermissionPredicateEvaluator.html" title="class in com.day.cq.search.eval">PermissionPredicateEvaluator</a></code>, <code><a href="PredicateGroupEvaluator.html" title="class in com.day.cq.search.eval">PredicateGroupEvaluator</a></code>, <code><a href="RangePropertyPredicateEvaluator.html" title="class in com.day.cq.search.eval">RangePropertyPredicateEvaluator</a></code>, <code><a href="RelativeDateRangePredicateEvaluator.html" title="class in com.day.cq.search.eval">RelativeDateRangePredicateEvaluator</a></code>, <code><a href="SavedQueryPredicate.html" title="class in com.day.cq.search.eval">SavedQueryPredicate</a></code>, <code><a href="SimilarityPredicateEvaluator.html" title="class in com.day.cq.search.eval">SimilarityPredicateEvaluator</a></code>, <code><a href="../../wcm/foundation/search/SubAssetFilterPredicateEvaluator.html" title="class in com.day.cq.wcm.foundation.search">SubAssetFilterPredicateEvaluator</a></code>, <code><a href="TypePredicateEvaluator.html" title="class in com.day.cq.search.eval">TypePredicateEvaluator</a></code></dd>
</dl>
<hr>
<pre>public interface <span class="typeNameLabel">PredicateEvaluator</span></pre>
<div class="block">A <code>PredicateEvaluator</code> handles the evaluation of certain
 <a href="../Predicate.html" title="class in com.day.cq.search"><code>Predicates</code></a>, which are the defining constraints of a
 <a href="../Query.html" title="interface in com.day.cq.search"><code>Query</code></a>. Each evaluator handles a certain type of <a href="../Predicate.html" title="class in com.day.cq.search"><code>Predicates</code></a>, which is given by <a href="../Predicate.html#getType()"><code>Predicate.getType()</code></a>. Generally
 speaking, it maps a higher-level search constraint, such as "width > 200", to
 a specific JCR query that fits the actual content model, eg.
 <code>metadata/@width > 200</code>, or it can manually filter nodes and look
 at them to check its constraint.
 
 <p>
 <b>Xpath vs. Filtering:</b> XPath is the query language of choice here, and
 the XPath predicate expression must be returned in
 <a href="#getXPathExpression(com.day.cq.search.Predicate,com.day.cq.search.eval.EvaluationContext)"><code>getXPathExpression(Predicate, EvaluationContext)</code></a>. If the constraint
 of this evaluator cannot be formulated via a JCR XPath predicate expression,
 the result can also be filtered using the
 <a href="#includes(com.day.cq.search.Predicate,javax.jcr.query.Row,com.day.cq.search.eval.EvaluationContext)"><code>includes(Predicate, Row, EvaluationContext)</code></a> method. Please note that
 filtering is more likely to negatively impact performance, so xpath is the
 preferred way.
 
 <p>
 <b>Important Note:</b> It is recommended that evaluators implement their
 concept via xpath <em>and</em> filtering (ie. two different implementations
 of the same constraint), or via filtering only. This is because in the case
 of predicate groups that are combined with OR, and at least one of the
 predicates is done only via filtering, the whole group must be done via
 filtering. Filtering itself cannot add new nodes to the result, so the whole
 group must not produce any xpath constraint that would reduce the set
 "too much" before filtering. Not complying to this recommendation will make
 xpath-only predicates not work inside mixed or groups, but can still work for
 other scenarios.
 
 <p>
 <b>Ordering:</b> To sort the result set, an evaluator can either specify one
 or more JCR properties via
 <a href="#getOrderByProperties(com.day.cq.search.Predicate,com.day.cq.search.eval.EvaluationContext)"><code>getOrderByProperties(Predicate, EvaluationContext)</code></a> or provide a
 custom comparator that works on the final result set via
 <a href="#getOrderByComparator(com.day.cq.search.Predicate,com.day.cq.search.eval.EvaluationContext)"><code>getOrderByComparator(Predicate, EvaluationContext)</code></a>.
 
 <p>
 <b>Facets:</b> A <a href="PredicateEvaluator.html" title="interface in com.day.cq.search.eval"><code>PredicateEvaluator</code></a> also provides a
 <a href="../facets/FacetExtractor.html" title="interface in com.day.cq.search.facets"><code>FacetExtractor</code></a> that creates buckets based on the search result, since
 facets will conceptually always match to the types of constraints you can put
 in a query. The <a href="#getFacetExtractor(com.day.cq.search.Predicate,com.day.cq.search.eval.EvaluationContext)"><code>getFacetExtractor(Predicate, EvaluationContext)</code></a>
 method returns the extractor that will afterwards run over the result set to
 find any facets.
 
 <p>
 <b>Registration:</b> Implementations of this interface must either be defined
 as OSGi components (to be used for any query) or registered explicitly for a
 certain query using
 <a href="../Query.html#registerPredicateEvaluator(java.lang.String,com.day.cq.search.eval.PredicateEvaluator)"><code>Query.registerPredicateEvaluator(String, PredicateEvaluator)</code></a>. If the
 OSGi component way is chosen, the component must be defined as a component
 factory. Names should not start with a "_", as they will be ignored for
 queries created from requests (see
 <a href="../PredicateConverter.html#createPredicates(java.util.Map)"><code>PredicateConverter.createPredicates(java.util.Map)</code></a>. The name of the
 factory must be the fully qualified name of this interface plus "/" and the
 type of the predicate this evaluator will be used for. For example for a
 <a href="PredicateEvaluator.html" title="interface in com.day.cq.search.eval"><code>PredicateEvaluator</code></a> handling the predicate type "fulltext", the SCR
 annotation would look like this:
 
 <pre>
 @Component(metatype = false, factory=&quot;com.day.cq.search.eval.PredicateEvaluator/fulltext&quot)
 </pre></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>5.2</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t6" class="tableTab"><span><a href="javascript:show(32);">Deprecated Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#canFilter(com.day.cq.search.Predicate,com.day.cq.search.eval.EvaluationContext)">canFilter</a></span>&#8203;(<a href="../Predicate.html" title="class in com.day.cq.search">Predicate</a>&nbsp;predicate,
         <a href="EvaluationContext.html" title="interface in com.day.cq.search.eval">EvaluationContext</a>&nbsp;context)</code></th>
<td class="colLast">
<div class="block">Returns whether this evaluator can handle its constraint via filtering,
 ie.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#canXpath(com.day.cq.search.Predicate,com.day.cq.search.eval.EvaluationContext)">canXpath</a></span>&#8203;(<a href="../Predicate.html" title="class in com.day.cq.search">Predicate</a>&nbsp;predicate,
        <a href="EvaluationContext.html" title="interface in com.day.cq.search.eval">EvaluationContext</a>&nbsp;context)</code></th>
<td class="colLast">
<div class="block">Returns whether this evaluator can return its constraint via xpath, ie.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="../facets/FacetExtractor.html" title="interface in com.day.cq.search.facets">FacetExtractor</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getFacetExtractor(com.day.cq.search.Predicate,com.day.cq.search.eval.EvaluationContext)">getFacetExtractor</a></span>&#8203;(<a href="../Predicate.html" title="class in com.day.cq.search">Predicate</a>&nbsp;predicate,
                 <a href="EvaluationContext.html" title="interface in com.day.cq.search.eval">EvaluationContext</a>&nbsp;context)</code></th>
<td class="colLast">
<div class="block">Returns a <a href="../facets/FacetExtractor.html" title="interface in com.day.cq.search.facets"><code>FacetExtractor</code></a> that is used to create a <a href="../facets/Facet.html" title="interface in com.day.cq.search.facets"><code>Facet</code></a>
 that maps to the given predicate.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>java.util.Comparator&lt;<a href="../../../../../javax/jcr/query/Row.html" title="interface in javax.jcr.query">Row</a>&gt;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getOrderByComparator(com.day.cq.search.Predicate,com.day.cq.search.eval.EvaluationContext)">getOrderByComparator</a></span>&#8203;(<a href="../Predicate.html" title="class in com.day.cq.search">Predicate</a>&nbsp;predicate,
                    <a href="EvaluationContext.html" title="interface in com.day.cq.search.eval">EvaluationContext</a>&nbsp;context)</code></th>
<td class="colLast">
<div class="block">Returns a comparator that will be used to "manually" sort the result
 after running the xpath query and after filtering via
 <a href="#includes(com.day.cq.search.Predicate,javax.jcr.query.Row,com.day.cq.search.eval.EvaluationContext)"><code>includes(Predicate, Row, EvaluationContext)</code></a> happened.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.lang.String[]</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getOrderByProperties(com.day.cq.search.Predicate,com.day.cq.search.eval.EvaluationContext)">getOrderByProperties</a></span>&#8203;(<a href="../Predicate.html" title="class in com.day.cq.search">Predicate</a>&nbsp;predicate,
                    <a href="EvaluationContext.html" title="interface in com.day.cq.search.eval">EvaluationContext</a>&nbsp;context)</code></th>
<td class="colLast">
<div class="block">Returns a list of JCR property names or relative paths
 to properties that should be used when the result should be ordered by
 the given predicate.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getXPathExpression(com.day.cq.search.Predicate,com.day.cq.search.eval.EvaluationContext)">getXPathExpression</a></span>&#8203;(<a href="../Predicate.html" title="class in com.day.cq.search">Predicate</a>&nbsp;predicate,
                  <a href="EvaluationContext.html" title="interface in com.day.cq.search.eval">EvaluationContext</a>&nbsp;context)</code></th>
<td class="colLast">
<div class="block">Returns an XPath <i>predicate</i> expression, which is just a partial
 expression that can be placed inside "[" and "]" in a full XPath
 statement.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#includes(com.day.cq.search.Predicate,javax.jcr.query.Row,com.day.cq.search.eval.EvaluationContext)">includes</a></span>&#8203;(<a href="../Predicate.html" title="class in com.day.cq.search">Predicate</a>&nbsp;predicate,
        <a href="../../../../../javax/jcr/query/Row.html" title="interface in javax.jcr.query">Row</a>&nbsp;row,
        <a href="EvaluationContext.html" title="interface in com.day.cq.search.eval">EvaluationContext</a>&nbsp;context)</code></th>
<td class="colLast">
<div class="block">If the constraint for the given predicate formulated via a JCR XPath
 expression, this method can be used to filter the result set row by row
 (to get the node behind the row, one can use
 <a href="EvaluationContext.html#getNode(javax.jcr.query.Row)"><code>context.getNode(row)</code></a>.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isFiltering(com.day.cq.search.Predicate,com.day.cq.search.eval.EvaluationContext)">isFiltering</a></span>&#8203;(<a href="../Predicate.html" title="class in com.day.cq.search">Predicate</a>&nbsp;predicate,
           <a href="EvaluationContext.html" title="interface in com.day.cq.search.eval">EvaluationContext</a>&nbsp;context)</code></th>
<td class="colLast">
<div class="block"><span class="deprecatedLabel">Deprecated.</span>
<div class="deprecationComment">Since 5.3, use
             <a href="#canFilter(com.day.cq.search.Predicate,com.day.cq.search.eval.EvaluationContext)"><code>canFilter(Predicate, EvaluationContext)</code></a> and
             <a href="#canXpath(com.day.cq.search.Predicate,com.day.cq.search.eval.EvaluationContext)"><code>canXpath(Predicate, EvaluationContext)</code></a> instead.</div>
</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getXPathExpression(com.day.cq.search.Predicate,com.day.cq.search.eval.EvaluationContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getXPathExpression</h4>
<pre class="methodSignature">java.lang.String&nbsp;getXPathExpression&#8203;(<a href="../Predicate.html" title="class in com.day.cq.search">Predicate</a>&nbsp;predicate,
                                    <a href="EvaluationContext.html" title="interface in com.day.cq.search.eval">EvaluationContext</a>&nbsp;context)</pre>
<div class="block">Returns an XPath <i>predicate</i> expression, which is just a partial
 expression that can be placed inside "[" and "]" in a full XPath
 statement. Examples are:
 
 <pre>
 &#064;jcr:title = 'Foobar'
 </pre>
 
 or this longer expression:
 
 <pre>
 (@count &gt; 10 and @count &lt; 20) or @state = 'foo'
 </pre>
 
 <p>
 As a different constraint, an implementation can also filter the result
 of the query, using the
 <a href="#includes(com.day.cq.search.Predicate,javax.jcr.query.Row,com.day.cq.search.eval.EvaluationContext)"><code>includes(Predicate, Row, EvaluationContext)</code></a> method. Also, it is
 recommended to implement the xpath-based constraint again inside
 <a href="#includes(com.day.cq.search.Predicate,javax.jcr.query.Row,com.day.cq.search.eval.EvaluationContext)">includes()</a> to
 support the case where filtering is forced by a parent predicte group.
 
 <p>
 Note that an implementation must return an empty string or
 <code>null</code> if its parameters are empty, ie. if the predicate
 should not "take part" in the actual query. This is because we need to
 keep track of the potential predicates for the query to get all
 <a href="../facets/Facet.html" title="interface in com.day.cq.search.facets"><code>Facets</code></a>, not only the ones for what is already queried.
 
 <p>
 If you implement this method, don't forget to implement
 <a href="#canXpath(com.day.cq.search.Predicate,com.day.cq.search.eval.EvaluationContext)"><code>canXpath(Predicate, EvaluationContext)</code></a> so that it returns true.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>predicate</code> - predicate (for this evaluator type) which is evaluated</dd>
<dd><code>context</code> - helper class which provides access to various elements of the
            query evaluation</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>string containing an XPath predicateEvaluator expression</dd>
</dl>
</li>
</ul>
<a id="includes(com.day.cq.search.Predicate,javax.jcr.query.Row,com.day.cq.search.eval.EvaluationContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>includes</h4>
<pre class="methodSignature">boolean&nbsp;includes&#8203;(<a href="../Predicate.html" title="class in com.day.cq.search">Predicate</a>&nbsp;predicate,
                 <a href="../../../../../javax/jcr/query/Row.html" title="interface in javax.jcr.query">Row</a>&nbsp;row,
                 <a href="EvaluationContext.html" title="interface in com.day.cq.search.eval">EvaluationContext</a>&nbsp;context)</pre>
<div class="block">If the constraint for the given predicate formulated via a JCR XPath
 expression, this method can be used to filter the result set row by row
 (to get the node behind the row, one can use
 <a href="EvaluationContext.html#getNode(javax.jcr.query.Row)"><code>context.getNode(row)</code></a>.
 
 <p>
 <i>Please note that this is more likely to negatively impact
 performance!</i>
 
 <p>
 If you implement this method, don't forget to implement
 <a href="#canFilter(com.day.cq.search.Predicate,com.day.cq.search.eval.EvaluationContext)"><code>canFilter(Predicate, EvaluationContext)</code></a> so that it returns true.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>predicate</code> - predicate (for this evaluator type) which is evaluated</dd>
<dd><code>row</code> - current row of the result set returned through the xpath query</dd>
<dd><code>context</code> - helper class which provides access to various elements of the
            query evaluation</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if this row should be part of the final result
         set, <code>false</code> if it should be dropped</dd>
</dl>
</li>
</ul>
<a id="canXpath(com.day.cq.search.Predicate,com.day.cq.search.eval.EvaluationContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>canXpath</h4>
<pre class="methodSignature">boolean&nbsp;canXpath&#8203;(<a href="../Predicate.html" title="class in com.day.cq.search">Predicate</a>&nbsp;predicate,
                 <a href="EvaluationContext.html" title="interface in com.day.cq.search.eval">EvaluationContext</a>&nbsp;context)</pre>
<div class="block">Returns whether this evaluator can return its constraint via xpath, ie.
 <a href="#getXPathExpression(com.day.cq.search.Predicate,com.day.cq.search.eval.EvaluationContext)"><code>getXPathExpression(Predicate, EvaluationContext)</code></a>.
 
 <p>
 Note that the result typically does not depend on either the predicate
 or the context (given as parameters) - in most cases this depends
 directly on the implementation.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>predicate</code> - predicate (for this evaluator type) which is evaluated</dd>
<dd><code>context</code> - helper class which provides access to various elements of the
            query evaluation</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if this evaluator can express itself via xpath,
         ie. <a href="#getXPathExpression(com.day.cq.search.Predicate,com.day.cq.search.eval.EvaluationContext)"><code>getXPathExpression(Predicate, EvaluationContext)</code></a></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>5.3</dd>
</dl>
</li>
</ul>
<a id="canFilter(com.day.cq.search.Predicate,com.day.cq.search.eval.EvaluationContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>canFilter</h4>
<pre class="methodSignature">boolean&nbsp;canFilter&#8203;(<a href="../Predicate.html" title="class in com.day.cq.search">Predicate</a>&nbsp;predicate,
                  <a href="EvaluationContext.html" title="interface in com.day.cq.search.eval">EvaluationContext</a>&nbsp;context)</pre>
<div class="block">Returns whether this evaluator can handle its constraint via filtering,
 ie. <a href="#includes(com.day.cq.search.Predicate,javax.jcr.query.Row,com.day.cq.search.eval.EvaluationContext)"><code>includes(Predicate, Row, EvaluationContext)</code></a>.
 
 <p>
 Note that the result typically does not depend on either the predicate
 or the context (given as parameters) - in most cases this depends
 directly on the implementation.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>predicate</code> - predicate (for this evaluator type) which is evaluated</dd>
<dd><code>context</code> - helper class which provides access to various elements of the
            query evaluation</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if this evaluator can be express itself via
         filtering, ie.
         <a href="#includes(com.day.cq.search.Predicate,javax.jcr.query.Row,com.day.cq.search.eval.EvaluationContext)"><code>includes(Predicate, Row, EvaluationContext)</code></a></dd>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>5.3</dd>
</dl>
</li>
</ul>
<a id="isFiltering(com.day.cq.search.Predicate,com.day.cq.search.eval.EvaluationContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isFiltering</h4>
<pre class="methodSignature">boolean&nbsp;isFiltering&#8203;(<a href="../Predicate.html" title="class in com.day.cq.search">Predicate</a>&nbsp;predicate,
                    <a href="EvaluationContext.html" title="interface in com.day.cq.search.eval">EvaluationContext</a>&nbsp;context)</pre>
<div class="deprecationBlock"><span class="deprecatedLabel">Deprecated.</span>
<div class="deprecationComment">Since 5.3, use
             <a href="#canFilter(com.day.cq.search.Predicate,com.day.cq.search.eval.EvaluationContext)"><code>canFilter(Predicate, EvaluationContext)</code></a> and
             <a href="#canXpath(com.day.cq.search.Predicate,com.day.cq.search.eval.EvaluationContext)"><code>canXpath(Predicate, EvaluationContext)</code></a> instead.</div>
</div>
<div class="block">Returns <code>true</code> if the evaluator will actually handle the
 predicate in some way in the
 <a href="#includes(com.day.cq.search.Predicate,javax.jcr.query.Row,com.day.cq.search.eval.EvaluationContext)"><code>includes(Predicate, Row, EvaluationContext)</code></a> method. This is
 required to separate evaluators that always return <code>true</code> in
 <a href="#includes(com.day.cq.search.Predicate,javax.jcr.query.Row,com.day.cq.search.eval.EvaluationContext)"><code>includes(Predicate, Row, EvaluationContext)</code></a>, because they don't
 do any filtering, from those that filter the result set and also return
 <code>true</code>.
 
 <p>
 Note that this should return <code>false</code> if the predicate is
 "empty", eg. is not providing any required parameters.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>predicate</code> - predicate (for this evaluator type) which is evaluated</dd>
<dd><code>context</code> - helper class which provides access to various elements of the
            query evaluation</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if this evaluator is filtering the result set
         for the given predicate</dd>
</dl>
</li>
</ul>
<a id="getOrderByProperties(com.day.cq.search.Predicate,com.day.cq.search.eval.EvaluationContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOrderByProperties</h4>
<pre class="methodSignature">java.lang.String[]&nbsp;getOrderByProperties&#8203;(<a href="../Predicate.html" title="class in com.day.cq.search">Predicate</a>&nbsp;predicate,
                                        <a href="EvaluationContext.html" title="interface in com.day.cq.search.eval">EvaluationContext</a>&nbsp;context)</pre>
<div class="block">Returns a list of JCR property names or relative paths
 to properties that should be used when the result should be ordered by
 the given predicate. The paths will be used in the <code>order by</code>
 part of the Xpath query (in the given order). Can return
 <code>null</code> if there is no property to order by. Additional
 ordering can happen by returning a custom <code>Comparator</code> in
 <a href="#getOrderByComparator(com.day.cq.search.Predicate,com.day.cq.search.eval.EvaluationContext)"><code>getOrderByComparator(Predicate, EvaluationContext)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>predicate</code> - predicate (for this evaluator type) which is evaluated</dd>
<dd><code>context</code> - helper class which provides access to various elements of the
            query evaluation</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>one or multiple relative paths to JCR properties or
         <code>null</code></dd>
</dl>
</li>
</ul>
<a id="getOrderByComparator(com.day.cq.search.Predicate,com.day.cq.search.eval.EvaluationContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getOrderByComparator</h4>
<pre class="methodSignature">java.util.Comparator&lt;<a href="../../../../../javax/jcr/query/Row.html" title="interface in javax.jcr.query">Row</a>&gt;&nbsp;getOrderByComparator&#8203;(<a href="../Predicate.html" title="class in com.day.cq.search">Predicate</a>&nbsp;predicate,
                                               <a href="EvaluationContext.html" title="interface in com.day.cq.search.eval">EvaluationContext</a>&nbsp;context)</pre>
<div class="block">Returns a comparator that will be used to "manually" sort the result
 after running the xpath query and after filtering via
 <a href="#includes(com.day.cq.search.Predicate,javax.jcr.query.Row,com.day.cq.search.eval.EvaluationContext)"><code>includes(Predicate, Row, EvaluationContext)</code></a> happened. This can
 be expensive and if possible,
 <a href="#getOrderByProperties(com.day.cq.search.Predicate,com.day.cq.search.eval.EvaluationContext)"><code>getOrderByProperties(Predicate, EvaluationContext)</code></a> (which is used
 for XPath order by) should be used. Result can be <code>null</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>predicate</code> - predicate (for this evaluator type) which is evaluated</dd>
<dd><code>context</code> - helper class which provides access to various elements of the
            query evaluation</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a custom comparator for the given predicate or <code>null</code></dd>
</dl>
</li>
</ul>
<a id="getFacetExtractor(com.day.cq.search.Predicate,com.day.cq.search.eval.EvaluationContext)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getFacetExtractor</h4>
<pre class="methodSignature"><a href="../facets/FacetExtractor.html" title="interface in com.day.cq.search.facets">FacetExtractor</a>&nbsp;getFacetExtractor&#8203;(<a href="../Predicate.html" title="class in com.day.cq.search">Predicate</a>&nbsp;predicate,
                                 <a href="EvaluationContext.html" title="interface in com.day.cq.search.eval">EvaluationContext</a>&nbsp;context)</pre>
<div class="block">Returns a <a href="../facets/FacetExtractor.html" title="interface in com.day.cq.search.facets"><code>FacetExtractor</code></a> that is used to create a <a href="../facets/Facet.html" title="interface in com.day.cq.search.facets"><code>Facet</code></a>
 that maps to the given predicate. There are built-in extractor
 implementations that can be used (eg.
 <a href="../facets/extractors/DistinctValuesFacetExtractor.html" title="class in com.day.cq.search.facets.extractors"><code>DistinctValuesFacetExtractor</code></a> which automatically creates a Facet
 with buckets based on the distinct values of a certain property).
 
 <p>
 This method will only be called when the API user actually requests the
 facets from the search result using <a href="../result/SearchResult.html#getFacets()"><code>SearchResult.getFacets()</code></a>.
 
 <p>
 <b>Important note:</b> this object (the PredicateEvaluator) as an OSGi
 component instance will be released before the returned FacetExtractor is
 used, ie. before any method is called on it. This lazy usage of the
 extractor is needed, because during query execution it cannot be known if
 <a href="../result/SearchResult.html#getFacets()"><code>SearchResult.getFacets()</code></a> will be called by the client afterwards.
 Thus be careful if you return an inner or anonymous class that uses
 members of this evaluator which are references to other OSGi components -
 at the time of facet extraction, these will be effectively
 <code>null</code>. Thus you should retrieve information from the service
 while this method is called and store the result in the returned
 FacetExtractor object. This also means that you cannot directly use OSGi
 references in a FacetExtractor at all (they are not OSGi components).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>predicate</code> - predicate (for this evaluator type) which is evaluated</dd>
<dd><code>context</code> - helper class which provides access to various elements of the
            query evaluation</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>a <a href="../facets/FacetExtractor.html" title="interface in com.day.cq.search.facets"><code>FacetExtractor</code></a> that is used to create a <a href="../facets/Facet.html" title="interface in com.day.cq.search.facets"><code>Facet</code></a>
         or <code>null</code> if no extractor shall be provided</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &copy; 2010 - 2022 Adobe. All Rights Reserved</small></p>
</footer>
</body>
</html>
