<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.14) on Wed Dec 06 14:36:20 UTC 2023 -->
<title>DesignPackageImporter (The Adobe Experience Manager SDK 2023.12.14538.20231205T165334Z-231100)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-12-06">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="DesignPackageImporter (The Adobe Experience Manager SDK 2023.12.14538.20231205T165334Z-231100)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">com.day.cq.wcm.designimporter</a></div>
<h2 title="Class DesignPackageImporter" class="title">Class DesignPackageImporter</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.day.cq.wcm.designimporter.DesignPackageImporter</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>@Service(<a href="DesignPackageImporter.html" title="class in com.day.cq.wcm.designimporter">DesignPackageImporter.class</a>)
public class <span class="typeNameLabel">DesignPackageImporter</span>
extends java.lang.Object</pre>
<div class="block">Provides API for importing a design package. The entry service for the design importer functionality.

 <p>
 A design package is an archived HTML project containing an HTML file along with several (optional) referenced
 scripts and styles. This class provides API for importing that design package under a CQ page or component.
 </p></div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="api/CanvasBuilder.html" title="interface in com.day.cq.wcm.designimporter.api"><code>CanvasBuilder</code></a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">DesignPackageImporter</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="DesignImportResult.html" title="class in com.day.cq.wcm.designimporter">DesignImportResult</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#importDesignPackage(com.day.cq.wcm.api.Page,java.lang.String,com.day.cq.wcm.designimporter.CanvasBuildOptions)">importDesignPackage</a></span>&#8203;(<a href="../api/Page.html" title="interface in com.day.cq.wcm.api">Page</a>&nbsp;importerPage,
                   java.lang.String&nbsp;designPackagePath,
                   <a href="CanvasBuildOptions.html" title="class in com.day.cq.wcm.designimporter">CanvasBuildOptions</a>&nbsp;buildOptions)</code></th>
<td class="colLast">
<div class="block">Imports a design package, similarly to <a href="#importDesignPackage(org.apache.sling.api.SlingHttpServletRequest,com.day.cq.wcm.designimporter.CanvasBuildOptions)"><code>importDesignPackage(org.apache.sling.api.SlingHttpServletRequest, com.day.cq.wcm.designimporter.CanvasBuildOptions)</code></a>, but with a different set of parameters.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code><a href="DesignImportResult.html" title="class in com.day.cq.wcm.designimporter">DesignImportResult</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#importDesignPackage(org.apache.sling.api.SlingHttpServletRequest)">importDesignPackage</a></span>&#8203;(<a href="../../../../../org/apache/sling/api/SlingHttpServletRequest.html" title="interface in org.apache.sling.api">SlingHttpServletRequest</a>&nbsp;slingHttpServletRequest)</code></th>
<td class="colLast">
<div class="block">Imports a design package from a sling request.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="DesignImportResult.html" title="class in com.day.cq.wcm.designimporter">DesignImportResult</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#importDesignPackage(org.apache.sling.api.SlingHttpServletRequest,com.day.cq.wcm.designimporter.CanvasBuildOptions)">importDesignPackage</a></span>&#8203;(<a href="../../../../../org/apache/sling/api/SlingHttpServletRequest.html" title="interface in org.apache.sling.api">SlingHttpServletRequest</a>&nbsp;slingHttpServletRequest,
                   <a href="CanvasBuildOptions.html" title="class in com.day.cq.wcm.designimporter">CanvasBuildOptions</a>&nbsp;buildOptions)</code></th>
<td class="colLast">
<div class="block">Imports a design package from a sling request similar to how <a href="#importDesignPackage(org.apache.sling.api.SlingHttpServletRequest)"><code>importDesignPackage(org.apache.sling.api.SlingHttpServletRequest)</code></a> imports, the difference being
 the amount of control you've over various building options.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DesignPackageImporter</h4>
<pre>public&nbsp;DesignPackageImporter()</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="importDesignPackage(org.apache.sling.api.SlingHttpServletRequest)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>importDesignPackage</h4>
<pre class="methodSignature">public&nbsp;<a href="DesignImportResult.html" title="class in com.day.cq.wcm.designimporter">DesignImportResult</a>&nbsp;importDesignPackage&#8203;(<a href="../../../../../org/apache/sling/api/SlingHttpServletRequest.html" title="interface in org.apache.sling.api">SlingHttpServletRequest</a>&nbsp;slingHttpServletRequest)
                                       throws <a href="DesignImportException.html" title="class in com.day.cq.wcm.designimporter">DesignImportException</a></pre>
<div class="block">Imports a design package from a sling request.
 <p>
 A design package is typically imported by dropping a design package onto the designimporter component, which in turn POSTs
 the file to CQ server. This API serves as the starting point for import of the design package from the POST sling request.
 The POST request contains the uploaded file stream as a request parameter named "designfile".
 </p>

 <p>
 The design package is expected to be a conforming HTML project with a "defined" structure. At the minimum, the project must contain
 the HTML file with the name index.html or index.htm at the root (This rule is configurable via <a href="api/CanvasBuilder.html" title="interface in com.day.cq.wcm.designimporter.api"><code>CanvasBuilder</code></a> OSGi component configuration).
 This is the only conformance required. Authors are free to choose any project structure or file/directory naming conventions as per their wishes. The
 importer works by fully parsing the HTML document and not by relying upon certain naming conventions.
 </p>

 <p>
 The import process involves the following steps:
 <ol>
     <li>The design package is unloaded at a unique location under /etc/designs. This design path is translated from the CQ page initiating the request</li>
     <li>The unloaded files are looked up for HTML files. Appropriate <a href="api/CanvasBuilder.html" title="interface in com.day.cq.wcm.designimporter.api"><code>CanvasBuilder</code></a> service implementation that is registered to handle the HTML of that name pattern is executed</li>
     <li>The <a href="api/CanvasBuilder.html" title="interface in com.day.cq.wcm.designimporter.api"><code>CanvasBuilder</code></a> builds the CQ page by parsing the HTML file as following:
     <ol>
         <li>It parses the HTML document and culls out CQ components, scripts, styles and other relevant meta information</li>
         <li>It builds the page component nodes for the CQ components extracted</li>
         <li>It aggregates the extracted scripts and styles into CQ clientlibs</li>
         <li>It generates a top level canvas component that contains the reference to all the extracted CQ components as well as the clientlibs</li>
     </ol>
     </li>
 </ol>
 If a more controlled building is required, consider using the <a href="#importDesignPackage(org.apache.sling.api.SlingHttpServletRequest,com.day.cq.wcm.designimporter.CanvasBuildOptions)"><code>importDesignPackage(org.apache.sling.api.SlingHttpServletRequest, CanvasBuildOptions)</code></a> API instead.
 </p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slingHttpServletRequest</code> - The sling request for importing the design package. A design package is an archived HTML project containing the main HTML file
                      along with all the referenced scripts, styles and assets. By default, the main HTML file should be named
                      index.html and appear at the root level of the zip archive. The rule can however be modified via <a href="api/CanvasBuilder.html" title="interface in com.day.cq.wcm.designimporter.api"><code>CanvasBuilder</code></a>
                      configuration.                                                                                                                                         *</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>DesignImportResult The object encapsulating the warnings ,if they arose, during the import process</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="MalformedArchiveException.html" title="class in com.day.cq.wcm.designimporter">MalformedArchiveException</a></code> - if there is an error reading the input archive stream</dd>
<dd><code><a href="MissingHTMLException.html" title="class in com.day.cq.wcm.designimporter">MissingHTMLException</a></code> - if there is no index.html or index.htm entry in the zip archive</dd>
<dd><code><a href="UnsupportedTagContentException.html" title="class in com.day.cq.wcm.designimporter">UnsupportedTagContentException</a></code> - if unsupported content is encountered within a tag</dd>
<dd><code><a href="MissingCanvasException.html" title="class in com.day.cq.wcm.designimporter">MissingCanvasException</a></code> - if the input HTML stream is missing the canvas boundary</dd>
<dd><code><a href="DesignImportException.html" title="class in com.day.cq.wcm.designimporter">DesignImportException</a></code> - if there is an exception writing to the CRX repository</dd>
</dl>
</li>
</ul>
<a id="importDesignPackage(org.apache.sling.api.SlingHttpServletRequest,com.day.cq.wcm.designimporter.CanvasBuildOptions)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>importDesignPackage</h4>
<pre class="methodSignature">public&nbsp;<a href="DesignImportResult.html" title="class in com.day.cq.wcm.designimporter">DesignImportResult</a>&nbsp;importDesignPackage&#8203;(<a href="../../../../../org/apache/sling/api/SlingHttpServletRequest.html" title="interface in org.apache.sling.api">SlingHttpServletRequest</a>&nbsp;slingHttpServletRequest,
                                              <a href="CanvasBuildOptions.html" title="class in com.day.cq.wcm.designimporter">CanvasBuildOptions</a>&nbsp;buildOptions)
                                       throws <a href="DesignImportException.html" title="class in com.day.cq.wcm.designimporter">DesignImportException</a></pre>
<div class="block">Imports a design package from a sling request similar to how <a href="#importDesignPackage(org.apache.sling.api.SlingHttpServletRequest)"><code>importDesignPackage(org.apache.sling.api.SlingHttpServletRequest)</code></a> imports, the difference being
 the amount of control you've over various building options.

 <p>This api lets you have control over what you want to build by providing build flags specified via <a href="CanvasBuildOptions.html" title="class in com.day.cq.wcm.designimporter"><code>CanvasBuildOptions</code></a>. You can choose to switch on or off,
 the building of canvas nodes, canvas component and clientlibs. With clientlibs, you can further choose to switch on or off, the building of head scripts, head styles,
 body scripts, body styles or a combination of some of those</p></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>slingHttpServletRequest</code> - Contains http request and input stream of the design package. Design package is a zipped HTML project containing the main HTML file
                      along with all the referenced scripts, styles and assets. By default, the main HTML file should be named
                      index.html and appear at the root level of the zip archive. The rule can however be modified via <a href="api/CanvasBuilder.html" title="interface in com.day.cq.wcm.designimporter.api"><code>CanvasBuilder</code></a> OSGi configuration.</dd>
<dd><code>buildOptions</code> - The <a href="CanvasBuildOptions.html" title="class in com.day.cq.wcm.designimporter"><code>CanvasBuildOptions</code></a> object that contains build flags for switching on or off certain build options</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>DesignImportResult The object encapsulating the warnings ,if they arose, during the import process</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="MalformedArchiveException.html" title="class in com.day.cq.wcm.designimporter">MalformedArchiveException</a></code> - if there is an error reading the input archive stream</dd>
<dd><code><a href="MissingHTMLException.html" title="class in com.day.cq.wcm.designimporter">MissingHTMLException</a></code> - if there is no index.html or index.htm entry in the zip archive</dd>
<dd><code><a href="UnsupportedTagContentException.html" title="class in com.day.cq.wcm.designimporter">UnsupportedTagContentException</a></code> - if unsupported content is encountered within a tag</dd>
<dd><code><a href="MissingCanvasException.html" title="class in com.day.cq.wcm.designimporter">MissingCanvasException</a></code> - if the input HTML stream is missing the canvas boundary</dd>
<dd><code><a href="DesignImportException.html" title="class in com.day.cq.wcm.designimporter">DesignImportException</a></code> - if there is an exception writing to the CRX repository</dd>
</dl>
</li>
</ul>
<a id="importDesignPackage(com.day.cq.wcm.api.Page,java.lang.String,com.day.cq.wcm.designimporter.CanvasBuildOptions)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>importDesignPackage</h4>
<pre class="methodSignature">public&nbsp;<a href="DesignImportResult.html" title="class in com.day.cq.wcm.designimporter">DesignImportResult</a>&nbsp;importDesignPackage&#8203;(<a href="../api/Page.html" title="interface in com.day.cq.wcm.api">Page</a>&nbsp;importerPage,
                                              java.lang.String&nbsp;designPackagePath,
                                              <a href="CanvasBuildOptions.html" title="class in com.day.cq.wcm.designimporter">CanvasBuildOptions</a>&nbsp;buildOptions)
                                       throws <a href="DesignImportException.html" title="class in com.day.cq.wcm.designimporter">DesignImportException</a></pre>
<div class="block">Imports a design package, similarly to <a href="#importDesignPackage(org.apache.sling.api.SlingHttpServletRequest,com.day.cq.wcm.designimporter.CanvasBuildOptions)"><code>importDesignPackage(org.apache.sling.api.SlingHttpServletRequest, com.day.cq.wcm.designimporter.CanvasBuildOptions)</code></a>, but with a different set of parameters.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>importerPage</code> - An existing page of template type "wcm/designimporter/templates/importerpage"</dd>
<dd><code>designPackagePath</code> - The absolute path to a design package zip file in the repository</dd>
<dd><code>buildOptions</code> - The <a href="CanvasBuildOptions.html" title="class in com.day.cq.wcm.designimporter"><code>CanvasBuildOptions</code></a> object that contains build flags for switching on or off certain build options</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>DesignImportResult The object encapsulating the warnings ,if they arose, during the import process</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="MalformedArchiveException.html" title="class in com.day.cq.wcm.designimporter">MalformedArchiveException</a></code> - if there is an error reading the input archive stream</dd>
<dd><code><a href="MissingHTMLException.html" title="class in com.day.cq.wcm.designimporter">MissingHTMLException</a></code> - if there is no index.html or index.htm entry in the zip archive</dd>
<dd><code><a href="UnsupportedTagContentException.html" title="class in com.day.cq.wcm.designimporter">UnsupportedTagContentException</a></code> - if unsupported content is encountered within a tag</dd>
<dd><code><a href="MissingCanvasException.html" title="class in com.day.cq.wcm.designimporter">MissingCanvasException</a></code> - if the input HTML stream is missing the canvas boundary</dd>
<dd><code><a href="DesignImportException.html" title="class in com.day.cq.wcm.designimporter">DesignImportException</a></code> - if there is an exception writing to the CRX repository</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &copy; 2010 - 2023 Adobe. All Rights Reserved</small></p>
</footer>
</body>
</html>
