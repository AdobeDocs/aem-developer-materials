<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.14) on Wed Nov 29 17:28:19 UTC 2023 -->
<title>com.adobe.cq.dam.cfm (The Adobe Experience Manager SDK 2023.11.14227.20231108T162349Z-231100)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-11-29">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="com.adobe.cq.dam.cfm (The Adobe Experience Manager SDK 2023.11.14227.20231108T162349Z-231100)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<main role="main">
<div class="header">
<p><a href="../../../../../org/osgi/annotation/versioning/Version.html" title="annotation in org.osgi.annotation.versioning">@Version</a>("1.14.0")
</p>
<h1 title="Package" class="title">Package&nbsp;com.adobe.cq.dam.cfm</h1>
</div>
<div class="contentContainer">
<section role="region"><a id="package.description">
<!--   -->
</a>
<div class="block"><p>Defines the basic API for creating and managing Content Fragments.</p>

 <p>Main purpose of this API is to abstract the corresponding content structure and
 to provide convenience methods to manage a fragment.</p>

 <p>It is important to understand that this API supports two substantially different
 types of Content Fragments:</p>

 <ul>
   <li><b>Template-based fragments</b> were the first incarnation of
     Content Fragments. Their structure is defined by a template, the elements are
     supporting textual content only. Changes in the template that was used for creating
     a fragment are not reflected in existing fragments.</li>
   <li><b>Model-based fragments</b> were the next step in the evolution. Their structure
     is defined by a model that allows to define typed elements (or fields). Changes in
     models are propagated to all existing fragments sharing the updated model.</li>
 </ul>

 <p>Due to that evolution, some of the names in the API might be confusing to users that
 only know model-based fragments.</p>

 <p>For example, both models and templates are represented by implementations of
 <a href="FragmentTemplate.html" title="interface in com.adobe.cq.dam.cfm"><code>FragmentTemplate</code></a>, although the name of the interface might
 suggest otherwise.</p>

 <p>This also means that the actual type of a fragment is transparent to the user of the
 API. Type-based operations are converted back and forth to plain <code>String</code>s for
 template-based Content Fragments (as they are only supporting textual content).</p>

 <h3>Elements</h3>

 <ul>
   <li>A content fragment is represented by an instance of
     <a href="ContentFragment.html" title="interface in com.adobe.cq.dam.cfm"><code>ContentFragment</code></a>.</li>
   <li>Each fragment contains content elements. Elements carry semantically
     distinctive parts of the fragment (e.g. a title and content elements of a
     typical news article, like a slug line, the article itself, or a desired publication
     date).</li>
   <li>Each element can have multiple variations of its content. This can be used for
     creating longer or shorter versions of the text, depending on the context. For
     example, a shorter version may be provided for creating a Twitter-optimized version
     of the content.</li>
 </ul>

 <p>Each template-based content fragment must have at least one element, but can consist
 of multiple elements. Model-based fragments can also have zero elements. Variations are
 completely optional for both types.</p>

 <p>Content is managed both on the element and the variation level. This means: To access
 an element's text, first retrieve the element, then use the respective methods to access
 its content.</p>

 <h3>Typed data</h3>

 <p>Model-based fragments introduced the notion of typed data: Each element (or field)
 has a certain data type assigned to it. If necessary, data is coerced into the
 appropriate format, e.g. the <code>String</code> <code>"2"</code> is coerced into the
 <code>Integer</code> <code>2</code> for non-fractional numeric fields.</p>

 <p>Typed data is also supported in a basic way for template-based fragments - internally,
 all data is stored as text, but if the value is accessed through the
 <a href="FragmentData.html" title="interface in com.adobe.cq.dam.cfm"><code>FragmentData</code></a> interface, the types will be coerced if
 necessary.</p>

 <p>Due to these historical differences, all objects that are used to access the content
 of a fragment have two different ways to access it:</p>

 <ul>
   <li><code>getContent()</code>/<code>setContent()</code> to access the respective content based on
     text (aka <code>String</code>s)</li>
   <li><code>getValue()</code>/<code>setValue()</code> to access the same content in a type-aware
     manner</li>
 </ul>

 <p>It's recommended to use <code>getValue()</code>/<code>setValue()</code> whenever possible,
   although nothing prevents one to use the other approach or even combine both.
   <code>getContent()</code>/<code>setContent()</code> is not supposed to support each single
   use-case the type-aware approach supports and might reject some usages by throwing a
   <a href="ContentFragmentException.html" title="class in com.adobe.cq.dam.cfm"><code>ContentFragmentException</code></a>.</p>

 <h3>Usage patterns</h3>

 <p>To create a <a href="ContentFragment.html" title="interface in com.adobe.cq.dam.cfm"><code>ContentFragment</code></a> from a Sling resource, simply
 adapt the resource to <a href="ContentFragment.html" title="interface in com.adobe.cq.dam.cfm"><code>ContentFragment</code></a>.</p>

 <p>After adapting the resource, you can access and manipulate the fragment using the
 respective methods of the API.</p>

 <p>Manipulating data through <code>getValue()</code><code>setValue()</code> works as follows:</p>

 <ol>
   <li>Get the <a href="FragmentData.html" title="interface in com.adobe.cq.dam.cfm"><code>FragmentData</code></a> object through the respective
     <a href="ContentElement.html#getValue()"><code>element-specific</code></a> or
     <a href="ContentVariation.html#getValue()"><code>variation-specific</code></a>
     variation of <code>getValue()</code></li>
   <li>Manipulate the data through the methods of
     <a href="FragmentData.html" title="interface in com.adobe.cq.dam.cfm"><code>FragmentData</code></a></li>
   <li>Persist the manipulated data by passing the <code>FragmentData</code> object to the
     corresponding <code>getValue()</code> method (of the
     <a href="ContentElement.html#setValue(com.adobe.cq.dam.cfm.FragmentData)"><code>element</code></a>
     or the <a href="ContentVariation.html#setValue(com.adobe.cq.dam.cfm.FragmentData)"><code>variation</code></a>).
     </li>
 </ol>

 <p>Note that the API doesn't assume auto-commit. This means that you have to
 commit the <code>org.apache.sling.api.resource.ResourceResolver</code> explicitly after
 manipulating the fragment.</p>

 <h3>Concurrency</h3>

 <p>The API is not designed for sharing its objects between multiple threads. Therefore
 the user has to take care of correct synchronization should the use case require shared
 access.</p>

 <h3>References</h3>

 <p>The <a href="converter/package-summary.html"><code>com.adobe.cq.dam.cfm.converter</code></a> API provides means to create an HTML
 representation for content that leverages other formats like plain text or Markdown.
 It also supports converting HTML back to these other formats. Therefore, supporting
 any format into another format is supported by first converting the original format
 into HTML, then convert the HTML into the target format.</p>

 <p>The <a href="content/package-summary.html"><code>com.adobe.cq.dam.cfm.content</code></a> API is leveraged for post-processing the
 content of a fragment instance, before it eventually gets rendered within a specific
 context. "Fragment instance" in this case means a single occurrence of the fragment in
 a page (for example).</p>

 <h3>Template-based vs. model-based fragments - the details</h3>

 <p><i>Version 1.1</i> of the API introduces typed data and models, extending the purely
 text-based fragments, based on templates, of version 1.0.</p>

 <p>The content structure of both fragment types are different. The API hides these
 differences from the user. As mentioned before, the actual type of a fragment is
 transparent to the user of this API.</p>

 <p>Mapping of certain concepts of model-based fragments to interfaces of this API:</p>

 <table>
   <caption>Links to FragmentTemplate and ElementTemplate</caption>
   <thead>
     <tr>
       <th>Concept</th>
       <th>Class</th>
     </tr>
   </thead>
   <tbody>
     <tr>
       <td>model</td>
       <td><a href="FragmentTemplate.html" title="interface in com.adobe.cq.dam.cfm"><code>FragmentTemplate</code></a></td>
     </tr>
     <tr>
       <td>field</td>
       <td><a href="ElementTemplate.html" title="interface in com.adobe.cq.dam.cfm"><code>ElementTemplate</code></a></td>
     </tr>
   </tbody>
 </table></div>
</section>
<ul class="blockList">
<li class="blockList">
<table class="typeSummary">
<caption><span>Interface Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Interface</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="CollectionHelper.html" title="interface in com.adobe.cq.dam.cfm">CollectionHelper</a></th>
<td class="colLast">
<div class="block">Implementors provide easier access to DAM collections for managing the associated
 content of a content fragment.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="ContentElement.html" title="interface in com.adobe.cq.dam.cfm">ContentElement</a></th>
<td class="colLast">
<div class="block">Implementations of this interface allow accessing elements of a content fragment in a
 way agnostic to the underlying data structures.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="ContentFragment.html" title="interface in com.adobe.cq.dam.cfm">ContentFragment</a></th>
<td class="colLast">
<div class="block">Implementations of this interface allow to access content fragments through a stable
 API, independently from the actual content structure.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="ContentFragmentManager.html" title="interface in com.adobe.cq.dam.cfm">ContentFragmentManager</a></th>
<td class="colLast">
<div class="block">Implementations of this interface provide means to manage content fragments.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="ContentVariation.html" title="interface in com.adobe.cq.dam.cfm">ContentVariation</a></th>
<td class="colLast">
<div class="block">Implementations of this interface allow to access a variation of a content element
 through a stable API, agnostic to the underlying content structure.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="DataType.html" title="interface in com.adobe.cq.dam.cfm">DataType</a></th>
<td class="colLast">
<div class="block">Represents a data type for structured content provided by a Content Fragment.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="ElementTemplate.html" title="interface in com.adobe.cq.dam.cfm">ElementTemplate</a></th>
<td class="colLast">
<div class="block">Implementations of this interface allow to access an element template through a
 well-defined API, without needing to care about the underlying content structure.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="FragmentData.html" title="interface in com.adobe.cq.dam.cfm">FragmentData</a></th>
<td class="colLast">
<div class="block">Represents a piece of content (or data) provided by a content fragment.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="FragmentTemplate.html" title="interface in com.adobe.cq.dam.cfm">FragmentTemplate</a></th>
<td class="colLast">
<div class="block">Implementations of this interface allow to access the fragment template in a
 standardized way, independently of the actual content structure.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="MetaDataDefinition.html" title="interface in com.adobe.cq.dam.cfm">MetaDataDefinition</a></th>
<td class="colLast">
<div class="block">Implementations of this class provide access to the meta data definition of a template.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="MetaDataProperty.html" title="interface in com.adobe.cq.dam.cfm">MetaDataProperty</a></th>
<td class="colLast">
<div class="block">Implementations of this class represent a single meta data definition.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="VariationDef.html" title="interface in com.adobe.cq.dam.cfm">VariationDef</a></th>
<td class="colLast">
<div class="block">Implementors provide some essential definitions of a variation.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="VariationTemplate.html" title="interface in com.adobe.cq.dam.cfm">VariationTemplate</a></th>
<td class="colLast">
<div class="block">Implementations of this interface allow accessing a variation template in a standardized
 way, without requiring knowledge about the underlying content structure.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="Versionable.html" title="interface in com.adobe.cq.dam.cfm">Versionable</a></th>
<td class="colLast">
<div class="block">Implementations of this interface provide means to version their content.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="VersionDef.html" title="interface in com.adobe.cq.dam.cfm">VersionDef</a></th>
<td class="colLast">
<div class="block">Represents a version of a content item (like the entire fragment, an element or a
 variation of it).</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="VersionedContent.html" title="interface in com.adobe.cq.dam.cfm">VersionedContent</a></th>
<td class="colLast">
<div class="block">Represents the content of a specific version of a content item (be it the element master
 or a variation of it).</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="BasicDataType.html" title="class in com.adobe.cq.dam.cfm">BasicDataType</a></th>
<td class="colLast">
<div class="block">Defines the type string (see <a href="DataType.html#getTypeString()"><code>DataType.getTypeString()</code></a> for the required data
 types.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="SemanticDataType.html" title="class in com.adobe.cq.dam.cfm">SemanticDataType</a></th>
<td class="colLast">
<div class="block">This class defines the OOTB semantic types provided by Content Fragments.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary">
<caption><span>Enum Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Enum</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="SyncStatus.html" title="enum in com.adobe.cq.dam.cfm">SyncStatus</a></th>
<td class="colLast">
<div class="block">Enumeration that defines the synchronization state of a "slave" variation against the
 respective element master.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary">
<caption><span>Exception Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Exception</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="ContentFragmentException.html" title="class in com.adobe.cq.dam.cfm">ContentFragmentException</a></th>
<td class="colLast">
<div class="block">This class represents a generic exception in handling content fragments.</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &copy; 2010 - 2023 Adobe. All Rights Reserved</small></p>
</footer>
</body>
</html>
