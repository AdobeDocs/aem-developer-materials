<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.11) on Thu Jul 29 16:39:42 UTC 2021 -->
<title>com.adobe.internal.pdftoolkit.core.cos (The Adobe Experience Manager SDK 2021.7.5662.20210726T181801Z-210700)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2021-07-29">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="com.adobe.internal.pdftoolkit.core.cos (The Adobe Experience Manager SDK 2021.7.5662.20210726T181801Z-210700)";
        }
    }
    catch(err) {
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<main role="main">
<div class="header">
<h1 title="Package" class="title">Package&nbsp;com.adobe.internal.pdftoolkit.core.cos</h1>
</div>
<div class="contentContainer">
<section role="region"><a id="package.description">
<!--   -->
</a>
<div class="block"><P>The Gibson cos layer model is based on the PDF 1.7 spec.  It provides complete support for 
the spec.  </P>

<P>
1.  Basic Cos Object Types</P>

<P>There are two categories of cos object types:  atomic and collection. Atomic types correspond to 
kinds of values, and collection types correspond to collections of cos objects.  All cos object 
types are descendents of CosObject.  All CosObjects share the following attributes:</P>

<UL>
  <LI>A CosObjectID (identifier consisting of an object number and a generation value) which can be queried or set</LI>

  <LI>A status within a CosDocument context (direct or indirect - see Section 2.1) which can be queried</LI>

  <LI>A value which can be accessed (via getValue()) or written as a String (toString())</LI>

  <LI>A clone method which will produce a copy of the object preserving its closure</LI>
</UL>
<P>
1.1  Atomic types</P>

<P>
1.1.1 CosScalar</P>

<P>Each of these types encapsulates a primitive value or Adobe primitive value. 
These types are descendents of CosScalar.</P>

<UL>
  <LI>CosBoolean - boolean </LI>
  <LI>CosNumeric - Number (int, double, long) </LI>
  <LI>CosName - ASName </LI>
</UL>
<P>
1.1.2 CosString</P>

<P>This type encapsulates a string as a byte array which may be encoded as a string according 
to the platform specific encoding or a hex string. The type supports encryption based on 
parameters provided by the CosDocument context.</P>

<P>
1.1.3 CosNull</P>

<P>This type contains a null value.</P>
<P>1.2  Collection types</P>

<P>Each of these types has attributes for managing a collection of CosObjects.  They 
all are descendents of CosContainer.</P>

<P>
1.2.1 CosArray</P>

<P>This collection supports the behavior of ArrayList (an indexed, ordered list).  
The elements must be of type CosObject.</P>

<P>
1.2.2 CosDictionary</P>

<P>This collection supports the behavior of HashMap.  The keys must be of type ASName, 
and the values must be of type CosObject.</P>

<P>
1.2.3 CosStream</P>

<P>This is a child class of CosDictionary because a CosStream is composed of a dictionary part 
and a data stream part.  The dictionary part is a CosDictionary.  There are additional 
attributes for managing the data stream.  The data stream may be encrypted using CosDocument 
encryption parameters or its own set.  The data stream additionally may be encoded using filters 
defined as entries in the object's dictionary.</P>

<P>
1.2.4 CosObjectStream</P>

<P>This is a child class of CosStream.  The data in the data stream are compressed objects 
(cos objects written to the data stream and not to the CosDocument).  There are attributes for 
managing the collection of compressed objects associated with this object.</P>

<P>
2. Cos Document</P>

<P>CosDocument defines the context within which a collection of CosObjects
  exists.  A CosDocument instance manages creation of, access to, and deletion of all CosObjects 
in its collection.  In addition, a CosDocument instance can produce an output (in PDF file 
format as specified by the PDF 1.7 spec) of its collection of objects - this output is a save.</P>

<P>
2.1 Direct and Indirect Cos Objects</P>

<P>According to the PDF 1.7 spec, most CosObjects can be either direct or indirect.  There are 
exceptions; CosStream objects can only be indirect.  There also are some implementation dependent 
exceptions for CosObjects being used in particular roles within the CosDocument.</P>

<P>All CosObject creation methods are supported by an API through a singleton CosObjectFactory 
instance. It is possible to create direct or indirect CosObjects explicitly using the CosObjectFactory methods.</P>

<P>An indirect object can be referenced directly by a CosObjectID which is unique within the 
CosDocument context.  Only indirect objects have entries in the xref section of a CosDocument. A 
direct object cannot be referenced directly; all direct objects have a null CosObjectID 
(object number and generation number of 0).</P>

<P>Here are CosDocument attributes for managing direct and indirect objects:</P>

<UL>
  <LI>Direct objects must be contained within an indirect collection.  It is possible to 
create a direct CosArray or CosDictionary (but not a CosStream or CosObjectStream) but it 
ultimately must be contained within an indirect collection in order for it to be written out in a save.</LI>

  <LI>If a CosObject is cloned from another document, the clone's direct or indirect status also is copied.</LI>

  <LI>When a collection type CosObject is cloned, its closure is preserved. The closure is defined 
as the set of all objects directly contained within and referenced by the collection.  Thus, the cloning 
process will produce a copy of a collection (including references) plus all of the objects being 
referenced.  The clone indirect objects (and their references) will be in terms of the target document 
but preserve the semantics of the template document.</LI>

  <LI>Each indirect object will be written out during a save, but each reference to the object is 
represented (and written out) as a CosObjectRef.  A CosObjectRef is also a CosObject but will return 
the attributes of its referent.  It is handled by CosDocument as a direct object.</LI>

  <LI>When a new indirect object is created within a document, it is assigned a unique object number.  
The PDF spec says that the only restriction on object number assignment is that each object have a 
unique number within the document.  When an indirect object is deleted, it is marked "free" within 
the document.  The object number is then available for assignment to another object, but the 
generation number is incremented so that the re-assigned number is part of a different CosObjectID.  
CosDocument manages both free and in use indirect objects (see the description of xrefs below).</LI>

  <LI>Encryption uses the CosObjectID as a seed for encryption parameters when encryption is applied 
to CosString, CosStream, or CosObjectStream objects.  CosString objects commonly are direct objects; 
this means that such an object will not have its own CosObjectID.  A CosString therefore contains the 
CosObjectID of the highest enclosing indirect collection ("parent") and this id is used for encryption.  
Since a collection itself may also be direct, each CosContainer has an attribute for the parent 
CosObjectID (itself if the collection is indirect) which can be assigned to each CosContainer or 
CosString being added to the collection.  If a direct object which already has a value for the parent 
CosObjectID is added to a collection, a copy is made of it and the copy is assigned the parent ID of 
the collection to which the copy is being added.</LI>

<P>
2.2 Save</P>

<P>A CosDocument can perform either an incremental save or a full save of the state of the 
document at the time it receives the save request via its API.  The save will produce a byte 
stream output in PDF file format.</P>

<P>
2.2.1 Incremental save</P>

<P>This applies only to CosDocument instances created from PDF file input. The incremental 
save reproduces the original input plus adds update information (changed (modified or deleted) 
or new cos objects - "dirty" cos objects).  The update information includes writing out all 
dirty indirect objects plus creating an xref for them.  If an incrementally saved file is 
opened in Acrobat, the modified file will be seen.  Incremental save will not alter a document's 
output file attributes (for example, xref style) or encryption.</P>

<P>
2.2.2 Full save</P>

<P>This applies to any CosDocument instance. At full save, all of the objects are written out 
and a new xref is created. It is possible to specify output file attributes such as xref style or encryption.</P>

<P>
2.2.2.1 Xref</P>

<P>All of a document's indirect objects (free and in use) have an entry in the document's xref. 
There are 3 styles of xref which are supported in a full save:  xref table, xref stream, and hybrid.</P>

<P>
2.2.2.1.1 Xref Table</P>

<P>This is the "original" xref style for the PDF file format.  Each xref entry is a line in a table; 
free objects are in a linked list with each entry pointing to the next free object.  The list is 
anchored by the free object root (object 0, generation 65535).  The entries are not numbered, so they 
are expected to be sequential.  If they are not, each sequence break defines an xref section which is 
given a header with its starting object number and the section size (number of sequential entries).</P>

<P>
2.2.2.1.2 Xref Stream</P>

<P>This applies only to PDF version 1.5 and later.  The xref is represented as a CosStream; the xref 
entries (including the xref object) are written to the data stream according to a format specified 
in the PDF spec.  The data stream is flate encoded.</P>

<P>The only way to produce xref entries for compressed objects is as entries in an xref stream.</P>

<P>
2.2.2.1.3 Hybrid</P>

<P>This option is for producing output for documents that contain compressed 
objects but need to be opened by readers with versions prior to version 1.5.  
An xref table is produced for all the indirect objects, but the entries for 
compressed object streams and the objects they contain are marked as free 
(with a generation of 65535).  Then, the compressed object streams are written 
to the file as an update along with an xref stream for those objects.  A special 
xref table is constructed for the update.  A version 1.5 or later reader will 
be able to access the compressed objects, while a pre-1.5 reader will still see 
a valid file but the compressed objects will be invisible.</P>

<P>
2.3 CosDocument Creation</P>

<P>It is possible to create an initialized CosDocument instance in 3
scenarios:  "empty" (a catalog and trailer, but no other cos objects); 
a clone of another document (a copy of another document's objects but 
not output file attributes); and from an input PDF file (accepts PDF or FDF formats).</P>

<P>If a CosDocument is instantiated from an input PDF file, it will not instantiate all 
of the objects in the input file upon creation.  It will only instantiate the objects 
which are "dirty" or which are referenced.</P>
<P>  If possible, the full save method will use an optimization ("express
save") which will simply copy the bytes of uninstantiated objects from the input stream to the output stream.
</P></div>
</section>
<ul class="blockList">
<li class="blockList">
<table class="typeSummary">
<caption><span>Class Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="CosArray.html" title="class in com.adobe.internal.pdftoolkit.core.cos">CosArray</a></th>
<td class="colLast">
<div class="block">Represents a COS array as defined in section 3.2.5 of the PDF Reference
 Manual version 1.4.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="CosArrayValuesIterator.html" title="class in com.adobe.internal.pdftoolkit.core.cos">CosArrayValuesIterator</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="CosBoolean.html" title="class in com.adobe.internal.pdftoolkit.core.cos">CosBoolean</a></th>
<td class="colLast">
<div class="block">Represents a COS Boolean object as defined in section 3.2.1 of the PDF
 Reference Manual version 1.4.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="CosCloneMgr.html" title="class in com.adobe.internal.pdftoolkit.core.cos">CosCloneMgr</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="CosContainer.html" title="class in com.adobe.internal.pdftoolkit.core.cos">CosContainer</a></th>
<td class="colLast">
<div class="block">Base class for all COS container object (e.g.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="CosContainerValuesIterator.html" title="class in com.adobe.internal.pdftoolkit.core.cos">CosContainerValuesIterator</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="CosContainerValuesIterator.Entry.html" title="class in com.adobe.internal.pdftoolkit.core.cos">CosContainerValuesIterator.Entry</a></th>
<td class="colLast">
<div class="block">This class contains CosObject and the key or index at which it is stored
 in the parent CosContainer.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="CosDictionary.html" title="class in com.adobe.internal.pdftoolkit.core.cos">CosDictionary</a></th>
<td class="colLast">
<div class="block">Represents a COS dictionary as defined in section 3.2.6 of the PDF
 Reference Manual version 1.4.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="CosDictionaryValuesIterator.html" title="class in com.adobe.internal.pdftoolkit.core.cos">CosDictionaryValuesIterator</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="CosDocument.html" title="class in com.adobe.internal.pdftoolkit.core.cos">CosDocument</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="CosEncryption.html" title="class in com.adobe.internal.pdftoolkit.core.cos">CosEncryption</a></th>
<td class="colLast">
<div class="block">Performs all encryption-related operations on a Cos Document</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="CosList.html" title="class in com.adobe.internal.pdftoolkit.core.cos">CosList</a></th>
<td class="colLast">
<div class="block">A simple, fast, list object for maintaining ordered lists of objects.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="CosListInt.html" title="class in com.adobe.internal.pdftoolkit.core.cos">CosListInt</a></th>
<td class="colLast">
<div class="block">Just like CosList, except for primitive int values.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="CosName.html" title="class in com.adobe.internal.pdftoolkit.core.cos">CosName</a></th>
<td class="colLast">
<div class="block">Represents a COS name object as defined in section 3.2.4 of the PDF
 Reference Manual version 1.4.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="CosNull.html" title="class in com.adobe.internal.pdftoolkit.core.cos">CosNull</a></th>
<td class="colLast">
<div class="block">Represents a COS null object as defined in section 3.2.8 of the PDF
 Reference Manual version 1.4.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="CosNumeric.html" title="class in com.adobe.internal.pdftoolkit.core.cos">CosNumeric</a></th>
<td class="colLast">
<div class="block">Represents a COS numeric value object as defined in section 3.2.2 of
 the PDF Reference Manual version 1.4.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="CosObject.html" title="class in com.adobe.internal.pdftoolkit.core.cos">CosObject</a></th>
<td class="colLast">
<div class="block">Base class for all COS objects.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="CosObjectID.html" title="class in com.adobe.internal.pdftoolkit.core.cos">CosObjectID</a></th>
<td class="colLast">
<div class="block">An indirect object number and generation ID object.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="CosObjectInfo.html" title="class in com.adobe.internal.pdftoolkit.core.cos">CosObjectInfo</a></th>
<td class="colLast">
<div class="block">Contains the information for lazy parsing of cos objects and
 for noting the position of objects in the output file so that
 the xref table can be generated.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="CosObjectRefAdapter.html" title="class in com.adobe.internal.pdftoolkit.core.cos">CosObjectRefAdapter</a></th>
<td class="colLast">
<div class="block">This class keeps the reference of CosObject and overrides equals() method.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="CosObjectStream.html" title="class in com.adobe.internal.pdftoolkit.core.cos">CosObjectStream</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="CosOpenOptions.html" title="class in com.adobe.internal.pdftoolkit.core.cos">CosOpenOptions</a></th>
<td class="colLast">
<div class="block">Provide options to the <a href="CosDocument.html" title="class in com.adobe.internal.pdftoolkit.core.cos"><code>CosDocument</code></a>
 when it is created.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="CosSaveParams.html" title="class in com.adobe.internal.pdftoolkit.core.cos">CosSaveParams</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="CosScalar.html" title="class in com.adobe.internal.pdftoolkit.core.cos">CosScalar</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="CosScalarOps.html" title="class in com.adobe.internal.pdftoolkit.core.cos">CosScalarOps</a></th>
<td class="colLast">
<div class="block">class:  CosScalarOps

 describtion:


 change history:</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="CosStream.html" title="class in com.adobe.internal.pdftoolkit.core.cos">CosStream</a></th>
<td class="colLast">
<div class="block">Represents a COS stream as defined in section 3.2.7 of the PDF Reference
 Manual version 1.4.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="CosString.html" title="class in com.adobe.internal.pdftoolkit.core.cos">CosString</a></th>
<td class="colLast">
<div class="block">Represents a COS string as defined in section 3.2.3 of the PDF Reference
 Manual version 1.4.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="CosToken.html" title="class in com.adobe.internal.pdftoolkit.core.cos">CosToken</a></th>
<td class="colLast">
<div class="block">The PDF parser.</div>
</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="CosUtils.html" title="class in com.adobe.internal.pdftoolkit.core.cos">CosUtils</a></th>
<td class="colLast">
<div class="block">class:  CosUtils

 describtion:


 change history:</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="DoubleToStringFormatter.html" title="class in com.adobe.internal.pdftoolkit.core.cos">DoubleToStringFormatter</a></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="EncryptingOutputStream.html" title="class in com.adobe.internal.pdftoolkit.core.cos">EncryptingOutputStream</a></th>
<td class="colLast">
<div class="block">This class encrypts the content before writing it to the specified CosStream's OutputByteStream.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colFirst" scope="row"><a href="PDFCore.html" title="class in com.adobe.internal.pdftoolkit.core.cos">PDFCore</a></th>
<td class="colLast">
<div class="block">A wrapper for CosDocument to be passed between services.</div>
</td>
</tr>
</tbody>
</table>
</li>
<li class="blockList">
<table class="typeSummary">
<caption><span>Enum Summary</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Enum</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tbody>
<tr class="altColor">
<th class="colFirst" scope="row"><a href="REPAIRTYPE.html" title="enum in com.adobe.internal.pdftoolkit.core.cos">REPAIRTYPE</a></th>
<td class="colLast">
<div class="block">Enumeration of different types of repair done on the document.</div>
</td>
</tr>
</tbody>
</table>
</li>
</ul>
</div>
</main>
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li class="navBarCell1Rev">Package</li>
<li>Class</li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &copy; 2010 - 2021 Adobe. All Rights Reserved</small></p>
</footer>
</body>
</html>
