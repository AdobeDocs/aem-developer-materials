<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.14) on Wed Nov 29 17:28:19 UTC 2023 -->
<title>ZipSecureFile (The Adobe Experience Manager SDK 2023.11.14227.20231108T162349Z-231100)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-11-29">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ZipSecureFile (The Adobe Experience Manager SDK 2023.11.14227.20231108T162349Z-231100)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":9,"i2":9,"i3":9,"i4":10,"i5":9,"i6":9,"i7":9};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.apache.poi.openxml4j.util</a></div>
<h2 title="Class ZipSecureFile" class="title">Class ZipSecureFile</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../commons/compress/archivers/zip/ZipFile.html" title="class in org.apache.commons.compress.archivers.zip">org.apache.commons.compress.archivers.zip.ZipFile</a></li>
<li>
<ul class="inheritance">
<li>org.apache.poi.openxml4j.util.ZipSecureFile</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code>java.io.Closeable</code>, <code>java.lang.AutoCloseable</code></dd>
</dl>
<hr>
<pre>public class <span class="typeNameLabel">ZipSecureFile</span>
extends <a href="../../../commons/compress/archivers/zip/ZipFile.html" title="class in org.apache.commons.compress.archivers.zip">ZipFile</a></pre>
<div class="block">This class wraps a <a href="../../../commons/compress/archivers/zip/ZipFile.html" title="class in org.apache.commons.compress.archivers.zip"><code>ZipFile</code></a> in order to check the
 entries for <a href="https://en.wikipedia.org/wiki/Zip_bomb">zip bombs</a>
 while reading the archive.<p>

 The alert limits can be globally defined via <a href="#setMaxEntrySize(long)"><code>setMaxEntrySize(long)</code></a>
 and <a href="#setMinInflateRatio(double)"><code>setMinInflateRatio(double)</code></a>.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.io.File)">ZipSecureFile</a></span>&#8203;(java.io.File&nbsp;file)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.lang.String)">ZipSecureFile</a></span>&#8203;(java.lang.String&nbsp;name)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="ZipArchiveThresholdInputStream.html" title="class in org.apache.poi.openxml4j.util">ZipArchiveThresholdInputStream</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getInputStream(org.apache.commons.compress.archivers.zip.ZipArchiveEntry)">getInputStream</a></span>&#8203;(<a href="../../../commons/compress/archivers/zip/ZipArchiveEntry.html" title="class in org.apache.commons.compress.archivers.zip">ZipArchiveEntry</a>&nbsp;entry)</code></th>
<td class="colLast">
<div class="block">Returns an input stream for reading the contents of the specified
 zip file entry.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>static long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getMaxEntrySize()">getMaxEntrySize</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the current maximum allowed uncompressed file size.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>static long</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getMaxTextSize()">getMaxTextSize</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the current maximum allowed text size.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>static double</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getMinInflateRatio()">getMinInflateRatio</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the current minimum compression rate that is used.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getName()">getName</a></span>()</code></th>
<td class="colLast">
<div class="block">Returns the path name of the ZIP file.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setMaxEntrySize(long)">setMaxEntrySize</a></span>&#8203;(long&nbsp;maxEntrySize)</code></th>
<td class="colLast">
<div class="block">Sets the maximum file size of a single zip entry.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>static void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setMaxTextSize(long)">setMaxTextSize</a></span>&#8203;(long&nbsp;maxTextSize)</code></th>
<td class="colLast">
<div class="block">Sets the maximum number of characters of text that are
 extracted before an exception is thrown during extracting
 text from documents.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>static void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setMinInflateRatio(double)">setMinInflateRatio</a></span>&#8203;(double&nbsp;ratio)</code></th>
<td class="colLast">
<div class="block">Sets the ratio between de- and inflated bytes to detect zipbomb.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.org.apache.commons.compress.archivers.zip.ZipFile">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.commons.compress.archivers.zip.<a href="../../../commons/compress/archivers/zip/ZipFile.html" title="class in org.apache.commons.compress.archivers.zip">ZipFile</a></h3>
<code><a href="../../../commons/compress/archivers/zip/ZipFile.html#canReadEntryData(org.apache.commons.compress.archivers.zip.ZipArchiveEntry)">canReadEntryData</a>, <a href="../../../commons/compress/archivers/zip/ZipFile.html#close()">close</a>, <a href="../../../commons/compress/archivers/zip/ZipFile.html#closeQuietly(org.apache.commons.compress.archivers.zip.ZipFile)">closeQuietly</a>, <a href="../../../commons/compress/archivers/zip/ZipFile.html#copyRawEntries(org.apache.commons.compress.archivers.zip.ZipArchiveOutputStream,org.apache.commons.compress.archivers.zip.ZipArchiveEntryPredicate)">copyRawEntries</a>, <a href="../../../commons/compress/archivers/zip/ZipFile.html#getContentBeforeFirstLocalFileHeader()">getContentBeforeFirstLocalFileHeader</a>, <a href="../../../commons/compress/archivers/zip/ZipFile.html#getEncoding()">getEncoding</a>, <a href="../../../commons/compress/archivers/zip/ZipFile.html#getEntries()">getEntries</a>, <a href="../../../commons/compress/archivers/zip/ZipFile.html#getEntries(java.lang.String)">getEntries</a>, <a href="../../../commons/compress/archivers/zip/ZipFile.html#getEntriesInPhysicalOrder()">getEntriesInPhysicalOrder</a>, <a href="../../../commons/compress/archivers/zip/ZipFile.html#getEntriesInPhysicalOrder(java.lang.String)">getEntriesInPhysicalOrder</a>, <a href="../../../commons/compress/archivers/zip/ZipFile.html#getEntry(java.lang.String)">getEntry</a>, <a href="../../../commons/compress/archivers/zip/ZipFile.html#getFirstLocalFileHeaderOffset()">getFirstLocalFileHeaderOffset</a>, <a href="../../../commons/compress/archivers/zip/ZipFile.html#getRawInputStream(org.apache.commons.compress.archivers.zip.ZipArchiveEntry)">getRawInputStream</a>, <a href="../../../commons/compress/archivers/zip/ZipFile.html#getUnixSymlink(org.apache.commons.compress.archivers.zip.ZipArchiveEntry)">getUnixSymlink</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(java.io.File)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ZipSecureFile</h4>
<pre>public&nbsp;ZipSecureFile&#8203;(java.io.File&nbsp;file)
              throws java.io.IOException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ZipSecureFile</h4>
<pre>public&nbsp;ZipSecureFile&#8203;(java.lang.String&nbsp;name)
              throws java.io.IOException</pre>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="setMinInflateRatio(double)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMinInflateRatio</h4>
<pre class="methodSignature">public static&nbsp;void&nbsp;setMinInflateRatio&#8203;(double&nbsp;ratio)</pre>
<div class="block">Sets the ratio between de- and inflated bytes to detect zipbomb.
 It defaults to 1% (= 0.01d), i.e. when the compression is better than
 1% for any given read package part, the parsing will fail indicating a 
 Zip-Bomb.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ratio</code> - the ratio between de- and inflated bytes to detect zipbomb</dd>
</dl>
</li>
</ul>
<a id="getMinInflateRatio()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMinInflateRatio</h4>
<pre class="methodSignature">public static&nbsp;double&nbsp;getMinInflateRatio()</pre>
<div class="block">Returns the current minimum compression rate that is used.
 
 See setMinInflateRatio() for details.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The min accepted compression-ratio.</dd>
</dl>
</li>
</ul>
<a id="setMaxEntrySize(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMaxEntrySize</h4>
<pre class="methodSignature">public static&nbsp;void&nbsp;setMaxEntrySize&#8203;(long&nbsp;maxEntrySize)</pre>
<div class="block">Sets the maximum file size of a single zip entry. It defaults to 4GB,
 i.e. the 32-bit zip format maximum.
 
 This can be used to limit memory consumption and protect against 
 security vulnerabilities when documents are provided by users.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>maxEntrySize</code> - the max. file size of a single zip entry</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - for negative maxEntrySize</dd>
</dl>
</li>
</ul>
<a id="getMaxEntrySize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxEntrySize</h4>
<pre class="methodSignature">public static&nbsp;long&nbsp;getMaxEntrySize()</pre>
<div class="block">Returns the current maximum allowed uncompressed file size.
 
 See setMaxEntrySize() for details.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The max accepted uncompressed file size.</dd>
</dl>
</li>
</ul>
<a id="setMaxTextSize(long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setMaxTextSize</h4>
<pre class="methodSignature">public static&nbsp;void&nbsp;setMaxTextSize&#8203;(long&nbsp;maxTextSize)</pre>
<div class="block">Sets the maximum number of characters of text that are
 extracted before an exception is thrown during extracting
 text from documents.
 
 This can be used to limit memory consumption and protect against 
 security vulnerabilities when documents are provided by users.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>maxTextSize</code> - the max. file size of a single zip entry</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.IllegalArgumentException</code> - for negative maxTextSize</dd>
</dl>
</li>
</ul>
<a id="getMaxTextSize()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getMaxTextSize</h4>
<pre class="methodSignature">public static&nbsp;long&nbsp;getMaxTextSize()</pre>
<div class="block">Returns the current maximum allowed text size.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The max accepted text size.</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="#setMaxTextSize(long)"><code>setMaxTextSize(long)</code></a></dd>
</dl>
</li>
</ul>
<a id="getInputStream(org.apache.commons.compress.archivers.zip.ZipArchiveEntry)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getInputStream</h4>
<pre class="methodSignature">public&nbsp;<a href="ZipArchiveThresholdInputStream.html" title="class in org.apache.poi.openxml4j.util">ZipArchiveThresholdInputStream</a>&nbsp;getInputStream&#8203;(<a href="../../../commons/compress/archivers/zip/ZipArchiveEntry.html" title="class in org.apache.commons.compress.archivers.zip">ZipArchiveEntry</a>&nbsp;entry)
                                              throws java.io.IOException</pre>
<div class="block">Returns an input stream for reading the contents of the specified
 zip file entry.

 <p> Closing this ZIP file will, in turn, close all input
 streams that have been returned by invocations of this method.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Overrides:</span></dt>
<dd><code><a href="../../../commons/compress/archivers/zip/ZipFile.html#getInputStream(org.apache.commons.compress.archivers.zip.ZipArchiveEntry)">getInputStream</a></code>&nbsp;in class&nbsp;<code><a href="../../../commons/compress/archivers/zip/ZipFile.html" title="class in org.apache.commons.compress.archivers.zip">ZipFile</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>entry</code> - the zip file entry</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the input stream for reading the contents of the specified
 zip file entry.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if an I/O error has occurred</dd>
<dd><code>java.lang.IllegalStateException</code> - if the zip file has been closed</dd>
</dl>
</li>
</ul>
<a id="getName()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getName</h4>
<pre class="methodSignature">public&nbsp;java.lang.String&nbsp;getName()</pre>
<div class="block">Returns the path name of the ZIP file.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>the path name of the ZIP file</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &copy; 2010 - 2023 Adobe. All Rights Reserved</small></p>
</footer>
</body>
</html>
