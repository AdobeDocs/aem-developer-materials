<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.11) on Thu Jul 29 16:39:42 UTC 2021 -->
<title>FilePersistenceManager (The Adobe Experience Manager SDK 2021.7.5662.20210726T181801Z-210700)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2021-07-29">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="FilePersistenceManager (The Adobe Experience Manager SDK 2021.7.5662.20210726T181801Z-210700)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":42,"i1":42,"i2":42,"i3":42,"i4":42,"i5":42};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"],32:["t6","Deprecated Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.apache.felix.cm.file</a></div>
<h2 title="Class FilePersistenceManager" class="title">Class FilePersistenceManager</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.felix.cm.file.FilePersistenceManager</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../PersistenceManager.html" title="interface in org.apache.felix.cm">PersistenceManager</a></code></dd>
</dl>
<hr>
<pre><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Deprecated.html?is-external=true" title="class or interface in java.lang" class="externalLink">@Deprecated</a>(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Deprecated.html?is-external=true#since()" title="class or interface in java.lang" class="externalLink">since</a>="2021-04-30")
public class <span class="typeNameLabel">FilePersistenceManager</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a>
implements <a href="../PersistenceManager.html" title="interface in org.apache.felix.cm">PersistenceManager</a></pre>
<div class="deprecationBlock"><span class="deprecatedLabel">Deprecated.</span>
<div class="deprecationComment">The use of this package is deprecated. Custom persistence managers are not supported in AEM as a Cloud Service.</div>
</div>
<div class="block">The <code>FilePersistenceManager</code> class stores configuration data in
  properties-like files inside a given directory. All configuration files are
  located in the same directory.
  <p>
  The configuration directory is set by either the
  <a href="#%3Cinit%3E(java.lang.String)"><code>FilePersistenceManager(String)</code></a> constructor or the
  <a href="#%3Cinit%3E(org.osgi.framework.BundleContext,java.lang.String)"><code>FilePersistenceManager(BundleContext, String)</code></a> constructor. Refer to
  the respective JavaDocs for more information.
  <p>
  When this persistence manager is used by the Configuration Admin Service, the
  location may be configured using the
  <code>ConfigurationManager</code> bundle context
  property.
  <p>
  If the location is not set, the <code>config</code> directory in the current
  working directory (as set in the <code>user.dir</code> system property) is
  used. If the the location is set but, no such directory exists, the directory
  and any missing parent directories are created. If a file exists at the given
  location, the constructor fails.
  <p>
  Configuration files are created in the configuration directory by appending
  the extension <code>.config</code> to the PID of the configuration. The PID
  is converted into a relative path name by replacing enclosed dots to slashes.
  Non-<code>symbolic-name</code> characters in the PID are encoded with their
  Unicode character code in hexadecimal.

  <table border="0" cellspacing="3" cellpadding="0" summary="Examples">
  <tr>
  <td colspan="2"><b>Examples of PID to name conversion:</b></td>
  </tr>
  <tr>
  <th>PID</th>
  <th>Configuration File Name</th>
  </tr>
  <tr>
  <td><code>sample</code>
  <td><code>sample.config</code>
  </tr>
  <tr>
  <td><code>org.apache.felix.log.LogService</code>
  <td><code>org/apache/felix/log/LogService.config</code>
  </tr>
  <tr>
  <td><code>sample.fl&auml;che</code>
  <td><code>sample/fl%00e8che.config</code>
  </tr>
  </table>
  <p>
  <b>Mulithreading Issues</b>
  <p>
  In a multithreaded environment the <a href="#store(java.lang.String,java.util.Dictionary)"><code>store(String, Dictionary)</code></a> and
  <a href="#load(java.lang.String)"><code>load(String)</code></a> methods may be called at the the quasi-same time for
  the same configuration PID. It may no happen, that the store method starts
  writing the file and the load method might at the same time read from the
  file currently being written and thus loading corrupt data (if data is
  available at all).
  <p>
  To prevent this situation from happening, the methods use synchronization and
  temporary files as follows:
  <ul>
  <li>The <a href="#store(java.lang.String,java.util.Dictionary)"><code>store(String, Dictionary)</code></a> method writes a temporary file
  with file extension <code>.tmp</code>. When done, the file is renamed to
  actual configuration file name as implied by the PID. This last step of
  renaming the file is synchronized on the FilePersistenceManager
  instance.</li>
  <li>The <a href="#load(java.lang.String)"><code>load(String)</code></a> method is completeley synchronized on the
  FilePersistenceManager instance such that the <a href="#store(java.lang.String,java.util.Dictionary)"><code>store(java.lang.String, java.util.Dictionary)</code></a> method might
  inadvertantly try to replace the file while it is being read.</li>
  <li>Finally the <code>Iterator</code> returned by <a href="#getDictionaries()"><code>getDictionaries()</code></a>
  is implemented such that any temporary configuration file is just
  ignored.</li>
  </ul></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Field</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#DEFAULT_CONFIG_DIR">DEFAULT_CONFIG_DIR</a></span></code></th>
<td class="colLast">
<div class="block"><span class="deprecatedLabel">Deprecated.</span></div>
<div class="block">The default configuration data directory if no location is configured
 (value is "config").</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#DEFAULT_PERSISTENCE_MANAGER_NAME">DEFAULT_PERSISTENCE_MANAGER_NAME</a></span></code></th>
<td class="colLast">
<div class="block"><span class="deprecatedLabel">Deprecated.</span></div>
<div class="block">The name of this persistence manager when registered in the service registry.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="fields.inherited.from.class.org.apache.felix.cm.PersistenceManager">
<!--   -->
</a>
<h3>Fields inherited from interface&nbsp;org.apache.felix.cm.<a href="../PersistenceManager.html" title="interface in org.apache.felix.cm">PersistenceManager</a></h3>
<code><a href="../PersistenceManager.html#PROPERTY_NAME">PROPERTY_NAME</a></code></li>
</ul>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.lang.String)">FilePersistenceManager</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;location)</code></th>
<td class="colLast">
<div class="block"><span class="deprecatedLabel">Deprecated.</span></div>
<div class="block">Creates an instance of this persistence manager using the given location
 as the directory to store and retrieve the configuration files.</div>
</td>
</tr>
<tr class="rowColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(org.osgi.framework.BundleContext,java.lang.String)">FilePersistenceManager</a></span>&#8203;(<a href="../../../../osgi/framework/BundleContext.html" title="interface in org.osgi.framework">BundleContext</a>&nbsp;bundleContext,
                      <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;location)</code></th>
<td class="colLast">
<div class="block"><span class="deprecatedLabel">Deprecated.</span></div>
<div class="block">Creates an instance of this persistence manager using the given location
 as the directory to store and retrieve the configuration files.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t6" class="tableTab"><span><a href="javascript:show(32);">Deprecated Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#delete(java.lang.String)">delete</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;pid)</code></th>
<td class="colLast">
<div class="block"><span class="deprecatedLabel">Deprecated.</span></div>
<div class="block">Deletes the file for the given identifier.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#exists(java.lang.String)">exists</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;pid)</code></th>
<td class="colLast">
<div class="block"><span class="deprecatedLabel">Deprecated.</span></div>
<div class="block">Returns <code>true</code> if a (configuration) file exists for the given
 identifier.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Enumeration.html?is-external=true" title="class or interface in java.util" class="externalLink">Enumeration</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getDictionaries()">getDictionaries</a></span>()</code></th>
<td class="colLast">
<div class="block"><span class="deprecatedLabel">Deprecated.</span></div>
<div class="block">Loads configuration data from the configuration location and returns
 it as <code>Dictionary</code> objects.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io" class="externalLink">File</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getLocation()">getLocation</a></span>()</code></th>
<td class="colLast">
<div class="block"><span class="deprecatedLabel">Deprecated.</span></div>
<div class="block">Returns the directory in which the configuration files are written as
 a <code>File</code> object.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code><a href="https://docs.oracle.com/javase/8/docs/api/java/util/Dictionary.html?is-external=true" title="class or interface in java.util" class="externalLink">Dictionary</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#load(java.lang.String)">load</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;pid)</code></th>
<td class="colLast">
<div class="block"><span class="deprecatedLabel">Deprecated.</span></div>
<div class="block">Reads the (configuration) for the given identifier into a
 <code>Dictionary</code> object.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#store(java.lang.String,java.util.Dictionary)">store</a></span>&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;pid,
     <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Dictionary.html?is-external=true" title="class or interface in java.util" class="externalLink">Dictionary</a>&nbsp;props)</code></th>
<td class="colLast">
<div class="block"><span class="deprecatedLabel">Deprecated.</span></div>
<div class="block">Stores the contents of the <code>Dictionary</code> in a file denoted
 by the given identifier.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a id="DEFAULT_CONFIG_DIR">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DEFAULT_CONFIG_DIR</h4>
<pre>public static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a> DEFAULT_CONFIG_DIR</pre>
<div class="deprecationBlock"><span class="deprecatedLabel">Deprecated.</span></div>
<div class="block">The default configuration data directory if no location is configured
 (value is "config").</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#org.apache.felix.cm.file.FilePersistenceManager.DEFAULT_CONFIG_DIR">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a id="DEFAULT_PERSISTENCE_MANAGER_NAME">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DEFAULT_PERSISTENCE_MANAGER_NAME</h4>
<pre>public static final&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a> DEFAULT_PERSISTENCE_MANAGER_NAME</pre>
<div class="deprecationBlock"><span class="deprecatedLabel">Deprecated.</span></div>
<div class="block">The name of this persistence manager when registered in the service registry.
 (value is "file").</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../../constant-values.html#org.apache.felix.cm.file.FilePersistenceManager.DEFAULT_PERSISTENCE_MANAGER_NAME">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FilePersistenceManager</h4>
<pre>public&nbsp;FilePersistenceManager&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;location)</pre>
<div class="deprecationBlock"><span class="deprecatedLabel">Deprecated.</span></div>
<div class="block">Creates an instance of this persistence manager using the given location
 as the directory to store and retrieve the configuration files.
 <p>
 This constructor resolves the configuration file location as follows:
 <ul>
 <li>If <code>location</code> is <code>null</code>, the <code>config</code>
 directory in the current working directory as specified in the
 <code>user.dir</code> system property is assumed.</li>
 <li>Otherwise the named directory is used.</li>
 <li>If the directory name resolved in the first or second step is not an
 absolute path, it is resolved to an absolute path calling the
 <code>File.getAbsoluteFile()</code> method.</li>
 <li>If a non-directory file exists as the location found in the previous
 step or the named directory (including any parent directories) cannot be
 created, an <code>IllegalArgumentException</code> is thrown.</li>
 </ul>
 <p>
 This constructor is equivalent to calling
 <a href="#%3Cinit%3E(org.osgi.framework.BundleContext,java.lang.String)"><code>FilePersistenceManager(BundleContext, String)</code></a> with a
 <code>null</code> <code>BundleContext</code>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>location</code> - The configuration file location. If this is
      <code>null</code> the <code>config</code> directory below the current
      working directory is used.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - If the <code>location</code> exists but
      is not a directory or does not exist and cannot be created.</dd>
</dl>
</li>
</ul>
<a id="&lt;init&gt;(org.osgi.framework.BundleContext,java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>FilePersistenceManager</h4>
<pre>public&nbsp;FilePersistenceManager&#8203;(<a href="../../../../osgi/framework/BundleContext.html" title="interface in org.osgi.framework">BundleContext</a>&nbsp;bundleContext,
                              <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;location)</pre>
<div class="deprecationBlock"><span class="deprecatedLabel">Deprecated.</span></div>
<div class="block">Creates an instance of this persistence manager using the given location
 as the directory to store and retrieve the configuration files.
 <p>
 This constructor resolves the configuration file location as follows:
 <ul>
 <li>If <code>location</code> is <code>null</code>, the <code>config</code>
 directory in the persistent storage area of the bundle identified by
 <code>bundleContext</code> is used.</li>
 <li>If the framework does not support persistent storage area for bundles
 in the filesystem or if <code>bundleContext</code> is <code>null</code>,
 the <code>config</code> directory in the current working directory as
 specified in the <code>user.dir</code> system property is assumed.</li>
 <li>Otherwise the named directory is used.</li>
 <li>If the directory name resolved in the first, second or third step is
 not an absolute path and a <code>bundleContext</code> is provided which
 provides access to persistent storage area, the directory name is
 resolved as being inside the persistent storage area. Otherwise the
 directory name is resolved to an absolute path calling the
 <code>File.getAbsoluteFile()</code> method.</li>
 <li>If a non-directory file exists as the location found in the previous
 step or the named directory (including any parent directories) cannot be
 created, an <code>IllegalArgumentException</code> is thrown.</li>
 </ul></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>bundleContext</code> - The <code>BundleContext</code> to optionally get
      the data location for the configuration files. This may be
      <code>null</code>, in which case this constructor acts exactly the
      same as calling <a href="#%3Cinit%3E(java.lang.String)"><code>FilePersistenceManager(String)</code></a>.</dd>
<dd><code>location</code> - The configuration file location. If this is
      <code>null</code> the <code>config</code> directory below the current
      working directory is used.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalArgumentException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalArgumentException</a></code> - If the location exists but is not a
      directory or does not exist and cannot be created.</dd>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/IllegalStateException.html?is-external=true" title="class or interface in java.lang" class="externalLink">IllegalStateException</a></code> - If the <code>bundleContext</code> is not
      valid.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getLocation()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getLocation</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/io/File.html?is-external=true" title="class or interface in java.io" class="externalLink">File</a>&nbsp;getLocation()</pre>
<div class="deprecationBlock"><span class="deprecatedLabel">Deprecated.</span></div>
<div class="block">Returns the directory in which the configuration files are written as
 a <code>File</code> object.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The configuration file location.</dd>
</dl>
</li>
</ul>
<a id="getDictionaries()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getDictionaries</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Enumeration.html?is-external=true" title="class or interface in java.util" class="externalLink">Enumeration</a>&nbsp;getDictionaries()</pre>
<div class="deprecationBlock"><span class="deprecatedLabel">Deprecated.</span></div>
<div class="block">Loads configuration data from the configuration location and returns
 it as <code>Dictionary</code> objects.
 <p>
 This method is a lazy implementation, which is just one configuration
 file ahead of the current enumeration location.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../PersistenceManager.html#getDictionaries()">getDictionaries</a></code>&nbsp;in interface&nbsp;<code><a href="../PersistenceManager.html" title="interface in org.apache.felix.cm">PersistenceManager</a></code></dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>an enumeration of configuration data returned as instances of
      the <code>Dictionary</code> class.</dd>
</dl>
</li>
</ul>
<a id="delete(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>delete</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;delete&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;pid)</pre>
<div class="deprecationBlock"><span class="deprecatedLabel">Deprecated.</span></div>
<div class="block">Deletes the file for the given identifier.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../PersistenceManager.html#delete(java.lang.String)">delete</a></code>&nbsp;in interface&nbsp;<code><a href="../PersistenceManager.html" title="interface in org.apache.felix.cm">PersistenceManager</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pid</code> - The identifier of the configuration file to delete.</dd>
</dl>
</li>
</ul>
<a id="exists(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>exists</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;exists&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;pid)</pre>
<div class="deprecationBlock"><span class="deprecatedLabel">Deprecated.</span></div>
<div class="block">Returns <code>true</code> if a (configuration) file exists for the given
 identifier.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../PersistenceManager.html#exists(java.lang.String)">exists</a></code>&nbsp;in interface&nbsp;<code><a href="../PersistenceManager.html" title="interface in org.apache.felix.cm">PersistenceManager</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pid</code> - The identifier of the configuration file to check.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>true</code> if the file exists</dd>
</dl>
</li>
</ul>
<a id="load(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>load</h4>
<pre class="methodSignature">public&nbsp;<a href="https://docs.oracle.com/javase/8/docs/api/java/util/Dictionary.html?is-external=true" title="class or interface in java.util" class="externalLink">Dictionary</a>&nbsp;load&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;pid)
                throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="deprecationBlock"><span class="deprecatedLabel">Deprecated.</span></div>
<div class="block">Reads the (configuration) for the given identifier into a
 <code>Dictionary</code> object.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../PersistenceManager.html#load(java.lang.String)">load</a></code>&nbsp;in interface&nbsp;<code><a href="../PersistenceManager.html" title="interface in org.apache.felix.cm">PersistenceManager</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pid</code> - The identifier of the configuration file to delete.</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The configuration read from the file. This <code>Dictionary</code>
      may be empty if the file contains no configuration information
      or is not properly formatted.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - If an error occurs loading the dictionary. An
      <code>IOException</code> must also be thrown if no dictionary
      exists for the given identifier.</dd>
</dl>
</li>
</ul>
<a id="store(java.lang.String,java.util.Dictionary)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>store</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;store&#8203;(<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang" class="externalLink">String</a>&nbsp;pid,
                  <a href="https://docs.oracle.com/javase/8/docs/api/java/util/Dictionary.html?is-external=true" title="class or interface in java.util" class="externalLink">Dictionary</a>&nbsp;props)
           throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="deprecationBlock"><span class="deprecatedLabel">Deprecated.</span></div>
<div class="block">Stores the contents of the <code>Dictionary</code> in a file denoted
 by the given identifier.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../PersistenceManager.html#store(java.lang.String,java.util.Dictionary)">store</a></code>&nbsp;in interface&nbsp;<code><a href="../PersistenceManager.html" title="interface in org.apache.felix.cm">PersistenceManager</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>pid</code> - The identifier of the configuration file to which to write
      the configuration contents.</dd>
<dd><code>props</code> - The configuration data to write.</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code> - If an error occurrs writing the configuration data.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &copy; 2010 - 2021 Adobe. All Rights Reserved</small></p>
</footer>
</body>
</html>
