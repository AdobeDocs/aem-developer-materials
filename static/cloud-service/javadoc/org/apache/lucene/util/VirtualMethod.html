<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.14) on Wed Nov 29 17:28:19 UTC 2023 -->
<title>VirtualMethod (The Adobe Experience Manager SDK 2023.11.14227.20231108T162349Z-231100)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-11-29">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="VirtualMethod (The Adobe Experience Manager SDK 2023.11.14227.20231108T162349Z-231100)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":9,"i1":10,"i2":10};
var tabs = {65535:["t0","All Methods"],1:["t1","Static Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.apache.lucene.util</a></div>
<h2 title="Class VirtualMethod" class="title">Class VirtualMethod&lt;C&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.lucene.util.VirtualMethod&lt;C&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<pre>public final class <span class="typeNameLabel">VirtualMethod&lt;C&gt;</span>
extends java.lang.Object</pre>
<div class="block">A utility for keeping backwards compatibility on previously abstract methods
 (or similar replacements).
 <p>Before the replacement method can be made abstract, the old method must kept deprecated.
 If somebody still overrides the deprecated method in a non-final class,
 you must keep track, of this and maybe delegate to the old method in the subclass.
 The cost of reflection is minimized by the following usage of this class:</p>
 <p>Define <strong>static final</strong> fields in the base class (<code>BaseClass</code>),
 where the old and new method are declared:</p>
 <pre class="prettyprint">
  static final VirtualMethod&lt;BaseClass&gt; newMethod =
   new VirtualMethod&lt;BaseClass&gt;(BaseClass.class, "newName", parameters...);
  static final VirtualMethod&lt;BaseClass&gt; oldMethod =
   new VirtualMethod&lt;BaseClass&gt;(BaseClass.class, "oldName", parameters...);
 </pre>
 <p>This enforces the singleton status of these objects, as the maintenance of the cache would be too costly else.
 If you try to create a second instance of for the same method/<code>baseClass</code> combination, an exception is thrown.
 <p>To detect if e.g. the old method was overridden by a more far subclass on the inheritance path to the current
 instance's class, use a <strong>non-static</strong> field:</p>
 <pre class="prettyprint">
  final boolean isDeprecatedMethodOverridden =
   oldMethod.getImplementationDistance(this.getClass()) > newMethod.getImplementationDistance(this.getClass());

  <em>// alternatively (more readable):</em>
  final boolean isDeprecatedMethodOverridden =
   VirtualMethod.compareImplementationDistance(this.getClass(), oldMethod, newMethod) > 0
 </pre> 
 <p><a href="#getImplementationDistance(java.lang.Class)"><code>getImplementationDistance(java.lang.Class&lt;? extends C&gt;)</code></a> returns the distance of the subclass that overrides this method.
 The one with the larger distance should be used preferable.
 This way also more complicated method rename scenarios can be handled
 (think of 2.9 <code>TokenStream</code> deprecations).</p></div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E(java.lang.Class,java.lang.String,java.lang.Class...)">VirtualMethod</a></span>&#8203;(java.lang.Class&lt;<a href="VirtualMethod.html" title="type parameter in VirtualMethod">C</a>&gt;&nbsp;baseClass,
             java.lang.String&nbsp;method,
             java.lang.Class&lt;?&gt;...&nbsp;parameters)</code></th>
<td class="colLast">
<div class="block">Creates a new instance for the given <code>baseClass</code> and method declaration.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t1" class="tableTab"><span><a href="javascript:show(1);">Static Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>static &lt;C&gt;&nbsp;int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#compareImplementationDistance(java.lang.Class,org.apache.lucene.util.VirtualMethod,org.apache.lucene.util.VirtualMethod)">compareImplementationDistance</a></span>&#8203;(java.lang.Class&lt;? extends C&gt;&nbsp;clazz,
                             <a href="VirtualMethod.html" title="class in org.apache.lucene.util">VirtualMethod</a>&lt;C&gt;&nbsp;m1,
                             <a href="VirtualMethod.html" title="class in org.apache.lucene.util">VirtualMethod</a>&lt;C&gt;&nbsp;m2)</code></th>
<td class="colLast">
<div class="block">Utility method that compares the implementation/override distance of two methods.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>int</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#getImplementationDistance(java.lang.Class)">getImplementationDistance</a></span>&#8203;(java.lang.Class&lt;? extends <a href="VirtualMethod.html" title="type parameter in VirtualMethod">C</a>&gt;&nbsp;subclazz)</code></th>
<td class="colLast">
<div class="block">Returns the distance from the <code>baseClass</code> in which this method is overridden/implemented
 in the inheritance path between <code>baseClass</code> and the given subclass <code>subclazz</code>.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#isOverriddenAsOf(java.lang.Class)">isOverriddenAsOf</a></span>&#8203;(java.lang.Class&lt;? extends <a href="VirtualMethod.html" title="type parameter in VirtualMethod">C</a>&gt;&nbsp;subclazz)</code></th>
<td class="colLast">
<div class="block">Returns, if this method is overridden/implemented in the inheritance path between
 <code>baseClass</code> and the given subclass <code>subclazz</code>.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;(java.lang.Class,java.lang.String,java.lang.Class...)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>VirtualMethod</h4>
<pre>public&nbsp;VirtualMethod&#8203;(java.lang.Class&lt;<a href="VirtualMethod.html" title="type parameter in VirtualMethod">C</a>&gt;&nbsp;baseClass,
                     java.lang.String&nbsp;method,
                     java.lang.Class&lt;?&gt;...&nbsp;parameters)</pre>
<div class="block">Creates a new instance for the given <code>baseClass</code> and method declaration.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.lang.UnsupportedOperationException</code> - if you create a second instance of the same
  <code>baseClass</code> and method declaration combination. This enforces the singleton status.</dd>
<dd><code>java.lang.IllegalArgumentException</code> - if <code>baseClass</code> does not declare the given method.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="getImplementationDistance(java.lang.Class)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getImplementationDistance</h4>
<pre class="methodSignature">public&nbsp;int&nbsp;getImplementationDistance&#8203;(java.lang.Class&lt;? extends <a href="VirtualMethod.html" title="type parameter in VirtualMethod">C</a>&gt;&nbsp;subclazz)</pre>
<div class="block">Returns the distance from the <code>baseClass</code> in which this method is overridden/implemented
 in the inheritance path between <code>baseClass</code> and the given subclass <code>subclazz</code>.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>0 iff not overridden, else the distance to the base class</dd>
</dl>
</li>
</ul>
<a id="isOverriddenAsOf(java.lang.Class)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isOverriddenAsOf</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;isOverriddenAsOf&#8203;(java.lang.Class&lt;? extends <a href="VirtualMethod.html" title="type parameter in VirtualMethod">C</a>&gt;&nbsp;subclazz)</pre>
<div class="block">Returns, if this method is overridden/implemented in the inheritance path between
 <code>baseClass</code> and the given subclass <code>subclazz</code>.
 <p>You can use this method to detect if a method that should normally be final was overridden
 by the given instance's class.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><code>false</code> iff not overridden</dd>
</dl>
</li>
</ul>
<a id="compareImplementationDistance(java.lang.Class,org.apache.lucene.util.VirtualMethod,org.apache.lucene.util.VirtualMethod)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>compareImplementationDistance</h4>
<pre class="methodSignature">public static&nbsp;&lt;C&gt;&nbsp;int&nbsp;compareImplementationDistance&#8203;(java.lang.Class&lt;? extends C&gt;&nbsp;clazz,
                                                    <a href="VirtualMethod.html" title="class in org.apache.lucene.util">VirtualMethod</a>&lt;C&gt;&nbsp;m1,
                                                    <a href="VirtualMethod.html" title="class in org.apache.lucene.util">VirtualMethod</a>&lt;C&gt;&nbsp;m2)</pre>
<div class="block">Utility method that compares the implementation/override distance of two methods.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd><ul>
  <li>&gt; 1, iff <code>m1</code> is overridden/implemented in a subclass of the class overriding/declaring <code>m2</code>
  <li>&lt; 1, iff <code>m2</code> is overridden in a subclass of the class overriding/declaring <code>m1</code>
  <li>0, iff both methods are overridden in the same class (or are not overridden at all)
 </ul></dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &copy; 2010 - 2023 Adobe. All Rights Reserved</small></p>
</footer>
</body>
</html>
