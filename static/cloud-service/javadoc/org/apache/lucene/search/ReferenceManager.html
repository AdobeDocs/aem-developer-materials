<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.14) on Wed Dec 06 14:36:20 UTC 2023 -->
<title>ReferenceManager (The Adobe Experience Manager SDK 2023.12.14538.20231205T165334Z-231100)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-12-06">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ReferenceManager (The Adobe Experience Manager SDK 2023.12.14538.20231205T165334Z-231100)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.apache.lucene.search</a></div>
<h2 title="Class ReferenceManager" class="title">Class ReferenceManager&lt;G&gt;</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.lucene.search.ReferenceManager&lt;G&gt;</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt><span class="paramLabel">Type Parameters:</span></dt>
<dd><code>G</code> - the concrete type that will be <a href="#acquire()"><code>acquired</code></a> and
          <a href="#release(G)"><code>released</code></a>.</dd>
</dl>
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><code>java.io.Closeable</code>, <code>java.lang.AutoCloseable</code></dd>
</dl>
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="../index/ReaderManager.html" title="class in org.apache.lucene.index">ReaderManager</a></code>, <code><a href="SearcherManager.html" title="class in org.apache.lucene.search">SearcherManager</a></code>, <code><a href="../facet/taxonomy/SearcherTaxonomyManager.html" title="class in org.apache.lucene.facet.taxonomy">SearcherTaxonomyManager</a></code></dd>
</dl>
<hr>
<pre>public abstract class <span class="typeNameLabel">ReferenceManager&lt;G&gt;</span>
extends java.lang.Object
implements java.io.Closeable</pre>
<div class="block">Utility class to safely share instances of a certain type across multiple
 threads, while periodically refreshing them. This class ensures each
 reference is closed only once all threads have finished using it. It is
 recommended to consult the documentation of <a href="ReferenceManager.html" title="class in org.apache.lucene.search"><code>ReferenceManager</code></a>
 implementations for their <a href="#maybeRefresh()"><code>maybeRefresh()</code></a> semantics.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="nested.class.summary">
<!--   -->
</a>
<h3>Nested Class Summary</h3>
<table class="memberSummary">
<caption><span>Nested Classes</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Class</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static interface&nbsp;</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="ReferenceManager.RefreshListener.html" title="interface in org.apache.lucene.search">ReferenceManager.RefreshListener</a></span></code></th>
<td class="colLast">
<div class="block">Use to receive notification when a refresh has
  finished.</div>
</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">ReferenceManager</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code><a href="ReferenceManager.html" title="type parameter in ReferenceManager">G</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#acquire()">acquire</a></span>()</code></th>
<td class="colLast">
<div class="block">Obtain the current reference.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#addListener(org.apache.lucene.search.ReferenceManager.RefreshListener)">addListener</a></span>&#8203;(<a href="ReferenceManager.RefreshListener.html" title="interface in org.apache.lucene.search">ReferenceManager.RefreshListener</a>&nbsp;listener)</code></th>
<td class="colLast">
<div class="block">Adds a listener, to be notified when a reference is refreshed/swapped.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#close()">close</a></span>()</code></th>
<td class="colLast">
<div class="block">
 Closes this ReferenceManager to prevent future <a href="#acquire()"><code>acquiring</code></a>.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#maybeRefresh()">maybeRefresh</a></span>()</code></th>
<td class="colLast">
<div class="block">You must call this (or <a href="#maybeRefreshBlocking()"><code>maybeRefreshBlocking()</code></a>), periodically, if
 you want that <a href="#acquire()"><code>acquire()</code></a> will return refreshed instances.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#maybeRefreshBlocking()">maybeRefreshBlocking</a></span>()</code></th>
<td class="colLast">
<div class="block">You must call this (or <a href="#maybeRefresh()"><code>maybeRefresh()</code></a>), periodically, if you want
 that <a href="#acquire()"><code>acquire()</code></a> will return refreshed instances.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#release(G)">release</a></span>&#8203;(<a href="ReferenceManager.html" title="type parameter in ReferenceManager">G</a>&nbsp;reference)</code></th>
<td class="colLast">
<div class="block">Release the reference previously obtained via <a href="#acquire()"><code>acquire()</code></a>.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#removeListener(org.apache.lucene.search.ReferenceManager.RefreshListener)">removeListener</a></span>&#8203;(<a href="ReferenceManager.RefreshListener.html" title="interface in org.apache.lucene.search">ReferenceManager.RefreshListener</a>&nbsp;listener)</code></th>
<td class="colLast">
<div class="block">Remove a listener added with <a href="#addListener(org.apache.lucene.search.ReferenceManager.RefreshListener)"><code>addListener(RefreshListener)</code></a>.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ReferenceManager</h4>
<pre>public&nbsp;ReferenceManager()</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="acquire()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>acquire</h4>
<pre class="methodSignature">public final&nbsp;<a href="ReferenceManager.html" title="type parameter in ReferenceManager">G</a>&nbsp;acquire()
                throws java.io.IOException</pre>
<div class="block">Obtain the current reference. You must match every call to acquire with one
 call to <a href="#release(G)"><code>release(G)</code></a>; it's best to do so in a finally clause, and set
 the reference to <code>null</code> to prevent accidental usage after it has been
 released.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../store/AlreadyClosedException.html" title="class in org.apache.lucene.store">AlreadyClosedException</a></code> - if the reference manager has been <a href="#close()"><code>closed</code></a>.</dd>
<dd><code>java.io.IOException</code></dd>
</dl>
</li>
</ul>
<a id="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre class="methodSignature">public final&nbsp;void&nbsp;close()
                 throws java.io.IOException</pre>
<div class="block"><p>
 Closes this ReferenceManager to prevent future <a href="#acquire()"><code>acquiring</code></a>. A
 reference manager should be closed if the reference to the managed resource
 should be disposed or the application using the <a href="ReferenceManager.html" title="class in org.apache.lucene.search"><code>ReferenceManager</code></a>
 is shutting down. The managed resource might not be released immediately,
 if the <a href="ReferenceManager.html" title="class in org.apache.lucene.search"><code>ReferenceManager</code></a> user is holding on to a previously
 <a href="#acquire()"><code>acquired</code></a> reference. The resource will be released once
 when the last reference is <a href="#release(G)"><code>released</code></a>. Those
 references can still be used as if the manager was still active.
 </p>
 <p>
 Applications should not <a href="#acquire()"><code>acquire</code></a> new references from this
 manager once this method has been called. <a href="#acquire()"><code>Acquiring</code></a> a
 resource on a closed <a href="ReferenceManager.html" title="class in org.apache.lucene.search"><code>ReferenceManager</code></a> will throw an
 <a href="../store/AlreadyClosedException.html" title="class in org.apache.lucene.store"><code>AlreadyClosedException</code></a>.
 </p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>close</code>&nbsp;in interface&nbsp;<code>java.lang.AutoCloseable</code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>close</code>&nbsp;in interface&nbsp;<code>java.io.Closeable</code></dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if the underlying reader of the current reference could not be closed</dd>
</dl>
</li>
</ul>
<a id="maybeRefresh()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maybeRefresh</h4>
<pre class="methodSignature">public final&nbsp;boolean&nbsp;maybeRefresh()
                           throws java.io.IOException</pre>
<div class="block">You must call this (or <a href="#maybeRefreshBlocking()"><code>maybeRefreshBlocking()</code></a>), periodically, if
 you want that <a href="#acquire()"><code>acquire()</code></a> will return refreshed instances.
 
 <p>
 <b>Threads</b>: it's fine for more than one thread to call this at once.
 Only the first thread will attempt the refresh; subsequent threads will see
 that another thread is already handling refresh and will return
 immediately. Note that this means if another thread is already refreshing
 then subsequent threads will return right away without waiting for the
 refresh to complete.
 
 <p>
 If this method returns true it means the calling thread either refreshed or
 that there were no changes to refresh. If it returns false it means another
 thread is currently refreshing.
 </p></div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if refreshing the resource causes an <code>IOException</code></dd>
<dd><code><a href="../store/AlreadyClosedException.html" title="class in org.apache.lucene.store">AlreadyClosedException</a></code> - if the reference manager has been <a href="#close()"><code>closed</code></a>.</dd>
</dl>
</li>
</ul>
<a id="maybeRefreshBlocking()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>maybeRefreshBlocking</h4>
<pre class="methodSignature">public final&nbsp;void&nbsp;maybeRefreshBlocking()
                                throws java.io.IOException</pre>
<div class="block">You must call this (or <a href="#maybeRefresh()"><code>maybeRefresh()</code></a>), periodically, if you want
 that <a href="#acquire()"><code>acquire()</code></a> will return refreshed instances.
 
 <p>
 <b>Threads</b>: unlike <a href="#maybeRefresh()"><code>maybeRefresh()</code></a>, if another thread is
 currently refreshing, this method blocks until that thread completes. It is
 useful if you want to guarantee that the next call to <a href="#acquire()"><code>acquire()</code></a>
 will return a refreshed instance. Otherwise, consider using the
 non-blocking <a href="#maybeRefresh()"><code>maybeRefresh()</code></a>.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if refreshing the resource causes an <code>IOException</code></dd>
<dd><code><a href="../store/AlreadyClosedException.html" title="class in org.apache.lucene.store">AlreadyClosedException</a></code> - if the reference manager has been <a href="#close()"><code>closed</code></a>.</dd>
</dl>
</li>
</ul>
<a id="release(java.lang.Object)">
<!--   -->
</a><a id="release(G)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>release</h4>
<pre class="methodSignature">public final&nbsp;void&nbsp;release&#8203;(<a href="ReferenceManager.html" title="type parameter in ReferenceManager">G</a>&nbsp;reference)
                   throws java.io.IOException</pre>
<div class="block">Release the reference previously obtained via <a href="#acquire()"><code>acquire()</code></a>.
 <p>
 <b>NOTE:</b> it's safe to call this after <a href="#close()"><code>close()</code></a>.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code> - if the release operation on the given resource throws an <code>IOException</code></dd>
</dl>
</li>
</ul>
<a id="addListener(org.apache.lucene.search.ReferenceManager.RefreshListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>addListener</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;addListener&#8203;(<a href="ReferenceManager.RefreshListener.html" title="interface in org.apache.lucene.search">ReferenceManager.RefreshListener</a>&nbsp;listener)</pre>
<div class="block">Adds a listener, to be notified when a reference is refreshed/swapped.</div>
</li>
</ul>
<a id="removeListener(org.apache.lucene.search.ReferenceManager.RefreshListener)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>removeListener</h4>
<pre class="methodSignature">public&nbsp;void&nbsp;removeListener&#8203;(<a href="ReferenceManager.RefreshListener.html" title="interface in org.apache.lucene.search">ReferenceManager.RefreshListener</a>&nbsp;listener)</pre>
<div class="block">Remove a listener added with <a href="#addListener(org.apache.lucene.search.ReferenceManager.RefreshListener)"><code>addListener(RefreshListener)</code></a>.</div>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li><a href="#nested.class.summary">Nested</a>&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &copy; 2010 - 2023 Adobe. All Rights Reserved</small></p>
</footer>
</body>
</html>
