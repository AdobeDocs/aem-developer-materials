<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.12) on Wed Oct 06 16:52:31 UTC 2021 -->
<title>Collector (The Adobe Experience Manager SDK 2021.9.5899.20210929T093525Z-210900)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2021-10-06">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="Collector (The Adobe Experience Manager SDK 2021.9.5899.20210929T093525Z-210900)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":6,"i1":6,"i2":6,"i3":6};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],4:["t3","Abstract Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.apache.lucene.search</a></div>
<h2 title="Class Collector" class="title">Class Collector</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li>org.apache.lucene.search.Collector</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Direct Known Subclasses:</dt>
<dd><code><a href="CachingCollector.html" title="class in org.apache.lucene.search">CachingCollector</a></code>, <code><a href="../index/sorter/EarlyTerminatingSortingCollector.html" title="class in org.apache.lucene.index.sorter">EarlyTerminatingSortingCollector</a></code>, <code><a href="../facet/FacetsCollector.html" title="class in org.apache.lucene.facet">FacetsCollector</a></code>, <code><a href="MultiCollector.html" title="class in org.apache.lucene.search">MultiCollector</a></code>, <code><a href="PositiveScoresOnlyCollector.html" title="class in org.apache.lucene.search">PositiveScoresOnlyCollector</a></code>, <code><a href="TimeLimitingCollector.html" title="class in org.apache.lucene.search">TimeLimitingCollector</a></code>, <code><a href="TopDocsCollector.html" title="class in org.apache.lucene.search">TopDocsCollector</a></code>, <code><a href="TotalHitCountCollector.html" title="class in org.apache.lucene.search">TotalHitCountCollector</a></code></dd>
</dl>
<hr>
<pre>public abstract class <span class="typeNameLabel">Collector</span>
extends <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></pre>
<div class="block"><p>Expert: Collectors are primarily meant to be used to
 gather raw results from a search, and implement sorting
 or custom result filtering, collation, etc. </p>

 <p>Lucene's core collectors are derived from Collector.
 Likely your application can use one of these classes, or
 subclass <a href="TopDocsCollector.html" title="class in org.apache.lucene.search"><code>TopDocsCollector</code></a>, instead of
 implementing Collector directly:

 <ul>
      
   <li><a href="TopDocsCollector.html" title="class in org.apache.lucene.search"><code>TopDocsCollector</code></a> is an abstract base class
   that assumes you will retrieve the top N docs,
   according to some criteria, after collection is
   done.  </li>

   <li><a href="TopScoreDocCollector.html" title="class in org.apache.lucene.search"><code>TopScoreDocCollector</code></a> is a concrete subclass
   <a href="TopDocsCollector.html" title="class in org.apache.lucene.search"><code>TopDocsCollector</code></a> and sorts according to score +
   docID.  This is used internally by the <a href="IndexSearcher.html" title="class in org.apache.lucene.search"><code>IndexSearcher</code></a> search methods that do not take an
   explicit <a href="Sort.html" title="class in org.apache.lucene.search"><code>Sort</code></a>. It is likely the most frequently
   used collector.</li>

   <li><a href="TopFieldCollector.html" title="class in org.apache.lucene.search"><code>TopFieldCollector</code></a> subclasses <a href="TopDocsCollector.html" title="class in org.apache.lucene.search"><code>TopDocsCollector</code></a> and sorts according to a specified
   <a href="Sort.html" title="class in org.apache.lucene.search"><code>Sort</code></a> object (sort by field).  This is used
   internally by the <a href="IndexSearcher.html" title="class in org.apache.lucene.search"><code>IndexSearcher</code></a> search methods
   that take an explicit <a href="Sort.html" title="class in org.apache.lucene.search"><code>Sort</code></a>.

   <li><a href="TimeLimitingCollector.html" title="class in org.apache.lucene.search"><code>TimeLimitingCollector</code></a>, which wraps any other
   Collector and aborts the search if it's taken too much
   time.</li>

   <li><a href="PositiveScoresOnlyCollector.html" title="class in org.apache.lucene.search"><code>PositiveScoresOnlyCollector</code></a> wraps any other
   Collector and prevents collection of hits whose score
   is &lt;= 0.0</li>

 </ul>

 <p>Collector decouples the score from the collected doc:
 the score computation is skipped entirely if it's not
 needed.  Collectors that do need the score should
 implement the <a href="#setScorer(org.apache.lucene.search.Scorer)"><code>setScorer(org.apache.lucene.search.Scorer)</code></a> method, to hold onto the
 passed <a href="Scorer.html" title="class in org.apache.lucene.search"><code>Scorer</code></a> instance, and call <a href="Scorer.html#score()"><code>Scorer.score()</code></a> within the collect method to compute the
 current hit's score.  If your collector may request the
 score for a single hit multiple times, you should use
 <a href="ScoreCachingWrappingScorer.html" title="class in org.apache.lucene.search"><code>ScoreCachingWrappingScorer</code></a>. </p>
 
 <p><b>NOTE:</b> The doc that is passed to the collect
 method is relative to the current reader. If your
 collector needs to resolve this to the docID space of the
 Multi*Reader, you must re-base it by recording the
 docBase from the most recent setNextReader call.  Here's
 a simple example showing how to collect docIDs into a
 BitSet:</p>
 
 <pre class="prettyprint">
 IndexSearcher searcher = new IndexSearcher(indexReader);
 final BitSet bits = new BitSet(indexReader.maxDoc());
 searcher.search(query, new Collector() {
   private int docBase;
 
   <em>// ignore scorer</em>
   public void setScorer(Scorer scorer) {
   }

   <em>// accept docs out of order (for a BitSet it doesn't matter)</em>
   public boolean acceptsDocsOutOfOrder() {
     return true;
   }
 
   public void collect(int doc) {
     bits.set(doc + docBase);
   }
 
   public void setNextReader(AtomicReaderContext context) {
     this.docBase = context.docBase;
   }
 });
 </pre>

 <p>Not all collectors will need to rebase the docID.  For
 example, a collector that simply counts the total number
 of hits would skip it.</p>
 
 <p><b>NOTE:</b> Prior to 2.9, Lucene silently filtered
 out hits with score <= 0.  As of 2.9, the core Collectors
 no longer do that.  It's very unusual to have such hits
 (a negative query boost, or function query returning
 negative custom scores, could cause it to happen).  If
 you need that behavior, use <a href="PositiveScoresOnlyCollector.html" title="class in org.apache.lucene.search"><code>PositiveScoresOnlyCollector</code></a>.</p></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>2.9</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Constructor</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr class="altColor">
<th class="colConstructorName" scope="row"><code><span class="memberNameLink"><a href="#%3Cinit%3E()">Collector</a></span>()</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
</li>
</ul>
</section>
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t3" class="tableTab"><span><a href="javascript:show(4);">Abstract Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>abstract boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#acceptsDocsOutOfOrder()">acceptsDocsOutOfOrder</a></span>()</code></th>
<td class="colLast">
<div class="block">Return <code>true</code> if this collector does not
 require the matching docIDs to be delivered in int sort
 order (smallest to largest) to <a href="#collect(int)"><code>collect(int)</code></a>.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#collect(int)">collect</a></span>&#8203;(int&nbsp;doc)</code></th>
<td class="colLast">
<div class="block">Called once for every document matching a query, with the unbased document
 number.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>abstract void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setNextReader(org.apache.lucene.index.AtomicReaderContext)">setNextReader</a></span>&#8203;(<a href="../index/AtomicReaderContext.html" title="class in org.apache.lucene.index">AtomicReaderContext</a>&nbsp;context)</code></th>
<td class="colLast">
<div class="block">Called before collecting from each <a href="../index/AtomicReaderContext.html" title="class in org.apache.lucene.index"><code>AtomicReaderContext</code></a>.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>abstract void</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#setScorer(org.apache.lucene.search.Scorer)">setScorer</a></span>&#8203;(<a href="Scorer.html" title="class in org.apache.lucene.search">Scorer</a>&nbsp;scorer)</code></th>
<td class="colLast">
<div class="block">Called before successive calls to <a href="#collect(int)"><code>collect(int)</code></a>.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang" class="externalLink">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang" class="externalLink">equals</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang" class="externalLink">getClass</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang" class="externalLink">hashCode</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang" class="externalLink">notify</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang" class="externalLink">notifyAll</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang" class="externalLink">toString</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang" class="externalLink">wait</a>, <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Object.html?is-external=true#wait(long,int)" title="class or interface in java.lang" class="externalLink">wait</a></code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a id="&lt;init&gt;()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Collector</h4>
<pre>public&nbsp;Collector()</pre>
</li>
</ul>
</li>
</ul>
</section>
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="setScorer(org.apache.lucene.search.Scorer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setScorer</h4>
<pre class="methodSignature">public abstract&nbsp;void&nbsp;setScorer&#8203;(<a href="Scorer.html" title="class in org.apache.lucene.search">Scorer</a>&nbsp;scorer)
                        throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Called before successive calls to <a href="#collect(int)"><code>collect(int)</code></a>. Implementations
 that need the score of the current document (passed-in to
 <a href="#collect(int)"><code>collect(int)</code></a>), should save the passed-in Scorer and call
 scorer.score() when needed.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="collect(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>collect</h4>
<pre class="methodSignature">public abstract&nbsp;void&nbsp;collect&#8203;(int&nbsp;doc)
                      throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Called once for every document matching a query, with the unbased document
 number.
 <p>Note: The collection of the current segment can be terminated by throwing
 a <a href="CollectionTerminatedException.html" title="class in org.apache.lucene.search"><code>CollectionTerminatedException</code></a>. In this case, the last docs of the
 current <a href="../index/AtomicReaderContext.html" title="class in org.apache.lucene.index"><code>AtomicReaderContext</code></a> will be skipped and <a href="IndexSearcher.html" title="class in org.apache.lucene.search"><code>IndexSearcher</code></a>
 will swallow the exception and continue collection with the next leaf.
 <p>
 Note: This is called in an inner search loop. For good search performance,
 implementations of this method should not call <a href="IndexSearcher.html#doc(int)"><code>IndexSearcher.doc(int)</code></a> or
 <a href="../index/IndexReader.html#document(int)"><code>IndexReader.document(int)</code></a> on every hit.
 Doing so can slow searches by an order of magnitude or more.</div>
<dl>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="setNextReader(org.apache.lucene.index.AtomicReaderContext)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setNextReader</h4>
<pre class="methodSignature">public abstract&nbsp;void&nbsp;setNextReader&#8203;(<a href="../index/AtomicReaderContext.html" title="class in org.apache.lucene.index">AtomicReaderContext</a>&nbsp;context)
                            throws <a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></pre>
<div class="block">Called before collecting from each <a href="../index/AtomicReaderContext.html" title="class in org.apache.lucene.index"><code>AtomicReaderContext</code></a>. All doc ids in
 <a href="#collect(int)"><code>collect(int)</code></a> will correspond to <a href="../index/IndexReaderContext.html#reader()"><code>IndexReaderContext.reader()</code></a>.
 
 Add <a href="../index/AtomicReaderContext.html#docBase"><code>AtomicReaderContext.docBase</code></a> to the current  <a href="../index/IndexReaderContext.html#reader()"><code>IndexReaderContext.reader()</code></a>'s
 internal document id to re-base ids in <a href="#collect(int)"><code>collect(int)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - next atomic reader context</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/8/docs/api/java/io/IOException.html?is-external=true" title="class or interface in java.io" class="externalLink">IOException</a></code></dd>
</dl>
</li>
</ul>
<a id="acceptsDocsOutOfOrder()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>acceptsDocsOutOfOrder</h4>
<pre class="methodSignature">public abstract&nbsp;boolean&nbsp;acceptsDocsOutOfOrder()</pre>
<div class="block">Return <code>true</code> if this collector does not
 require the matching docIDs to be delivered in int sort
 order (smallest to largest) to <a href="#collect(int)"><code>collect(int)</code></a>.

 <p> Most Lucene Query implementations will visit
 matching docIDs in order.  However, some queries
 (currently limited to certain cases of <a href="BooleanQuery.html" title="class in org.apache.lucene.search"><code>BooleanQuery</code></a>) can achieve faster searching if the
 <code>Collector</code> allows them to deliver the
 docIDs out of order.</p>

 <p> Many collectors don't mind getting docIDs out of
 order, so it's important to return <code>true</code>
 here.</div>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &copy; 2010 - 2021 Adobe. All Rights Reserved</small></p>
</footer>
</body>
</html>
