<!DOCTYPE HTML>
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (11.0.14) on Wed Dec 06 14:36:20 UTC 2023 -->
<title>NodeStateCopier.Builder (The Adobe Experience Manager SDK 2023.12.14538.20231205T165334Z-231100)</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta name="dc.created" content="2023-12-06">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="NodeStateCopier.Builder (The Adobe Experience Manager SDK 2023.12.14538.20231205T165334Z-231100)";
        }
    }
    catch(err) {
    }
//-->
var data = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<div class="fixedNav">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a id="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
</div>
<div class="navPadding">&nbsp;</div>
<script type="text/javascript"><!--
$('.navPadding').css('padding-top', $('.fixedNav').css("height"));
//-->
</script>
</nav>
</header>
<!-- ======== START OF CLASS DATA ======== -->
<main role="main">
<div class="header">
<div class="subTitle"><span class="packageLabelInType">Package</span>&nbsp;<a href="package-summary.html">org.apache.jackrabbit.oak.plugins.migration</a></div>
<h2 title="Class NodeStateCopier.Builder" class="title">Class NodeStateCopier.Builder</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>org.apache.jackrabbit.oak.plugins.migration.NodeStateCopier.Builder</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>Enclosing class:</dt>
<dd><a href="NodeStateCopier.html" title="class in org.apache.jackrabbit.oak.plugins.migration">NodeStateCopier</a></dd>
</dl>
<hr>
<pre>public static class <span class="typeNameLabel">NodeStateCopier.Builder</span>
extends java.lang.Object</pre>
<div class="block">The NodeStateCopier.Builder allows configuring a NodeState copy operation with
 <code>includePaths</code>, <code>excludePaths</code> and <code>mergePaths</code>.
 <br>
 <b>Include paths</b> can define which paths should be copied from the source to the
 target.
 <br>
 <b>Exclude paths</b> allow restricting which paths should be copied. This is
 especially useful when there are individual nodes in an included path that
 should not be copied.
 <br>
 By default copying will remove items that already exist in the target but do
 not exist in the source. If this behaviour is undesired that is where merge
 paths come in.
 <br>
 <b>Merge paths</b> dictate in which parts of the tree the copy operation should
 be <i>additive</i>, i.e. the content from source is merged with the content
 in the target. Nodes that are present in the target but not in the source are
 then not deleted. However, in the case where nodes are present in both the source
 and the target, the node from the source is copied with its properties and any
 properties previously present on the target's node are lost.
 <br>
 Finally, using one of the <code>copy</code> methods, NodeStores or NodeStates can
 be copied.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ========== METHOD SUMMARY =========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colSecond" scope="col">Method</th>
<th class="colLast" scope="col">Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#copy(org.apache.jackrabbit.oak.spi.state.NodeState,org.apache.jackrabbit.oak.spi.state.NodeBuilder)">copy</a></span>&#8203;(@NotNull <a href="../../spi/state/NodeState.html" title="interface in org.apache.jackrabbit.oak.spi.state">NodeState</a>&nbsp;sourceRoot,
    @NotNull <a href="../../spi/state/NodeBuilder.html" title="interface in org.apache.jackrabbit.oak.spi.state">NodeBuilder</a>&nbsp;targetRoot)</code></th>
<td class="colLast">
<div class="block">Creates a NodeStateCopier to copy the <code>sourceRoot</code> NodeState to the
 <code>targetRoot</code> NodeBuilder, using any include, exclude, merge paths and
 consumer set on this NodeStateCopier.Builder.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#copy(org.apache.jackrabbit.oak.spi.state.NodeStore,org.apache.jackrabbit.oak.spi.state.NodeStore)">copy</a></span>&#8203;(@NotNull <a href="../../spi/state/NodeStore.html" title="interface in org.apache.jackrabbit.oak.spi.state">NodeStore</a>&nbsp;source,
    @NotNull <a href="../../spi/state/NodeStore.html" title="interface in org.apache.jackrabbit.oak.spi.state">NodeStore</a>&nbsp;target)</code></th>
<td class="colLast">
<div class="block">Creates a NodeStateCopier to copy the <code>source</code> NodeStore to the
 <code>target</code> NodeStore, using any include, exclude, merge paths and
 consumer set on this NodeStateCopier.Builder.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>@NotNull <a href="NodeStateCopier.Builder.html" title="class in org.apache.jackrabbit.oak.plugins.migration">NodeStateCopier.Builder</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#exclude(java.lang.String...)">exclude</a></span>&#8203;(@NotNull java.lang.String...&nbsp;paths)</code></th>
<td class="colLast">
<div class="block">Convenience wrapper for <a href="#exclude(java.util.Set)"><code>exclude(Set)</code></a>.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>@NotNull <a href="NodeStateCopier.Builder.html" title="class in org.apache.jackrabbit.oak.plugins.migration">NodeStateCopier.Builder</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#exclude(java.util.Set)">exclude</a></span>&#8203;(@NotNull java.util.Set&lt;java.lang.String&gt;&nbsp;paths)</code></th>
<td class="colLast">
<div class="block">Set exclude paths.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>@NotNull <a href="NodeStateCopier.Builder.html" title="class in org.apache.jackrabbit.oak.plugins.migration">NodeStateCopier.Builder</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#excludeFragments(java.lang.String...)">excludeFragments</a></span>&#8203;(@NotNull java.lang.String...&nbsp;fragments)</code></th>
<td class="colLast">
<div class="block">Convenience wrapper for <a href="#exclude(java.util.Set)"><code>exclude(Set)</code></a>.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>@NotNull <a href="NodeStateCopier.Builder.html" title="class in org.apache.jackrabbit.oak.plugins.migration">NodeStateCopier.Builder</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#excludeFragments(java.util.Set)">excludeFragments</a></span>&#8203;(@NotNull java.util.Set&lt;java.lang.String&gt;&nbsp;fragments)</code></th>
<td class="colLast">
<div class="block">Set exclude fragments.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>@NotNull <a href="NodeStateCopier.Builder.html" title="class in org.apache.jackrabbit.oak.plugins.migration">NodeStateCopier.Builder</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#include(java.lang.String...)">include</a></span>&#8203;(@NotNull java.lang.String...&nbsp;paths)</code></th>
<td class="colLast">
<div class="block">Convenience wrapper for <a href="#include(java.util.Set)"><code>include(Set)</code></a>.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>@NotNull <a href="NodeStateCopier.Builder.html" title="class in org.apache.jackrabbit.oak.plugins.migration">NodeStateCopier.Builder</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#include(java.util.Set)">include</a></span>&#8203;(@NotNull java.util.Set&lt;java.lang.String&gt;&nbsp;paths)</code></th>
<td class="colLast">
<div class="block">Set include paths.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>@NotNull <a href="NodeStateCopier.Builder.html" title="class in org.apache.jackrabbit.oak.plugins.migration">NodeStateCopier.Builder</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#merge(java.lang.String...)">merge</a></span>&#8203;(@NotNull java.lang.String...&nbsp;paths)</code></th>
<td class="colLast">
<div class="block">Convenience wrapper for <a href="#merge(java.util.Set)"><code>merge(Set)</code></a>.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>@NotNull <a href="NodeStateCopier.Builder.html" title="class in org.apache.jackrabbit.oak.plugins.migration">NodeStateCopier.Builder</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#merge(java.util.Set)">merge</a></span>&#8203;(@NotNull java.util.Set&lt;java.lang.String&gt;&nbsp;paths)</code></th>
<td class="colLast">
<div class="block">Set merge paths.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>@NotNull <a href="NodeStateCopier.Builder.html" title="class in org.apache.jackrabbit.oak.plugins.migration">NodeStateCopier.Builder</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#preserve(@org.jetbrains.annotations.NotNullboolean)">preserve</a></span>&#8203;(@org.jetbrains.annotations.NotNull boolean&nbsp;preserveOnTarget)</code></th>
<td class="colLast">
<div class="block">Set if preserve paths on target</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>@NotNull <a href="NodeStateCopier.Builder.html" title="class in org.apache.jackrabbit.oak.plugins.migration">NodeStateCopier.Builder</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#supportFragment(java.lang.String...)">supportFragment</a></span>&#8203;(@NotNull java.lang.String...&nbsp;paths)</code></th>
<td class="colLast">
<div class="block">Convenience wrapper for <a href="#supportFragment(java.util.Set)"><code>supportFragment(Set)</code></a>.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>@NotNull <a href="NodeStateCopier.Builder.html" title="class in org.apache.jackrabbit.oak.plugins.migration">NodeStateCopier.Builder</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#supportFragment(java.util.Set)">supportFragment</a></span>&#8203;(@NotNull java.util.Set&lt;java.lang.String&gt;&nbsp;paths)</code></th>
<td class="colLast">
<div class="block">Set fragment paths.</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code><a href="NodeStateCopier.Builder.html" title="class in org.apache.jackrabbit.oak.plugins.migration">NodeStateCopier.Builder</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#withNodeConsumer(java.util.function.Consumer)">withNodeConsumer</a></span>&#8203;(@NotNull java.util.function.Consumer&nbsp;consumer)</code></th>
<td class="colLast">
<div class="block">Set consumer for node additions.</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>@NotNull <a href="NodeStateCopier.Builder.html" title="class in org.apache.jackrabbit.oak.plugins.migration">NodeStateCopier.Builder</a></code></td>
<th class="colSecond" scope="row"><code><span class="memberNameLink"><a href="#withReferenceableFrozenNodes(boolean)">withReferenceableFrozenNodes</a></span>&#8203;(boolean&nbsp;isReferenceable)</code></th>
<td class="colLast">&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a id="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ METHOD DETAIL ========== -->
<section role="region">
<ul class="blockList">
<li class="blockList"><a id="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a id="include(java.util.Set)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>include</h4>
<pre class="methodSignature">@NotNull
public&nbsp;@NotNull <a href="NodeStateCopier.Builder.html" title="class in org.apache.jackrabbit.oak.plugins.migration">NodeStateCopier.Builder</a>&nbsp;include&#8203;(@NotNull
                                                @NotNull java.util.Set&lt;java.lang.String&gt;&nbsp;paths)</pre>
<div class="block">Set include paths.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>paths</code> - include paths</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this Builder instance</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="NodeStateCopier.html#%3Cinit%3E(java.util.Set,java.util.Set,java.util.Set,java.util.Set,java.util.Set,boolean,boolean,java.util.function.Consumer)"><code>NodeStateCopier(Set, Set, Set, Set, Set, boolean, boolean, Consumer)</code></a></dd>
</dl>
</li>
</ul>
<a id="include(java.lang.String...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>include</h4>
<pre class="methodSignature">@NotNull
public&nbsp;@NotNull <a href="NodeStateCopier.Builder.html" title="class in org.apache.jackrabbit.oak.plugins.migration">NodeStateCopier.Builder</a>&nbsp;include&#8203;(@NotNull
                                                @NotNull java.lang.String...&nbsp;paths)</pre>
<div class="block">Convenience wrapper for <a href="#include(java.util.Set)"><code>include(Set)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>paths</code> - include paths</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this Builder instance</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="NodeStateCopier.html#%3Cinit%3E(java.util.Set,java.util.Set,java.util.Set,java.util.Set,java.util.Set,boolean,boolean,java.util.function.Consumer)"><code>NodeStateCopier(Set, Set, Set, Set, Set, boolean, boolean, Consumer)</code></a></dd>
</dl>
</li>
</ul>
<a id="preserve(@org.jetbrains.annotations.NotNullboolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>preserve</h4>
<pre class="methodSignature">@NotNull
public&nbsp;@NotNull <a href="NodeStateCopier.Builder.html" title="class in org.apache.jackrabbit.oak.plugins.migration">NodeStateCopier.Builder</a>&nbsp;preserve&#8203;(@NotNull
                                                 @org.jetbrains.annotations.NotNull boolean&nbsp;preserveOnTarget)</pre>
<div class="block">Set if preserve paths on target</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>preserveOnTarget</code> - if paths on target are preserved if not present on source</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this Builder instance</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="NodeStateCopier.html#%3Cinit%3E(java.util.Set,java.util.Set,java.util.Set,java.util.Set,java.util.Set,boolean,boolean,java.util.function.Consumer)"><code>NodeStateCopier(Set, Set, Set, Set, Set, boolean, boolean, Consumer)</code></a></dd>
</dl>
</li>
</ul>
<a id="exclude(java.util.Set)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>exclude</h4>
<pre class="methodSignature">@NotNull
public&nbsp;@NotNull <a href="NodeStateCopier.Builder.html" title="class in org.apache.jackrabbit.oak.plugins.migration">NodeStateCopier.Builder</a>&nbsp;exclude&#8203;(@NotNull
                                                @NotNull java.util.Set&lt;java.lang.String&gt;&nbsp;paths)</pre>
<div class="block">Set exclude paths.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>paths</code> - exclude paths</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this Builder instance</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="NodeStateCopier.html#%3Cinit%3E(java.util.Set,java.util.Set,java.util.Set,java.util.Set,java.util.Set,boolean,boolean,java.util.function.Consumer)"><code>NodeStateCopier(Set, Set, Set, Set, Set, boolean, boolean, Consumer)</code></a></dd>
</dl>
</li>
</ul>
<a id="exclude(java.lang.String...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>exclude</h4>
<pre class="methodSignature">@NotNull
public&nbsp;@NotNull <a href="NodeStateCopier.Builder.html" title="class in org.apache.jackrabbit.oak.plugins.migration">NodeStateCopier.Builder</a>&nbsp;exclude&#8203;(@NotNull
                                                @NotNull java.lang.String...&nbsp;paths)</pre>
<div class="block">Convenience wrapper for <a href="#exclude(java.util.Set)"><code>exclude(Set)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>paths</code> - exclude paths</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this Builder instance</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="NodeStateCopier.html#%3Cinit%3E(java.util.Set,java.util.Set,java.util.Set,java.util.Set,java.util.Set,boolean,boolean,java.util.function.Consumer)"><code>NodeStateCopier(Set, Set, Set, Set, Set, boolean, boolean, Consumer)</code></a></dd>
</dl>
</li>
</ul>
<a id="supportFragment(java.util.Set)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>supportFragment</h4>
<pre class="methodSignature">@NotNull
public&nbsp;@NotNull <a href="NodeStateCopier.Builder.html" title="class in org.apache.jackrabbit.oak.plugins.migration">NodeStateCopier.Builder</a>&nbsp;supportFragment&#8203;(@NotNull
                                                        @NotNull java.util.Set&lt;java.lang.String&gt;&nbsp;paths)</pre>
<div class="block">Set fragment paths.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>paths</code> - fragment paths</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this Builder instance</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="NodeStateCopier.html#%3Cinit%3E(java.util.Set,java.util.Set,java.util.Set,java.util.Set,java.util.Set,boolean,boolean,java.util.function.Consumer)"><code>NodeStateCopier(Set, Set, Set, Set, Set, boolean, boolean, Consumer)</code></a></dd>
</dl>
</li>
</ul>
<a id="supportFragment(java.lang.String...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>supportFragment</h4>
<pre class="methodSignature">@NotNull
public&nbsp;@NotNull <a href="NodeStateCopier.Builder.html" title="class in org.apache.jackrabbit.oak.plugins.migration">NodeStateCopier.Builder</a>&nbsp;supportFragment&#8203;(@NotNull
                                                        @NotNull java.lang.String...&nbsp;paths)</pre>
<div class="block">Convenience wrapper for <a href="#supportFragment(java.util.Set)"><code>supportFragment(Set)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>paths</code> - fragment paths</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this Builder instance</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="NodeStateCopier.html#%3Cinit%3E(java.util.Set,java.util.Set,java.util.Set,java.util.Set,java.util.Set,boolean,boolean,java.util.function.Consumer)"><code>NodeStateCopier(Set, Set, Set, Set, Set, boolean, boolean, Consumer)</code></a></dd>
</dl>
</li>
</ul>
<a id="excludeFragments(java.util.Set)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>excludeFragments</h4>
<pre class="methodSignature">@NotNull
public&nbsp;@NotNull <a href="NodeStateCopier.Builder.html" title="class in org.apache.jackrabbit.oak.plugins.migration">NodeStateCopier.Builder</a>&nbsp;excludeFragments&#8203;(@NotNull
                                                         @NotNull java.util.Set&lt;java.lang.String&gt;&nbsp;fragments)</pre>
<div class="block">Set exclude fragments.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fragments</code> - exclude fragments</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this Builder instance</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="NodeStateCopier.html#%3Cinit%3E(java.util.Set,java.util.Set,java.util.Set,java.util.Set,java.util.Set,boolean,boolean,java.util.function.Consumer)"><code>NodeStateCopier(Set, Set, Set, Set, Set, boolean, boolean, Consumer)</code></a></dd>
</dl>
</li>
</ul>
<a id="excludeFragments(java.lang.String...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>excludeFragments</h4>
<pre class="methodSignature">@NotNull
public&nbsp;@NotNull <a href="NodeStateCopier.Builder.html" title="class in org.apache.jackrabbit.oak.plugins.migration">NodeStateCopier.Builder</a>&nbsp;excludeFragments&#8203;(@NotNull
                                                         @NotNull java.lang.String...&nbsp;fragments)</pre>
<div class="block">Convenience wrapper for <a href="#exclude(java.util.Set)"><code>exclude(Set)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>fragments</code> - exclude fragments</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this Builder instance</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="NodeStateCopier.html#%3Cinit%3E(java.util.Set,java.util.Set,java.util.Set,java.util.Set,java.util.Set,boolean,boolean,java.util.function.Consumer)"><code>NodeStateCopier(Set, Set, Set, Set, Set, boolean, boolean, Consumer)</code></a></dd>
</dl>
</li>
</ul>
<a id="merge(java.util.Set)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>merge</h4>
<pre class="methodSignature">@NotNull
public&nbsp;@NotNull <a href="NodeStateCopier.Builder.html" title="class in org.apache.jackrabbit.oak.plugins.migration">NodeStateCopier.Builder</a>&nbsp;merge&#8203;(@NotNull
                                              @NotNull java.util.Set&lt;java.lang.String&gt;&nbsp;paths)</pre>
<div class="block">Set merge paths.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>paths</code> - merge paths</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this Builder instance</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="NodeStateCopier.html#%3Cinit%3E(java.util.Set,java.util.Set,java.util.Set,java.util.Set,java.util.Set,boolean,boolean,java.util.function.Consumer)"><code>NodeStateCopier(Set, Set, Set, Set, Set, boolean, boolean, Consumer)</code></a></dd>
</dl>
</li>
</ul>
<a id="merge(java.lang.String...)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>merge</h4>
<pre class="methodSignature">@NotNull
public&nbsp;@NotNull <a href="NodeStateCopier.Builder.html" title="class in org.apache.jackrabbit.oak.plugins.migration">NodeStateCopier.Builder</a>&nbsp;merge&#8203;(@NotNull
                                              @NotNull java.lang.String...&nbsp;paths)</pre>
<div class="block">Convenience wrapper for <a href="#merge(java.util.Set)"><code>merge(Set)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>paths</code> - merge paths</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this Builder instance</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="NodeStateCopier.html#%3Cinit%3E(java.util.Set,java.util.Set,java.util.Set,java.util.Set,java.util.Set,boolean,boolean,java.util.function.Consumer)"><code>NodeStateCopier(Set, Set, Set, Set, Set, boolean, boolean, Consumer)</code></a></dd>
</dl>
</li>
</ul>
<a id="withReferenceableFrozenNodes(boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withReferenceableFrozenNodes</h4>
<pre class="methodSignature">@NotNull
public&nbsp;@NotNull <a href="NodeStateCopier.Builder.html" title="class in org.apache.jackrabbit.oak.plugins.migration">NodeStateCopier.Builder</a>&nbsp;withReferenceableFrozenNodes&#8203;(boolean&nbsp;isReferenceable)</pre>
</li>
</ul>
<a id="withNodeConsumer(java.util.function.Consumer)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>withNodeConsumer</h4>
<pre class="methodSignature">public&nbsp;<a href="NodeStateCopier.Builder.html" title="class in org.apache.jackrabbit.oak.plugins.migration">NodeStateCopier.Builder</a>&nbsp;withNodeConsumer&#8203;(@NotNull
                                                @NotNull java.util.function.Consumer&nbsp;consumer)</pre>
<div class="block">Set consumer for node additions.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>consumer</code> - consumer to listen to path additions</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>this Builder instance</dd>
</dl>
</li>
</ul>
<a id="copy(org.apache.jackrabbit.oak.spi.state.NodeState,org.apache.jackrabbit.oak.spi.state.NodeBuilder)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>copy</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;copy&#8203;(@NotNull
                    @NotNull <a href="../../spi/state/NodeState.html" title="interface in org.apache.jackrabbit.oak.spi.state">NodeState</a>&nbsp;sourceRoot,
                    @NotNull
                    @NotNull <a href="../../spi/state/NodeBuilder.html" title="interface in org.apache.jackrabbit.oak.spi.state">NodeBuilder</a>&nbsp;targetRoot)</pre>
<div class="block">Creates a NodeStateCopier to copy the <code>sourceRoot</code> NodeState to the
 <code>targetRoot</code> NodeBuilder, using any include, exclude, merge paths and
 consumer set on this NodeStateCopier.Builder.
 <br>
 It is the responsibility of the caller to persist any changes using e.g.
 <a href="../../spi/state/NodeStore.html#merge(org.apache.jackrabbit.oak.spi.state.NodeBuilder,org.apache.jackrabbit.oak.spi.commit.CommitHook,org.apache.jackrabbit.oak.spi.commit.CommitInfo)"><code>NodeStore.merge(NodeBuilder, CommitHook, CommitInfo)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>sourceRoot</code> - NodeState to copy from</dd>
<dd><code>targetRoot</code> - NodeBuilder to copy to</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if there were any changes, false if sourceRoot and targetRoot represent
         the same content</dd>
</dl>
</li>
</ul>
<a id="copy(org.apache.jackrabbit.oak.spi.state.NodeStore,org.apache.jackrabbit.oak.spi.state.NodeStore)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>copy</h4>
<pre class="methodSignature">public&nbsp;boolean&nbsp;copy&#8203;(@NotNull
                    @NotNull <a href="../../spi/state/NodeStore.html" title="interface in org.apache.jackrabbit.oak.spi.state">NodeStore</a>&nbsp;source,
                    @NotNull
                    @NotNull <a href="../../spi/state/NodeStore.html" title="interface in org.apache.jackrabbit.oak.spi.state">NodeStore</a>&nbsp;target)
             throws <a href="../../api/CommitFailedException.html" title="class in org.apache.jackrabbit.oak.api">CommitFailedException</a></pre>
<div class="block">Creates a NodeStateCopier to copy the <code>source</code> NodeStore to the
 <code>target</code> NodeStore, using any include, exclude, merge paths and
 consumer set on this NodeStateCopier.Builder.
 <br>
 Changes are automatically persisted with empty CommitHooks and CommitInfo
 via <a href="../../spi/state/NodeStore.html#merge(org.apache.jackrabbit.oak.spi.state.NodeBuilder,org.apache.jackrabbit.oak.spi.commit.CommitHook,org.apache.jackrabbit.oak.spi.commit.CommitInfo)"><code>NodeStore.merge(NodeBuilder, CommitHook, CommitInfo)</code></a>.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>source</code> - NodeStore to copy from</dd>
<dd><code>target</code> - NodeStore to copy to</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>true if there were any changes, false if source and target represent
         the same content</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code><a href="../../api/CommitFailedException.html" title="class in org.apache.jackrabbit.oak.api">CommitFailedException</a></code> - if the copy operation fails</dd>
</dl>
</li>
</ul>
</li>
</ul>
</section>
</li>
</ul>
</div>
</div>
</main>
<!-- ========= END OF CLASS DATA ========= -->
<footer role="contentinfo">
<nav role="navigation">
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a id="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a id="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../index.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a id="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</nav>
<p class="legalCopy"><small>Copyright &copy; 2010 - 2023 Adobe. All Rights Reserved</small></p>
</footer>
</body>
</html>
