		<script>
			var href = window.location.href;
			if (href.indexOf("?internal=1") < 0) {
				var cls = href.substring(href.lastIndexOf("/")+1, href.indexOf(".html")); 
				window.location.href = "../index.html?class="+cls;
			}
		</script>
        <div class="body-wrap">
        <div class="top-tools">
            <a class="inner-link" href="#CQ_Analytics.Utils-props"><img src="resources/images/default/s.gif" class="item-icon icon-prop">Properties</a>
            <a class="inner-link" href="#CQ_Analytics.Utils-methods"><img src="resources/images/default/s.gif" class="item-icon icon-method">Methods</a>
            <a class="inner-link" href="#CQ_Analytics.Utils-events"><img src="resources/images/default/s.gif" class="item-icon icon-event">Events</a>
                        <a class="bookmark" href="?class=CQ_Analytics.Utils"><img src="resources/images/default/s.gif" class="item-icon icon-fav">Direct Link</a>
        </div>
                <h1>Class&nbsp;CQ_Analytics.Utils</h1>
        <table cellspacing="0">
            <tr><td class="label">Package:</td><td class="hd-info">CQ_Analytics</td></tr>
            <!--tr><td class="label">Defined In:</td><td class="hd-info"><a href="../src/utils.js" target="_blank">utils.js</a></td></tr-->
            <tr><td class="label">Class:</td><td class="hd-info">Utils</td></tr>
                                    <tr><td class="label">Extends:</td><td class="hd-info">Object</td></tr>
                        <tr><td class="label">Clientlib:</td><td class="hd-info">personalization.core                        </td></tr>
                    </table>
        <div class="description">
	                    A helper class providing a set of utility methods.
<br>	                </div>
        
        <div class="hr"></div>
                <a id="CQ_Analytics.Utils-props"></a>
        <h2>Public Properties</h2>
        <div class="no-members">This class has no public properties.</div>        <a id="CQ_Analytics.Utils-methods"></a>
        <h2>Public Methods</h2>
                <table cellspacing="0" class="member-table">
            <tr>
                <th class="sig-header" colspan="2">Method</th>
                <th class="msource-header">Defined By</th>
            </tr>
                <tr class="method-row expandable">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ_Analytics.Utils-addParameter"></a>
            <b>addParameter</b>(&nbsp;<code>String url</code>, <code>String name</code>, <code>String/String[] value</code>&nbsp;) : String            <div class="mdesc">
                                    <div class="short">&lt;static&gt; Adds a parameter to the specified URL. The parameter name and
value will be URL-endcoded.</div>
            <div class="long">
                &lt;static&gt; Adds a parameter to the specified URL. The parameter name and
value will be URL-endcoded.    <div class="mdetail-params">
        <strong>Parameters:</strong>
        <ul><li><code>url</code> : String<div class="sub-desc">The URL</div></li><li><code>name</code> : String<div class="sub-desc">The name of the parameter</div></li><li><code>value</code> : String/String[]<div class="sub-desc">The value of the parameter.
Since 5.3, an array of strings can be passed</div></li>        </ul>
        <strong>Returns:</strong>
        <ul>
            <li><code>String</code><div class="sub-desc">The URL with the new parameter</div></li>
        </ul>
    </div>
                </div>
                                    </div>
        </td>
        <td class="msource">Utils</td>
    </tr>
        <tr class="method-row alt expandable">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ_Analytics.Utils-clearElement"></a>
            <b>clearElement</b>(&nbsp;<code>String elemId</code>&nbsp;) : void            <div class="mdesc">
                                    <div class="short">&lt;static&gt; Clears in the inner HTML content of a DOM element.</div>
            <div class="long">
                &lt;static&gt; Clears in the inner HTML content of a DOM element.    <div class="mdetail-params">
        <strong>Parameters:</strong>
        <ul><li><code>elemId</code> : String<div class="sub-desc">Id of the DOM element to clear.</div></li>        </ul>
        <strong>Returns:</strong>
        <ul>
            <li><code>void</code></li>
        </ul>
    </div>
                </div>
                                    </div>
        </td>
        <td class="msource">Utils</td>
    </tr>
        <tr class="method-row expandable">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ_Analytics.Utils-encodePath"></a>
            <b>encodePath</b>(&nbsp;<code>String path</code>&nbsp;) : String            <div class="mdesc">
                                    <div class="short">&lt;static&gt; Encodes the specified path using encodeURI. Additionally +,
# and ? are encoded.
The following charact...</div>
            <div class="long">
                &lt;static&gt; Encodes the specified path using encodeURI. Additionally <code>+</code>,
<code>#</code> and <code>?</code> are encoded.<br>
The following characters are not encoded:<br>
<code>0-9 a-z A-Z</code><br>
<code>- _ . ! ~ * ' ( )</code><br>
<code>; / : @ & = $ ,</code><br>    <div class="mdetail-params">
        <strong>Parameters:</strong>
        <ul><li><code>path</code> : String<div class="sub-desc">The path to encode</div></li>        </ul>
        <strong>Returns:</strong>
        <ul>
            <li><code>String</code><div class="sub-desc">The encoded path</div></li>
        </ul>
    </div>
                </div>
                        	        <i>Added in CQ 5.3.</i>
                        </div>
        </td>
        <td class="msource">Utils</td>
    </tr>
        <tr class="method-row alt expandable">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ_Analytics.Utils-encodePathOfURI"></a>
            <b>encodePathOfURI</b>(&nbsp;<code>String url</code>&nbsp;) : String            <div class="mdesc">
                                    <div class="short">&lt;static&gt; Encodes the path of the specified URL if it is not already encoded.
Path means the part of the URL bef...</div>
            <div class="long">
                &lt;static&gt; Encodes the path of the specified URL if it is not already encoded.
Path means the part of the URL before the first question mark or
hash sign.<br>
See <a ext:cls="CQ.shared.HTTP" ext:member="encodePath" href="output/CQ.shared.HTTP.html#encodePath">CQ.shared.HTTP.encodePath</a> for details about the encoding.<br>
Sample:<br>
<code>/x/y+z.png?path=/x/y+z >> /x/y%2Bz.png?path=x/y+z</code><br>
Note that the sample would not work because the "+" in the request
parameter would be interpreted as a space. Parameters must be encoded
separately.    <div class="mdetail-params">
        <strong>Parameters:</strong>
        <ul><li><code>url</code> : String<div class="sub-desc">The URL to encoded</div></li>        </ul>
        <strong>Returns:</strong>
        <ul>
            <li><code>String</code><div class="sub-desc">The encoded URL</div></li>
        </ul>
    </div>
                </div>
                        	        <i>Added in CQ 5.3.</i>
                        </div>
        </td>
        <td class="msource">Utils</td>
    </tr>
        <tr class="method-row expandable">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ_Analytics.Utils-eventWrapper"></a>
            <b>eventWrapper</b>(&nbsp;<code>Function func</code>&nbsp;) : Function            <div class="mdesc">
                                    <div class="short">&lt;static&gt; Creates a event wraping function of a parameter function. Available parameters are:
event : ObjectEven...</div>
            <div class="long">
                &lt;static&gt; Creates a event wraping function of a parameter function. Available parameters are:<ul>
<li><b>event</b> : Object<div class="sub-desc">Event</div></li>
<li><b>keyCode</b> : Number<div class="sub-desc">Key code</div></li>
</ul>    <div class="mdetail-params">
        <strong>Parameters:</strong>
        <ul><li><code>func</code> : Function<div class="sub-desc">The function to wrap</div></li>        </ul>
        <strong>Returns:</strong>
        <ul>
            <li><code>Function</code><div class="sub-desc">Wrapping function</div></li>
        </ul>
    </div>
                </div>
                                    </div>
        </td>
        <td class="msource">Utils</td>
    </tr>
        <tr class="method-row alt expandable">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ_Analytics.Utils-externalize"></a>
            <b>externalize</b>(&nbsp;<code>String url</code>, <span class="optional" title="Optional">[<code>boolean encode</code>]</span>&nbsp;) : String            <div class="mdesc">
                                    <div class="short">&lt;static&gt; Makes sure the specified relative URL starts with the context path
used on the server. If an absolute ...</div>
            <div class="long">
                &lt;static&gt; Makes sure the specified relative URL starts with the context path
used on the server. If an absolute URL is passed, it will be returned
as-is.    <div class="mdetail-params">
        <strong>Parameters:</strong>
        <ul><li><code>url</code> : String<div class="sub-desc">The URL</div></li><li><code>encode</code> : boolean<div class="sub-desc">true to encode the path of the URL (optional)</div></li>        </ul>
        <strong>Returns:</strong>
        <ul>
            <li><code>String</code><div class="sub-desc">The externalized URL</div></li>
        </ul>
    </div>
                </div>
                        	        <i>Added in CQ 5.3.</i>
                        </div>
        </td>
        <td class="msource">Utils</td>
    </tr>
        <tr class="method-row expandable">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ_Analytics.Utils-getContextPath"></a>
            <b>getContextPath</b>() : String            <div class="mdesc">
                                    <div class="short">&lt;static&gt; Returns the context path used on the server.</div>
            <div class="long">
                &lt;static&gt; Returns the context path used on the server.    <div class="mdetail-params">
        <strong>Parameters:</strong>
        <ul><li>None.</li>        </ul>
        <strong>Returns:</strong>
        <ul>
            <li><code>String</code><div class="sub-desc">The context path</div></li>
        </ul>
    </div>
                </div>
                        	        <i>Added in CQ 5.3.</i>
                        </div>
        </td>
        <td class="msource">Utils</td>
    </tr>
        <tr class="method-row alt expandable">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ_Analytics.Utils-getPagePath"></a>
            <b>getPagePath</b>() : String            <div class="mdesc">
                                    <div class="short">&lt;static&gt; Returns the current page path.</div>
            <div class="long">
                &lt;static&gt; Returns the current page path.    <div class="mdetail-params">
        <strong>Parameters:</strong>
        <ul><li>None.</li>        </ul>
        <strong>Returns:</strong>
        <ul>
            <li><code>String</code><div class="sub-desc">Page path</div></li>
        </ul>
    </div>
                </div>
                                    </div>
        </td>
        <td class="msource">Utils</td>
    </tr>
        <tr class="method-row expandable">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ_Analytics.Utils-getPath"></a>
            <b>getPath</b>(&nbsp;<code>String url</code>&nbsp;) : String            <div class="mdesc">
                                    <div class="short">&lt;static&gt; Removes all parts but the path from the specified URL.
Examples:/x/y.sel.html?param=abc =&gt; /x/y
htt...</div>
            <div class="long">
                &lt;static&gt; Removes all parts but the path from the specified URL.
<p>Examples:<pre><code>/x/y.sel.html?param=abc =&gt; /x/y</code></pre>
<pre><code>http://www.day.com/foo/bar.html =&gt; /foo/bar</code></pre><p>    <div class="mdetail-params">
        <strong>Parameters:</strong>
        <ul><li><code>url</code> : String<div class="sub-desc">The URL</div></li>        </ul>
        <strong>Returns:</strong>
        <ul>
            <li><code>String</code><div class="sub-desc">The path</div></li>
        </ul>
    </div>
                </div>
                                    </div>
        </td>
        <td class="msource">Utils</td>
    </tr>
        <tr class="method-row alt expandable">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ_Analytics.Utils-getTimestamp"></a>
            <b>getTimestamp</b>() : Number            <div class="mdesc">
                                    <div class="short">&lt;static&gt; Returns a timestamp.</div>
            <div class="long">
                &lt;static&gt; Returns a timestamp.    <div class="mdetail-params">
        <strong>Parameters:</strong>
        <ul><li>None.</li>        </ul>
        <strong>Returns:</strong>
        <ul>
            <li><code>Number</code><div class="sub-desc">Timestamp</div></li>
        </ul>
    </div>
                </div>
                                    </div>
        </td>
        <td class="msource">Utils</td>
    </tr>
        <tr class="method-row expandable">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ_Analytics.Utils-getUID"></a>
            <b>getUID</b>() : String            <div class="mdesc">
                                    <div class="short">&lt;static&gt; Returns a base 16 encoded UID based on a timestamp and a random number.</div>
            <div class="long">
                &lt;static&gt; Returns a base 16 encoded UID based on a timestamp and a random number.    <div class="mdetail-params">
        <strong>Parameters:</strong>
        <ul><li>None.</li>        </ul>
        <strong>Returns:</strong>
        <ul>
            <li><code>String</code><div class="sub-desc">UID</div></li>
        </ul>
    </div>
                </div>
                                    </div>
        </td>
        <td class="msource">Utils</td>
    </tr>
        <tr class="method-row alt expandable">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ_Analytics.Utils-insert"></a>
            <b>insert</b>(&nbsp;<code>String str</code>, <code>Number every</code>, <code>String separator</code>&nbsp;) : String            <div class="mdesc">
                                    <div class="short">&lt;static&gt; Inserts a string every x character into another string.</div>
            <div class="long">
                &lt;static&gt; Inserts a string every x character into another string.    <div class="mdetail-params">
        <strong>Parameters:</strong>
        <ul><li><code>str</code> : String<div class="sub-desc">Source string</div></li><li><code>every</code> : Number<div class="sub-desc">Inserts <b>every</b> x characters</div></li><li><code>separator</code> : String<div class="sub-desc">String to insert</div></li>        </ul>
        <strong>Returns:</strong>
        <ul>
            <li><code>String</code><div class="sub-desc">The string with inserted separators</div></li>
        </ul>
    </div>
                </div>
                                    </div>
        </td>
        <td class="msource">Utils</td>
    </tr>
        <tr class="method-row expandable">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ_Analytics.Utils-internalize"></a>
            <b>internalize</b>(&nbsp;<code>String url</code>, <span class="optional" title="Optional">[<code>String doc</code>]</span>&nbsp;) : String            <div class="mdesc">
                                    <div class="short">&lt;static&gt; Removes scheme, authority and context path from the specified
absolute URL if it has the same scheme a...</div>
            <div class="long">
                &lt;static&gt; Removes scheme, authority and context path from the specified
absolute URL if it has the same scheme and authority as the
specified document (or the current one).    <div class="mdetail-params">
        <strong>Parameters:</strong>
        <ul><li><code>url</code> : String<div class="sub-desc">The URL</div></li><li><code>doc</code> : String<div class="sub-desc">(optional) The document</div></li>        </ul>
        <strong>Returns:</strong>
        <ul>
            <li><code>String</code><div class="sub-desc">The internalized URL</div></li>
        </ul>
    </div>
                </div>
                                    </div>
        </td>
        <td class="msource">Utils</td>
    </tr>
        <tr class="method-row alt expandable">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ_Analytics.Utils-load"></a>
            <b>load</b>(&nbsp;<code>String url</code>, <span class="optional" title="Optional">[<code>Function callback</code>]</span>&nbsp;) : void            <div class="mdesc">
                                    <div class="short">&lt;static&gt; Requests the specified URL from the server using GET. The request
will be synchronous, unless a callba...</div>
            <div class="long">
                &lt;static&gt; Requests the specified URL from the server using GET. The request
will be synchronous, unless a callback function is specified.    <div class="mdetail-params">
        <strong>Parameters:</strong>
        <ul><li><code>url</code> : String<div class="sub-desc">The URL to request</div></li><li><code>callback</code> : Function<div class="sub-desc">(optional) The callback function which is
called regardless of success or failure and is passed the following
parameter:<ul>
<li><b>xhr</b> : Object<div class="sub-desc">The XMLHttpRequest object containing the response data.
See <a href="http://www.w3.org/TR/XMLHttpRequest/">http://www.w3.org/TR/XMLHttpRequest/</a> for details about
accessing elements of the response.</div></li>
</ul></div></li>        </ul>
        <strong>Returns:</strong>
        <ul>
            <li><code>void</code></li>
        </ul>
    </div>
                </div>
                                    </div>
        </td>
        <td class="msource">Utils</td>
    </tr>
        <tr class="method-row expandable">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ_Analytics.Utils-loadElement"></a>
            <b>loadElement</b>(&nbsp;<code>String url</code>, <code>String elemId</code>&nbsp;) : void            <div class="mdesc">
                                    <div class="short">&lt;static&gt; Loads the HTML returned by a GET request into a DOM element.</div>
            <div class="long">
                &lt;static&gt; Loads the HTML returned by a GET request into a DOM element.    <div class="mdetail-params">
        <strong>Parameters:</strong>
        <ul><li><code>url</code> : String<div class="sub-desc">URL to request</div></li><li><code>elemId</code> : String<div class="sub-desc">Id of the DOM element where HTML is inserted.</div></li>        </ul>
        <strong>Returns:</strong>
        <ul>
            <li><code>void</code></li>
        </ul>
    </div>
                </div>
                                    </div>
        </td>
        <td class="msource">Utils</td>
    </tr>
        <tr class="method-row alt expandable">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ_Analytics.Utils-loadTeaserElement"></a>
            <b>loadTeaserElement</b>(&nbsp;<code>String url</code>, <code>String elemId</code>&nbsp;) : void            <div class="mdesc">
                                    <div class="short">&lt;static&gt; Loads the HTML returned by a GET request into a DOM element. Teasers smooth loading.</div>
            <div class="long">
                &lt;static&gt; Loads the HTML returned by a GET request into a DOM element. Teasers smooth loading.    <div class="mdetail-params">
        <strong>Parameters:</strong>
        <ul><li><code>url</code> : String<div class="sub-desc">URL to request</div></li><li><code>elemId</code> : String<div class="sub-desc">Id of the DOM element where HTML is inserted.</div></li>        </ul>
        <strong>Returns:</strong>
        <ul>
            <li><code>void</code></li>
        </ul>
    </div>
                </div>
                                    </div>
        </td>
        <td class="msource">Utils</td>
    </tr>
        <tr class="method-row expandable">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ_Analytics.Utils-post"></a>
            <b>post</b>(&nbsp;<code>String url</code>, <span class="optional" title="Optional">[<code>Function callback</code>]</span>, <code>Object params</code>, <code>Object scope</code>&nbsp;) : void            <div class="mdesc">
                                    <div class="short">&lt;static&gt; Requests the specified URL from the server using POST. The request
will be synchronous, unless a callb...</div>
            <div class="long">
                &lt;static&gt; Requests the specified URL from the server using POST. The request
will be synchronous, unless a callback function is specified.
The returned response object looks like this:
<pre><code>{ headers: { <em>"Status"</em>: 200, ... } }</code></pre>
See constants above for all supported headers.    <div class="mdetail-params">
        <strong>Parameters:</strong>
        <ul><li><code>url</code> : String<div class="sub-desc">The URL to request</div></li><li><code>callback</code> : Function<div class="sub-desc">(optional) The callback function which is
called regardless of success or failure and is passed the following
parameter:<ul>
<li><b>xhr</b> : Object<div class="sub-desc">The XMLHttpRequest object containing the response data.
See <a href="http://www.w3.org/TR/XMLHttpRequest/">http://www.w3.org/TR/XMLHttpRequest/</a> for details about
accessing elements of the response.</div></li>
</ul></div></li><li><code>params</code> : Object<div class="sub-desc">The parameters</div></li><li><code>scope</code> : Object<div class="sub-desc">The scope</div></li>        </ul>
        <strong>Returns:</strong>
        <ul>
            <li><code>void</code></li>
        </ul>
    </div>
                </div>
                                    </div>
        </td>
        <td class="msource">Utils</td>
    </tr>
        <tr class="method-row alt expandable">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ_Analytics.Utils-registerDocumentEventHandler"></a>
            <b>registerDocumentEventHandler</b>(&nbsp;<code>Object event</code>, <code>Function func</code>&nbsp;) : void            <div class="mdesc">
                                    <div class="short">&lt;static&gt; Attaches an event handler while properly considering (aka chaining) an existing one</div>
            <div class="long">
                &lt;static&gt; Attaches an event handler while properly considering (aka chaining) an existing one    <div class="mdetail-params">
        <strong>Parameters:</strong>
        <ul><li><code>event</code> : Object<div class="sub-desc">Event</div></li><li><code>func</code> : Function<div class="sub-desc">Function</div></li>        </ul>
        <strong>Returns:</strong>
        <ul>
            <li><code>void</code></li>
        </ul>
    </div>
                </div>
                                    </div>
        </td>
        <td class="msource">Utils</td>
    </tr>
        <tr class="method-row expandable">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ_Analytics.Utils-removeAnchor"></a>
            <b>removeAnchor</b>(&nbsp;<code>String url</code>&nbsp;) : String            <div class="mdesc">
                                    <div class="short">&lt;static&gt; Removes the anchor from the specified URL.</div>
            <div class="long">
                &lt;static&gt; Removes the anchor from the specified URL.    <div class="mdetail-params">
        <strong>Parameters:</strong>
        <ul><li><code>url</code> : String<div class="sub-desc">The URL</div></li>        </ul>
        <strong>Returns:</strong>
        <ul>
            <li><code>String</code><div class="sub-desc">The URL without anchor Copied from CQ.HTTP</div></li>
        </ul>
    </div>
                </div>
                                    </div>
        </td>
        <td class="msource">Utils</td>
    </tr>
        <tr class="method-row alt expandable">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ_Analytics.Utils-removeParameters"></a>
            <b>removeParameters</b>(&nbsp;<code>String url</code>&nbsp;) : String            <div class="mdesc">
                                    <div class="short">&lt;static&gt; Removes all parameter from the specified URL.</div>
            <div class="long">
                &lt;static&gt; Removes all parameter from the specified URL.    <div class="mdetail-params">
        <strong>Parameters:</strong>
        <ul><li><code>url</code> : String<div class="sub-desc">The URL</div></li>        </ul>
        <strong>Returns:</strong>
        <ul>
            <li><code>String</code><div class="sub-desc">The URL without parameters</div></li>
        </ul>
    </div>
                </div>
                                    </div>
        </td>
        <td class="msource">Utils</td>
    </tr>
            </table>
                <a id="CQ_Analytics.Utils-events"></a>
        <h2>Public Events</h2>
        <div class="no-members">This class has no public events.</div>
        </div>