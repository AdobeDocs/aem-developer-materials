<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_131) on Fri May 29 19:13:11 UTC 2020 -->
<title>ForkParser (The Adobe AEM Quickstart and Web Application.)</title>
<meta name="date" content="2020-05-29">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ForkParser (The Adobe AEM Quickstart and Web Application.)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":42,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":42,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"],32:["t6","Deprecated Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../org/apache/tika/fork/ForkProxy.html" title="interface in org.apache.tika.fork"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/tika/fork/ForkParser.html" target="_top">Frames</a></li>
<li><a href="ForkParser.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.apache.tika.fork</div>
<h2 title="Class ForkParser" class="title">Class ForkParser</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li><a href="../../../../org/apache/tika/parser/AbstractParser.html" title="class in org.apache.tika.parser">org.apache.tika.parser.AbstractParser</a></li>
<li>
<ul class="inheritance">
<li>org.apache.tika.fork.ForkParser</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.io.Closeable, java.io.Serializable, java.lang.AutoCloseable, <a href="../../../../org/apache/tika/parser/Parser.html" title="interface in org.apache.tika.parser">Parser</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">ForkParser</span>
extends <a href="../../../../org/apache/tika/parser/AbstractParser.html" title="class in org.apache.tika.parser">AbstractParser</a>
implements java.io.Closeable</pre>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../serialized-form.html#org.apache.tika.fork.ForkParser">Serialized Form</a></dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/apache/tika/fork/ForkParser.html#ForkParser--">ForkParser</a></span>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/apache/tika/fork/ForkParser.html#ForkParser-java.lang.ClassLoader-">ForkParser</a></span>(java.lang.ClassLoader&nbsp;loader)</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/apache/tika/fork/ForkParser.html#ForkParser-java.lang.ClassLoader-org.apache.tika.parser.Parser-">ForkParser</a></span>(java.lang.ClassLoader&nbsp;loader,
          <a href="../../../../org/apache/tika/parser/Parser.html" title="interface in org.apache.tika.parser">Parser</a>&nbsp;parser)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/apache/tika/fork/ForkParser.html#ForkParser-java.nio.file.Path-org.apache.tika.fork.ParserFactoryFactory-">ForkParser</a></span>(java.nio.file.Path&nbsp;tikaBin,
          <a href="../../../../org/apache/tika/fork/ParserFactoryFactory.html" title="class in org.apache.tika.fork">ParserFactoryFactory</a>&nbsp;factoryFactory)</code>
<div class="block">If you have a directory with, say, tike-app.jar and you want the child process/server to build a parser
 and run it from that -- so that you can keep all of those dependencies out of your client code, use
 this initializer.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../org/apache/tika/fork/ForkParser.html#ForkParser-java.nio.file.Path-org.apache.tika.fork.ParserFactoryFactory-java.lang.ClassLoader-">ForkParser</a></span>(java.nio.file.Path&nbsp;tikaBin,
          <a href="../../../../org/apache/tika/fork/ParserFactoryFactory.html" title="class in org.apache.tika.fork">ParserFactoryFactory</a>&nbsp;parserFactoryFactory,
          java.lang.ClassLoader&nbsp;classLoader)</code>
<div class="block"><b>EXPERT</b></div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t6" class="tableTab"><span><a href="javascript:show(32);">Deprecated Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/tika/fork/ForkParser.html#close--">close</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/tika/fork/ForkParser.html#getJavaCommand--">getJavaCommand</a></span>()</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;
<div class="block"><span class="deprecationComment">since 1.8</span></div>
</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>java.util.List&lt;java.lang.String&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/tika/fork/ForkParser.html#getJavaCommandAsList--">getJavaCommandAsList</a></span>()</code>
<div class="block">Returns the command used to start the forked server process.</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/tika/fork/ForkParser.html#getPoolSize--">getPoolSize</a></span>()</code>
<div class="block">Returns the size of the process pool.</div>
</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>java.util.Set&lt;<a href="../../../../org/apache/tika/mime/MediaType.html" title="class in org.apache.tika.mime">MediaType</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/tika/fork/ForkParser.html#getSupportedTypes-org.apache.tika.parser.ParseContext-">getSupportedTypes</a></span>(<a href="../../../../org/apache/tika/parser/ParseContext.html" title="class in org.apache.tika.parser">ParseContext</a>&nbsp;context)</code>
<div class="block">Returns the set of media types supported by this parser when used
 with the given parse context.</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/tika/fork/ForkParser.html#parse-java.io.InputStream-org.xml.sax.ContentHandler-org.apache.tika.metadata.Metadata-org.apache.tika.parser.ParseContext-">parse</a></span>(java.io.InputStream&nbsp;stream,
     org.xml.sax.ContentHandler&nbsp;handler,
     <a href="../../../../org/apache/tika/metadata/Metadata.html" title="class in org.apache.tika.metadata">Metadata</a>&nbsp;metadata,
     <a href="../../../../org/apache/tika/parser/ParseContext.html" title="class in org.apache.tika.parser">ParseContext</a>&nbsp;context)</code>
<div class="block">This sends the objects to the server for parsing, and the server via
 the proxies acts on the handler as if it were updating it directly.</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/tika/fork/ForkParser.html#setJavaCommand-java.util.List-">setJavaCommand</a></span>(java.util.List&lt;java.lang.String&gt;&nbsp;java)</code>
<div class="block">Sets the command used to start the forked server process.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/tika/fork/ForkParser.html#setJavaCommand-java.lang.String-">setJavaCommand</a></span>(java.lang.String&nbsp;java)</code>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;
<div class="block"><span class="deprecationComment">since 1.8</span></div>
</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/tika/fork/ForkParser.html#setMaxFilesProcessedPerServer-int-">setMaxFilesProcessedPerServer</a></span>(int&nbsp;maxFilesProcessedPerClient)</code>
<div class="block">If there is a slowly building memory leak in one of the parsers,
 it is useful to set a limit on the number of files processed
 by a server before it is shutdown and restarted.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/tika/fork/ForkParser.html#setPoolSize-int-">setPoolSize</a></span>(int&nbsp;poolSize)</code>
<div class="block">Sets the size of the process pool.</div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/tika/fork/ForkParser.html#setServerParseTimeoutMillis-long-">setServerParseTimeoutMillis</a></span>(long&nbsp;serverParseTimeoutMillis)</code>
<div class="block">The maximum amount of time allowed for the server to try to parse a file.</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/tika/fork/ForkParser.html#setServerPulseMillis-long-">setServerPulseMillis</a></span>(long&nbsp;serverPulseMillis)</code>
<div class="block">The amount of time in milliseconds that the server
 should wait before checking to see if the parse has timed out
 or if the wait has timed out
 The default is 5 seconds.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../org/apache/tika/fork/ForkParser.html#setServerWaitTimeoutMillis-long-">setServerWaitTimeoutMillis</a></span>(long&nbsp;serverWaitTimeoutMillis)</code>
<div class="block">The maximum amount of time allowed for the server to wait for a new request to parse
 a file.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.org.apache.tika.parser.AbstractParser">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.apache.tika.parser.<a href="../../../../org/apache/tika/parser/AbstractParser.html" title="class in org.apache.tika.parser">AbstractParser</a></h3>
<code><a href="../../../../org/apache/tika/parser/AbstractParser.html#parse-java.io.InputStream-org.xml.sax.ContentHandler-org.apache.tika.metadata.Metadata-">parse</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ForkParser-java.nio.file.Path-org.apache.tika.fork.ParserFactoryFactory-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ForkParser</h4>
<pre>public&nbsp;ForkParser(java.nio.file.Path&nbsp;tikaBin,
                  <a href="../../../../org/apache/tika/fork/ParserFactoryFactory.html" title="class in org.apache.tika.fork">ParserFactoryFactory</a>&nbsp;factoryFactory)</pre>
<div class="block">If you have a directory with, say, tike-app.jar and you want the child process/server to build a parser
 and run it from that -- so that you can keep all of those dependencies out of your client code, use
 this initializer.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tikaBin</code> - directory containing the tika-app.jar or similar -- full jar including tika-core and all
                desired parsers and dependencies</dd>
<dd><code>factoryFactory</code> - </dd>
</dl>
</li>
</ul>
<a name="ForkParser-java.nio.file.Path-org.apache.tika.fork.ParserFactoryFactory-java.lang.ClassLoader-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ForkParser</h4>
<pre>public&nbsp;ForkParser(java.nio.file.Path&nbsp;tikaBin,
                  <a href="../../../../org/apache/tika/fork/ParserFactoryFactory.html" title="class in org.apache.tika.fork">ParserFactoryFactory</a>&nbsp;parserFactoryFactory,
                  java.lang.ClassLoader&nbsp;classLoader)</pre>
<div class="block"><b>EXPERT</b></div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>tikaBin</code> - directory containing the tika-app.jar or similar -- full jar including tika-core and all
                desired parsers and dependencies</dd>
<dd><code>parserFactoryFactory</code> - -- the factory to use to generate the parser factory in the child process/server</dd>
<dd><code>classLoader</code> - to use for all classes besides the parser in the child process/server</dd>
</dl>
</li>
</ul>
<a name="ForkParser-java.lang.ClassLoader-org.apache.tika.parser.Parser-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ForkParser</h4>
<pre>public&nbsp;ForkParser(java.lang.ClassLoader&nbsp;loader,
                  <a href="../../../../org/apache/tika/parser/Parser.html" title="interface in org.apache.tika.parser">Parser</a>&nbsp;parser)</pre>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>loader</code> - The ClassLoader to use</dd>
<dd><code>parser</code> - the parser to delegate to. This one cannot be another ForkParser</dd>
</dl>
</li>
</ul>
<a name="ForkParser-java.lang.ClassLoader-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ForkParser</h4>
<pre>public&nbsp;ForkParser(java.lang.ClassLoader&nbsp;loader)</pre>
</li>
</ul>
<a name="ForkParser--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ForkParser</h4>
<pre>public&nbsp;ForkParser()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getPoolSize--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getPoolSize</h4>
<pre>public&nbsp;int&nbsp;getPoolSize()</pre>
<div class="block">Returns the size of the process pool.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>process pool size</dd>
</dl>
</li>
</ul>
<a name="setPoolSize-int-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setPoolSize</h4>
<pre>public&nbsp;void&nbsp;setPoolSize(int&nbsp;poolSize)</pre>
<div class="block">Sets the size of the process pool.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>poolSize</code> - process pool size</dd>
</dl>
</li>
</ul>
<a name="getJavaCommand--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJavaCommand</h4>
<pre>@Deprecated
public&nbsp;java.lang.String&nbsp;getJavaCommand()</pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;<span class="deprecationComment">since 1.8</span></div>
<div class="block">Returns the command used to start the forked server process.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>java command line</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/apache/tika/fork/ForkParser.html#getJavaCommandAsList--"><code>getJavaCommandAsList()</code></a></dd>
</dl>
</li>
</ul>
<a name="getJavaCommandAsList--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getJavaCommandAsList</h4>
<pre>public&nbsp;java.util.List&lt;java.lang.String&gt;&nbsp;getJavaCommandAsList()</pre>
<div class="block">Returns the command used to start the forked server process.
 <p/>
 Returned list is unmodifiable.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>java command line args</dd>
</dl>
</li>
</ul>
<a name="setJavaCommand-java.util.List-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setJavaCommand</h4>
<pre>public&nbsp;void&nbsp;setJavaCommand(java.util.List&lt;java.lang.String&gt;&nbsp;java)</pre>
<div class="block">Sets the command used to start the forked server process.
 The arguments "-jar" and "/path/to/bootstrap.jar"
 or "-cp" and "/path/to/tika_bin" are
 appended to the given command when starting the process.
 The default setting is {"java", "-Xmx32m"}.
 <p/>
 Creates a defensive copy.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>java</code> - java command line</dd>
</dl>
</li>
</ul>
<a name="setJavaCommand-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setJavaCommand</h4>
<pre>@Deprecated
public&nbsp;void&nbsp;setJavaCommand(java.lang.String&nbsp;java)</pre>
<div class="block"><span class="deprecatedLabel">Deprecated.</span>&nbsp;<span class="deprecationComment">since 1.8</span></div>
<div class="block">Sets the command used to start the forked server process.
 The given command line is split on whitespace and the arguments
 "-jar" and "/path/to/bootstrap.jar" are appended to it when starting
 the process. The default setting is "java -Xmx32m".</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>java</code> - java command line</dd>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../../org/apache/tika/fork/ForkParser.html#setJavaCommand-java.util.List-"><code>setJavaCommand(List)</code></a></dd>
</dl>
</li>
</ul>
<a name="getSupportedTypes-org.apache.tika.parser.ParseContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getSupportedTypes</h4>
<pre>public&nbsp;java.util.Set&lt;<a href="../../../../org/apache/tika/mime/MediaType.html" title="class in org.apache.tika.mime">MediaType</a>&gt;&nbsp;getSupportedTypes(<a href="../../../../org/apache/tika/parser/ParseContext.html" title="class in org.apache.tika.parser">ParseContext</a>&nbsp;context)</pre>
<div class="block"><span class="descfrmTypeLabel">Description copied from interface:&nbsp;<code><a href="../../../../org/apache/tika/parser/Parser.html#getSupportedTypes-org.apache.tika.parser.ParseContext-">Parser</a></code></span></div>
<div class="block">Returns the set of media types supported by this parser when used
 with the given parse context.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/tika/parser/Parser.html#getSupportedTypes-org.apache.tika.parser.ParseContext-">getSupportedTypes</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/tika/parser/Parser.html" title="interface in org.apache.tika.parser">Parser</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>context</code> - parse context</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>immutable set of media types</dd>
</dl>
</li>
</ul>
<a name="parse-java.io.InputStream-org.xml.sax.ContentHandler-org.apache.tika.metadata.Metadata-org.apache.tika.parser.ParseContext-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>parse</h4>
<pre>public&nbsp;void&nbsp;parse(java.io.InputStream&nbsp;stream,
                  org.xml.sax.ContentHandler&nbsp;handler,
                  <a href="../../../../org/apache/tika/metadata/Metadata.html" title="class in org.apache.tika.metadata">Metadata</a>&nbsp;metadata,
                  <a href="../../../../org/apache/tika/parser/ParseContext.html" title="class in org.apache.tika.parser">ParseContext</a>&nbsp;context)
           throws java.io.IOException,
                  org.xml.sax.SAXException,
                  <a href="../../../../org/apache/tika/exception/TikaException.html" title="class in org.apache.tika.exception">TikaException</a></pre>
<div class="block">This sends the objects to the server for parsing, and the server via
 the proxies acts on the handler as if it were updating it directly.
 <p>
 If using a RecursiveParserWrapper, there are two options:
 </p>
 <p>
     <ol>
         <li>Send in a class that extends <a href="../../../../org/apache/tika/sax/RecursiveParserWrapperHandler.html" title="class in org.apache.tika.sax"><code>RecursiveParserWrapperHandler</code></a>,
              and the server will proxy back the data as best it can[0].</li>
         <li>Send in a class that extends <a href="../../../../org/apache/tika/sax/AbstractRecursiveParserWrapperHandler.html" title="class in org.apache.tika.sax"><code>AbstractRecursiveParserWrapperHandler</code></a>
              and the server will act on the class but not proxy back the data.  This
              can be used, for example, if all you want to do is write to disc, extend
              <a href="../../../../org/apache/tika/sax/AbstractRecursiveParserWrapperHandler.html" title="class in org.apache.tika.sax"><code>AbstractRecursiveParserWrapperHandler</code></a> to write to disc when
              <a href="../../../../org/apache/tika/sax/AbstractRecursiveParserWrapperHandler.html#endDocument-org.xml.sax.ContentHandler-org.apache.tika.metadata.Metadata-"><code>AbstractRecursiveParserWrapperHandler.endDocument(ContentHandler, Metadata)</code></a>
              is called, and the server will take care of the writing via the handler.</li>
     </ol>
 </p>
 <p>
     <b>NOTE:</b>[0] &quot;the server will proxy back the data as best it can&quot;.  If the handler
     implements Serializable and is actually serializable, the server will send it and the
     <a href="../../../../org/apache/tika/metadata/Metadata.html" title="class in org.apache.tika.metadata"><code>Metadata</code></a> back upon <a href="../../../../org/apache/tika/sax/RecursiveParserWrapperHandler.html#endEmbeddedDocument-org.xml.sax.ContentHandler-org.apache.tika.metadata.Metadata-"><code>RecursiveParserWrapperHandler.endEmbeddedDocument(ContentHandler, Metadata)</code></a>
     or <a href="../../../../org/apache/tika/sax/RecursiveParserWrapperHandler.html#endEmbeddedDocument-org.xml.sax.ContentHandler-org.apache.tika.metadata.Metadata-"><code>RecursiveParserWrapperHandler.endEmbeddedDocument(ContentHandler, Metadata)</code></a>.
     If the handler does not implement <code>Serializable</code> or if there is a
     <code>NotSerializableException</code> thrown during serialization, the server will
     call <code>ContentHandler#toString()</code> on the ContentHandler and set that value with the
     <a href="../../../../org/apache/tika/sax/AbstractRecursiveParserWrapperHandler.html#TIKA_CONTENT"><code>AbstractRecursiveParserWrapperHandler.TIKA_CONTENT</code></a> key and then
     serialize and proxy that data back.
 </p></div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="../../../../org/apache/tika/parser/Parser.html#parse-java.io.InputStream-org.xml.sax.ContentHandler-org.apache.tika.metadata.Metadata-org.apache.tika.parser.ParseContext-">parse</a></code>&nbsp;in interface&nbsp;<code><a href="../../../../org/apache/tika/parser/Parser.html" title="interface in org.apache.tika.parser">Parser</a></code></dd>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>stream</code> - the document stream (input)</dd>
<dd><code>handler</code> - handler for the XHTML SAX events (output)</dd>
<dd><code>metadata</code> - document metadata (input and output)</dd>
<dd><code>context</code> - parse context</dd>
<dt><span class="throwsLabel">Throws:</span></dt>
<dd><code>java.io.IOException</code></dd>
<dd><code>org.xml.sax.SAXException</code></dd>
<dd><code><a href="../../../../org/apache/tika/exception/TikaException.html" title="class in org.apache.tika.exception">TikaException</a></code></dd>
</dl>
</li>
</ul>
<a name="close--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public&nbsp;void&nbsp;close()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>close</code>&nbsp;in interface&nbsp;<code>java.io.Closeable</code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>close</code>&nbsp;in interface&nbsp;<code>java.lang.AutoCloseable</code></dd>
</dl>
</li>
</ul>
<a name="setServerPulseMillis-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setServerPulseMillis</h4>
<pre>public&nbsp;void&nbsp;setServerPulseMillis(long&nbsp;serverPulseMillis)</pre>
<div class="block">The amount of time in milliseconds that the server
 should wait before checking to see if the parse has timed out
 or if the wait has timed out
 The default is 5 seconds.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>serverPulseMillis</code> - milliseconds to sleep before checking if there has been any activity</dd>
</dl>
</li>
</ul>
<a name="setServerParseTimeoutMillis-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setServerParseTimeoutMillis</h4>
<pre>public&nbsp;void&nbsp;setServerParseTimeoutMillis(long&nbsp;serverParseTimeoutMillis)</pre>
<div class="block">The maximum amount of time allowed for the server to try to parse a file.
 If more than this time elapses, the server shuts down, and the ForkParser
 throws an exception.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>serverParseTimeoutMillis</code> - </dd>
</dl>
</li>
</ul>
<a name="setServerWaitTimeoutMillis-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setServerWaitTimeoutMillis</h4>
<pre>public&nbsp;void&nbsp;setServerWaitTimeoutMillis(long&nbsp;serverWaitTimeoutMillis)</pre>
<div class="block">The maximum amount of time allowed for the server to wait for a new request to parse
 a file.  The server will shutdown after this amount of time, and a new server will have
 to be started by a new client.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>serverWaitTimeoutMillis</code> - </dd>
</dl>
</li>
</ul>
<a name="setMaxFilesProcessedPerServer-int-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>setMaxFilesProcessedPerServer</h4>
<pre>public&nbsp;void&nbsp;setMaxFilesProcessedPerServer(int&nbsp;maxFilesProcessedPerClient)</pre>
<div class="block">If there is a slowly building memory leak in one of the parsers,
 it is useful to set a limit on the number of files processed
 by a server before it is shutdown and restarted. Default value is -1.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>maxFilesProcessedPerClient</code> - maximum number of files that a server can handle
                                 before the parser shuts down a client and creates
                                 a new process. If set to -1, the server is never restarted
                                 because of the number of files handled.</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li>Prev&nbsp;Class</li>
<li><a href="../../../../org/apache/tika/fork/ForkProxy.html" title="interface in org.apache.tika.fork"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?org/apache/tika/fork/ForkParser.html" target="_top">Frames</a></li>
<li><a href="ForkParser.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &copy; 2010 - 2020 Adobe. All Rights Reserved</small></p>
</body>
</html>
