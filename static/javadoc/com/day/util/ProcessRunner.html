<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_131) on Fri May 29 19:13:28 UTC 2020 -->
<title>ProcessRunner (The Adobe AEM Quickstart and Web Application.)</title>
<meta name="date" content="2020-05-29">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="ProcessRunner (The Adobe AEM Quickstart and Web Application.)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/day/util/OrderedStringKeyMap.html" title="class in com.day.util"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/day/util/TempFileFinalizer.html" title="class in com.day.util"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/day/util/ProcessRunner.html" target="_top">Frames</a></li>
<li><a href="ProcessRunner.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.day.util</div>
<h2 title="Class ProcessRunner" class="title">Class ProcessRunner</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.day.util.ProcessRunner</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.Runnable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">ProcessRunner</span>
extends java.lang.Object
implements java.lang.Runnable</pre>
<div class="block">The <code>ProcessRunner</code> class helps running external processes. This
 encompasses redirection of stdin, stdout and stderr as well as optionally
 waiting for the completion of the process. This implementation is based on
 the <code>Runtime.exec(String)</code> method and does not yet support passing
 specific environments or decomposed comand lines.
 <p>
 This class can be used in two ways. If you don't care about waiting for the
 processes completion and return code, you might do it like this :
 <blockquote>
   <code>
     Runnable pr = new ProcessRunner("command", null, null, null);<br>
     new Thread(pr).start();
   </code>
 </blockquote>
 <p>
 If on the other hand you want to capture all output and also keep an eye on
 the time the process takes to execute (or wait indefinitely), you might
 use the class like this :
 <blockquote>
   <code>
     ProcessRunner pr = new ProcessRunner("command", in, out, err);<br>
     pr.run(0);<br>
     int rc = pr.getReturnCode();
   </code>
 </blockquote></div>
<dl>
<dt><span class="simpleTagLabel">Since:</span></dt>
<dd>coati</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/day/util/ProcessRunner.html#PROCESS_ABORTED">PROCESS_ABORTED</a></span></code>
<div class="block">Constant to indicate the process has been aborted</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/day/util/ProcessRunner.html#PROCESS_RUNNING">PROCESS_RUNNING</a></span></code>
<div class="block">Constant to indicate the process is running</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../com/day/util/ProcessRunner.html#ProcessRunner-java.lang.String-">ProcessRunner</a></span>(java.lang.String&nbsp;cmdLine)</code>
<div class="block">Creates a new <code>ProcessRunner</code> to execute the given command
 line containing the command to execute and all relevant command
 arguments with no redirection of stdin, stdout and stderr.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../com/day/util/ProcessRunner.html#ProcessRunner-java.lang.String-java.io.InputStream-java.io.OutputStream-java.io.OutputStream-">ProcessRunner</a></span>(java.lang.String&nbsp;cmdLine,
             java.io.InputStream&nbsp;stdin,
             java.io.OutputStream&nbsp;stdout,
             java.io.OutputStream&nbsp;stderr)</code>
<div class="block">Creates a new <code>ProcessRunner</code> to execute the given command
 line containing the command to execute and all relevant command
 arguments.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/day/util/ProcessRunner.html#getReturnCode--">getReturnCode</a></span>()</code>
<div class="block">Returns the return code from running the command line.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/day/util/ProcessRunner.html#run--">run</a></span>()</code>
<div class="block">Runs the process sending the input data and capturing output data.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../com/day/util/ProcessRunner.html#run-long-">run</a></span>(long&nbsp;waitTime)</code>
<div class="block">Executes the command line and waits for the completion of the prcoess.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="PROCESS_RUNNING">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>PROCESS_RUNNING</h4>
<pre>public static final&nbsp;int PROCESS_RUNNING</pre>
<div class="block">Constant to indicate the process is running</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.day.util.ProcessRunner.PROCESS_RUNNING">Constant Field Values</a></dd>
</dl>
</li>
</ul>
<a name="PROCESS_ABORTED">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>PROCESS_ABORTED</h4>
<pre>public static final&nbsp;int PROCESS_ABORTED</pre>
<div class="block">Constant to indicate the process has been aborted</div>
<dl>
<dt><span class="seeLabel">See Also:</span></dt>
<dd><a href="../../../constant-values.html#com.day.util.ProcessRunner.PROCESS_ABORTED">Constant Field Values</a></dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ProcessRunner-java.lang.String-java.io.InputStream-java.io.OutputStream-java.io.OutputStream-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ProcessRunner</h4>
<pre>public&nbsp;ProcessRunner(java.lang.String&nbsp;cmdLine,
                     java.io.InputStream&nbsp;stdin,
                     java.io.OutputStream&nbsp;stdout,
                     java.io.OutputStream&nbsp;stderr)</pre>
<div class="block">Creates a new <code>ProcessRunner</code> to execute the given command
 line containing the command to execute and all relevant command
 arguments. The stdin <code>InputStream</code> can be used to feed
 input data to the command executed, while the output (stdout and stderr)
 are redirected to the given <code>OutputStream</code>s or the process
 defaults (<code>System.out</code> and <code>System.err</code>, resp.).
 <p>
 None of the streams is closed after running the command line. This is
 the sole duty of the client of this class.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cmdLine</code> - This commandline is given to the
                <code>Runtime.exec(String)</code> contains all the command
                arguments and is split up with a <code>StringTokenizer</code>.
                See the API docs on the <code>Runtime.exec(String)</code> method
                for details.</dd>
<dd><code>stdin</code> - The <code>InputStream</code> containing data to be handed
                to the process as stdin. Set this to <code>null</code> if the
                process should not get any input. This stream is completely
                read after the process is started and sent to the process.
                Therefor the stream should be available.</dd>
<dd><code>stdout</code> - The <code>OutputStream</code> to send the stdout output
                of the process to. If this is <code>null</code>, stdout output
                is written to <code>System.out</code>.</dd>
<dd><code>stderr</code> - The <code>OuputStream</code> to send the stderr output
                of the process to. If this is <code>null</code>, stderr output
                is written to <code>System.err</code>.</dd>
</dl>
</li>
</ul>
<a name="ProcessRunner-java.lang.String-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ProcessRunner</h4>
<pre>public&nbsp;ProcessRunner(java.lang.String&nbsp;cmdLine)</pre>
<div class="block">Creates a new <code>ProcessRunner</code> to execute the given command
 line containing the command to execute and all relevant command
 arguments with no redirection of stdin, stdout and stderr.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cmdLine</code> - This commandline is given to the
                <code>Runtime.exec(String)</code> contains all the command
                arguments and is split up with a <code>StringTokenizer</code>.
                See the API docs on the <code>Runtime.exec(String)</code> method
                for details.</dd>
</dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="run-long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run(long&nbsp;waitTime)</pre>
<div class="block">Executes the command line and waits for the completion of the prcoess.
 The process runs in its own thread which is marked as daemon thread. That
 is as soon as the Java VM is about to end, the process will also forcibly
 stopped and does not run to completion.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>waitTime</code> - The number of milliseconds to wait for the completion of
                the process. If the time has ellapsed before the process has
                terminated, the process will be forcibly terminated. If this
                value is negative, the process runs completely detached, while
                a value of zero indicates to wait indeterminate for the
                completion of the process.</dd>
</dl>
</li>
</ul>
<a name="getReturnCode--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getReturnCode</h4>
<pre>public&nbsp;int&nbsp;getReturnCode()</pre>
<div class="block">Returns the return code from running the command line. As long as the
 command is running, the method returns <a href="../../../com/day/util/ProcessRunner.html#PROCESS_RUNNING"><code>PROCESS_RUNNING</code></a>. After
 the process has terminated, the method returns the return code from the
 process or <a href="../../../com/day/util/ProcessRunner.html#PROCESS_ABORTED"><code>PROCESS_ABORTED</code></a> if the command has been terminated
 due to a timeout.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>The return code from the process or either
                <code>PROCESS_RUNNING</code> or <code>PROCESS_ABORTED</code>.</dd>
</dl>
</li>
</ul>
<a name="run--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run()</pre>
<div class="block">Runs the process sending the input data and capturing output data.
 <p>
 Do not directly call this method. Instead either use
 <code>new Thread(new ProcessRunner(cmd)).start()</code> or use the
 <a href="../../../com/day/util/ProcessRunner.html#run-long-"><code>run(long)</code></a> method.</div>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code>run</code>&nbsp;in interface&nbsp;<code>java.lang.Runnable</code></dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-all.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/day/util/OrderedStringKeyMap.html" title="class in com.day.util"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li><a href="../../../com/day/util/TempFileFinalizer.html" title="class in com.day.util"><span class="typeNameLink">Next&nbsp;Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/day/util/ProcessRunner.html" target="_top">Frames</a></li>
<li><a href="ProcessRunner.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &copy; 2010 - 2020 Adobe. All Rights Reserved</small></p>
</body>
</html>
