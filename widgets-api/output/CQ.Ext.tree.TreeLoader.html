		<script>
			var href = window.location.href;
			if (href.indexOf("?internal=1") < 0) {
				var cls = href.substring(href.lastIndexOf("/")+1, href.indexOf(".html")); 
				window.location.href = "../index.html?class="+cls;
			}
		</script>
        <div class="body-wrap">
        <div class="top-tools">
            <a class="inner-link" href="#CQ.Ext.tree.TreeLoader-props"><img src="resources/images/default/s.gif" class="item-icon icon-prop">Properties</a>
            <a class="inner-link" href="#CQ.Ext.tree.TreeLoader-methods"><img src="resources/images/default/s.gif" class="item-icon icon-method">Methods</a>
            <a class="inner-link" href="#CQ.Ext.tree.TreeLoader-events"><img src="resources/images/default/s.gif" class="item-icon icon-event">Events</a>
                            <a class="inner-link" href="#CQ.Ext.tree.TreeLoader-configs"><img src="resources/images/default/s.gif" class="item-icon icon-config">Config Options</a>
                        <a class="bookmark" href="?class=CQ.Ext.tree.TreeLoader"><img src="resources/images/default/s.gif" class="item-icon icon-fav">Direct Link</a>
        </div>
                <div class="inheritance res-block">
<pre class="res-block-inner"><a ext:cls="CQ.Ext.util.Observable" ext:member="" href="output/CQ.Ext.util.Observable.html">Observable</a>
  <img src="resources/docs/elbow-end.gif"/>TreeLoader</pre></div>
                <h1>Class&nbsp;CQ.Ext.tree.TreeLoader</h1>
        <table cellspacing="0">
            <tr><td class="label">Package:</td><td class="hd-info">CQ.Ext.tree</td></tr>
            <!--tr><td class="label">Defined In:</td><td class="hd-info"><a href="../src/TreeLoader.js" target="_blank">TreeLoader.js</a></td></tr-->
            <tr><td class="label">Class:</td><td class="hd-info">TreeLoader</td></tr>
                        <tr><td class="label">Subclasses:</td><td class="hd-info"><a ext:cls="CQ.tree.FilteredTreeLoader" href="output/CQ.tree.FilteredTreeLoader.html">FilteredTreeLoader</a>, <a ext:cls="CQ.tree.SlingTreeLoader" href="output/CQ.tree.SlingTreeLoader.html">SlingTreeLoader</a>, <a ext:cls="CQ.tree.TreeGridLoader" href="output/CQ.tree.TreeGridLoader.html">TreeGridLoader</a></td></tr>
                                    <tr><td class="label">Extends:</td><td class="hd-info"><a ext:cls="CQ.Ext.util.Observable" ext:member="" href="output/CQ.Ext.util.Observable.html">CQ.Ext.util.Observable</a></td></tr>
                        <tr><td class="label">Clientlib:</td><td class="hd-info">cq.widgets                        </td></tr>
                    </table>
        <div class="description">
	                    A TreeLoader provides for lazy loading of an <a ext:cls="CQ.Ext.tree.TreeNode" href="output/CQ.Ext.tree.TreeNode.html">CQ.Ext.tree.TreeNode</a>'s child
nodes from a specified URL. The response must be a JavaScript Array definition
whose elements are node definition objects. e.g.:
<pre><code>[{
        id: 1,
        text: <em>'A leaf Node'</em>,
        leaf: true
    },{
        id: 2,
        text: <em>'A folder Node'</em>,
        children: [{
            id: 3,
            text: <em>'A child Node'</em>,
            leaf: true
        }]
   }]</code></pre>
<br><br>
A server request is sent, and child nodes are loaded only when a node is expanded.
The loading node's id is passed to the server under the parameter name "node" to
enable the server to produce the correct child nodes.
<br><br>
To pass extra parameters, an event handler may be attached to the "beforeload"
event, and the parameters specified in the TreeLoader's baseParams property:
<pre><code>myTreeLoader.on(<em>"beforeload"</em>, <b>function</b>(treeLoader, node) {
        <b>this</b>.baseParams.category = node.attributes.category;
    }, <b>this</b>);</code></pre>
This would pass an HTTP parameter called "category" to the server containing
the value of the Node's "category" attribute.	                </div>
        
        <div class="hr"></div>
                <a id="CQ.Ext.tree.TreeLoader-configs"></a>
        <h2>Config Options</h2>
        <table cellspacing="0" class="member-table">
            <tr>
                <th class="sig-header" colspan="2">Config Options</th>
                <th class="msource-header">Defined By</th>
            </tr>
                <tr class="config-row expandable">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ.Ext.tree.TreeLoader-baseAttrs"></a>
            <b>baseAttrs</b> : Object            <div class="mdesc">
                                    <div class="short">(optional) An object containing attributes to be added to all nodes created by this loader. If the attributes sent by...</div>
            <div class="long">
                (optional) An object containing attributes to be added to all nodes created by this loader. If the attributes sent by the server have an attribute in this object, they take priority.            </div>
                                    </div>
        </td>
        <td class="msource">TreeLoader</td>
    </tr>
        <tr class="config-row alt">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ.Ext.tree.TreeLoader-baseParams"></a>
            <b>baseParams</b> : Object            <div class="mdesc">
                                        (optional) An object containing properties which specify HTTP parameters to be passed to each request for child nodes.                                    </div>
        </td>
        <td class="msource">TreeLoader</td>
    </tr>
        <tr class="config-row">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ.Ext.tree.TreeLoader-clearOnLoad"></a>
            <b>clearOnLoad</b> : Boolean            <div class="mdesc">
                                        (optional) Default to true. Remove previously existing child nodes before loading.                                    </div>
        </td>
        <td class="msource">TreeLoader</td>
    </tr>
        <tr class="config-row alt expandable">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ.Ext.tree.TreeLoader-dataUrl"></a>
            <b>dataUrl</b> : String            <div class="mdesc">
                                    <div class="short">The URL from which to request a Json string which specifies an array of node definition objects representing the chil...</div>
            <div class="long">
                The URL from which to request a Json string which specifies an array of node definition objects representing the child nodes to be loaded.            </div>
                                    </div>
        </td>
        <td class="msource">TreeLoader</td>
    </tr>
        <tr class="config-row">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ.Ext.tree.TreeLoader-directFn"></a>
            <b>directFn</b> : Function            <div class="mdesc">
                                        Function to call when executing a request.                                    </div>
        </td>
        <td class="msource">TreeLoader</td>
    </tr>
        <tr class="config-row alt expandable">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ.Ext.tree.TreeLoader-nodeParameter"></a>
            <b>nodeParameter</b> : String            <div class="mdesc">
                                    <div class="short">The name of the parameter sent to the server which contains the identifier of the node. Defaults to 'node'.</div>
            <div class="long">
                The name of the parameter sent to the server which contains the identifier of the node. Defaults to <tt>'node'</tt>.            </div>
                                    </div>
        </td>
        <td class="msource">TreeLoader</td>
    </tr>
        <tr class="config-row expandable">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ.Ext.tree.TreeLoader-paramOrder"></a>
            <b>paramOrder</b> : Array/String            <div class="mdesc">
                                    <div class="short">Defaults to undefined. Only used when using directFn. Specifies the params in the order in which they must be passed ...</div>
            <div class="long">
                Defaults to <tt>undefined</tt>. Only used when using directFn. Specifies the params in the order in which they must be passed to the server-side Direct method as either (1) an Array of String values, or (2) a String of params delimited by either whitespace, comma, or pipe. For example, any of the following would be acceptable:<pre><code>nodeParameter: <em>'node'</em>,
paramOrder: [<em>'param1'</em>,<em>'param2'</em>,<em>'param3'</em>]
paramOrder: <em>'node param1 param2 param3'</em>
paramOrder: <em>'param1,node,param2,param3'</em>
paramOrder: <em>'param1|param2|param|node'</em></code></pre>            </div>
                                    </div>
        </td>
        <td class="msource">TreeLoader</td>
    </tr>
        <tr class="config-row alt expandable">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ.Ext.tree.TreeLoader-paramsAsHash"></a>
            <b>paramsAsHash</b> : Boolean            <div class="mdesc">
                                    <div class="short">Only used when using directFn. Send parameters as a collection of named arguments (defaults to false). Providing a pa...</div>
            <div class="long">
                Only used when using directFn. Send parameters as a collection of named arguments (defaults to <tt>false</tt>). Providing a <tt><a ext:cls="CQ.Ext.tree.TreeLoader" ext:member="paramOrder" href="output/CQ.Ext.tree.TreeLoader.html#paramOrder">paramOrder</a></tt> nullifies this configuration.            </div>
                                    </div>
        </td>
        <td class="msource">TreeLoader</td>
    </tr>
        <tr class="config-row">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ.Ext.tree.TreeLoader-preloadChildren"></a>
            <b>preloadChildren</b> : Boolean            <div class="mdesc">
                                        If set to true, the loader recursively loads "children" attributes when doing the first load on nodes.                                    </div>
        </td>
        <td class="msource">TreeLoader</td>
    </tr>
        <tr class="config-row alt expandable">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ.Ext.tree.TreeLoader-requestMethod"></a>
            <b>requestMethod</b> : String            <div class="mdesc">
                                    <div class="short">The HTTP request method for loading data (defaults to the value of CQ.Ext.Ajax.method).</div>
            <div class="long">
                The HTTP request method for loading data (defaults to the value of <a ext:cls="CQ.Ext.Ajax" ext:member="method" href="output/CQ.Ext.Ajax.html#method">CQ.Ext.Ajax.method</a>).            </div>
                                    </div>
        </td>
        <td class="msource">TreeLoader</td>
    </tr>
        <tr class="config-row expandable">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ.Ext.tree.TreeLoader-uiProviders"></a>
            <b>uiProviders</b> : Object            <div class="mdesc">
                                    <div class="short">(optional) An object containing properties which specify custom CQ.Ext.tree.TreeNodeUI implementations. If the option...</div>
            <div class="long">
                (optional) An object containing properties which specify custom <a ext:cls="CQ.Ext.tree.TreeNodeUI" href="output/CQ.Ext.tree.TreeNodeUI.html">CQ.Ext.tree.TreeNodeUI</a> implementations. If the optional <i>uiProvider</i> attribute of a returned child node is a string rather than a reference to a TreeNodeUI implementation, then that string value is used as a property name in the uiProviders object.            </div>
                                    </div>
        </td>
        <td class="msource">TreeLoader</td>
    </tr>
        <tr class="config-row alt expandable">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ.Ext.tree.TreeLoader-url"></a>
            <b>url</b> : String            <div class="mdesc">
                                    <div class="short">Equivalent to dataUrl.</div>
            <div class="long">
                Equivalent to <a ext:cls="CQ.Ext.tree.TreeLoader" ext:member="dataUrl" href="output/CQ.Ext.tree.TreeLoader.html#dataUrl">dataUrl</a>.            </div>
                                    </div>
        </td>
        <td class="msource">TreeLoader</td>
    </tr>
            </table>
                <a id="CQ.Ext.tree.TreeLoader-props"></a>
        <h2>Public Properties</h2>
        <div class="no-members">This class has no public properties.</div>        <a id="CQ.Ext.tree.TreeLoader-methods"></a>
        <h2>Public Methods</h2>
                <table cellspacing="0" class="member-table">
            <tr>
                <th class="sig-header" colspan="2">Method</th>
                <th class="msource-header">Defined By</th>
            </tr>
                <tr class="method-row expandable">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ.Ext.tree.TreeLoader-TreeLoader"></a>
            <b>TreeLoader</b>(&nbsp;<code>Object config</code>&nbsp;)            <div class="mdesc">
                                    <div class="short">Creates a new Treeloader.</div>
            <div class="long">
                Creates a new Treeloader.    <div class="mdetail-params">
        <strong>Parameters:</strong>
        <ul><li><code>config</code> : Object<div class="sub-desc">A config object containing config properties.</div></li>        </ul>
        <strong>Returns:</strong>
        <ul>
            <li><code></code></li>
        </ul>
    </div>
                </div>
                                    </div>
        </td>
        <td class="msource">TreeLoader</td>
    </tr>
        <tr class="method-row alt expandable">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ.Ext.tree.TreeLoader-createNode"></a>
            <b>createNode</b>(&nbsp;<code>Object attr</code>&nbsp;) : void            <div class="mdesc">
                                    <div class="short">Override this function for custom TreeNode node implementation, or to
modify the attributes at creation time.
Example...</div>
            <div class="long">
                <p>Override this function for custom TreeNode node implementation, or to
modify the attributes at creation time.</p>
Example:<pre><code>new CQ.Ext.tree.TreePanel({
    ...
    loader: <b>new</b> CQ.Ext.tree.TreeLoader({
        url: <em>'dataUrl'</em>,
        createNode: <b>function</b>(attr) {
<i>//          Allow consolidation consignments to have</i>
<i>//          consignments dropped into them.</i>
            <b>if</b> (attr.isConsolidation) {
                attr.iconCls = <em>'x-consol'</em>,
                attr.allowDrop = true;
            }
            <b>return</b> CQ.Ext.tree.TreeLoader.prototype.createNode.call(<b>this</b>, attr);
        }
    }),
    ...
});</code></pre>    <div class="mdetail-params">
        <strong>Parameters:</strong>
        <ul><li><code>attr</code> : Object<div class="sub-desc">The attributes from which to create the new node.</div></li>        </ul>
        <strong>Returns:</strong>
        <ul>
            <li><code>void</code></li>
        </ul>
    </div>
                </div>
                                    </div>
        </td>
        <td class="msource">TreeLoader</td>
    </tr>
        <tr class="method-row inherited expandable">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ.Ext.tree.TreeLoader-enableBubble"></a>
            <b>enableBubble</b>(&nbsp;<code>String/Array events</code>&nbsp;) : void            <div class="mdesc">
                                    <div class="short">Enables events fired by this Observable to bubble up an owner hierarchy by calling
this.getBubbleTarget() if present....</div>
            <div class="long">
                <p>Enables events fired by this Observable to bubble up an owner hierarchy by calling
<code>this.getBubbleTarget()</code> if present. There is no implementation in the Observable base class.</p>
<p>This is commonly used by CQ.Ext.Components to bubble events to owner Containers. See <a ext:cls="CQ.Ext.Component" ext:member="getBubbleTarget" href="output/CQ.Ext.Component.html#getBubbleTarget">CQ.Ext.Component.getBubbleTarget</a>. The default
implementation in CQ.Ext.Component returns the Component's immediate owner. But if a known target is required, this can be overridden to
access the required target more quickly.</p>
<p>Example:</p><pre><code>CQ.Ext.override(CQ.Ext.form.Field, {
    <i>//  Add functionality to Field&#39;s initComponent to enable the change event to bubble</i>
    initComponent : CQ.Ext.form.Field.prototype.initComponent.createSequence(<b>function</b>() {
        <b>this</b>.enableBubble(<em>'change'</em>);
    }),

    <i>//  We know that we want Field&#39;s events to bubble directly to the FormPanel.</i>
    getBubbleTarget : <b>function</b>() {
        <b>if</b> (!<b>this</b>.formPanel) {
            <b>this</b>.formPanel = <b>this</b>.findParentByType(<em>'form'</em>);
        }
        <b>return</b> this.formPanel;
    }
});

<b>var</b> myForm = <b>new</b> CQ.Ext.formPanel({
    title: <em>'User Details'</em>,
    items: [{
        ...
    }],
    listeners: {
        change: <b>function</b>() {
            <i>// Title goes red <b>if</b> form has been modified.</i>
            myForm.header.setStyle(<em>'color'</em>, <em>'red'</em>);
        }
    }
});</code></pre>    <div class="mdetail-params">
        <strong>Parameters:</strong>
        <ul><li><code>events</code> : String/Array<div class="sub-desc">The event name to bubble, or an Array of event names.</div></li>        </ul>
        <strong>Returns:</strong>
        <ul>
            <li><code>void</code></li>
        </ul>
    </div>
                </div>
                                    </div>
        </td>
        <td class="msource"><a ext:cls="CQ.Ext.util.Observable" ext:member="enableBubble" href="output/CQ.Ext.util.Observable.html#enableBubble">Observable</a></td>
    </tr>
        <tr class="method-row alt expandable">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ.Ext.tree.TreeLoader-load"></a>
            <b>load</b>(&nbsp;<code>CQ.Ext.tree.TreeNode node</code>, <code>Function callback</code>, <code>Object scope</code>&nbsp;) : void            <div class="mdesc">
                                    <div class="short">Load an CQ.Ext.tree.TreeNode from the URL specified in the constructor.
This is called automatically when a node is e...</div>
            <div class="long">
                Load an <a ext:cls="CQ.Ext.tree.TreeNode" href="output/CQ.Ext.tree.TreeNode.html">CQ.Ext.tree.TreeNode</a> from the URL specified in the constructor.
This is called automatically when a node is expanded, but may be used to reload
a node (or append new children if the <a ext:cls="CQ.Ext.tree.TreeLoader" ext:member="clearOnLoad" href="output/CQ.Ext.tree.TreeLoader.html#clearOnLoad">clearOnLoad</a> option is false.)    <div class="mdetail-params">
        <strong>Parameters:</strong>
        <ul><li><code>node</code> : CQ.Ext.tree.TreeNode<div class="sub-desc"></div></li><li><code>callback</code> : Function<div class="sub-desc">Function to call after the node has been loaded. The
function is passed the TreeNode which was requested to be loaded.</div></li><li><code>scope</code> : Object<div class="sub-desc">The scope (<code>this</code> reference) in which the callback is executed.
defaults to the loaded TreeNode.</div></li>        </ul>
        <strong>Returns:</strong>
        <ul>
            <li><code>void</code></li>
        </ul>
    </div>
                </div>
                                    </div>
        </td>
        <td class="msource">TreeLoader</td>
    </tr>
        <tr class="method-row inherited expandable">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ.Ext.tree.TreeLoader-relayEvents"></a>
            <b>relayEvents</b>(&nbsp;<code>Object o</code>, <code>Array events</code>&nbsp;) : void            <div class="mdesc">
                                    <div class="short">Relays selected events from the specified Observable as if the events were fired by <tt><b>this</b></tt>.</div>
            <div class="long">
                Relays selected events from the specified Observable as if the events were fired by <tt><b>this</b></tt>.    <div class="mdetail-params">
        <strong>Parameters:</strong>
        <ul><li><code>o</code> : Object<div class="sub-desc">The Observable whose events this object is to relay.</div></li><li><code>events</code> : Array<div class="sub-desc">Array of event names to relay.</div></li>        </ul>
        <strong>Returns:</strong>
        <ul>
            <li><code>void</code></li>
        </ul>
    </div>
                </div>
                                    </div>
        </td>
        <td class="msource"><a ext:cls="CQ.Ext.util.Observable" ext:member="relayEvents" href="output/CQ.Ext.util.Observable.html#relayEvents">Observable</a></td>
    </tr>
            </table>
                <a id="CQ.Ext.tree.TreeLoader-events"></a>
        <h2>Public Events</h2>
                <table cellspacing="0" class="member-table">
            <tr>
                <th class="sig-header" colspan="2">Event</th>
                <th class="msource-header">Defined By</th>
            </tr>
                <tr class="event-row expandable">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ.Ext.tree.TreeLoader-beforeload"></a>
            <b>beforeload</b> : (&nbsp;<code>Object This</code>, <code>Object node</code>, <code>Object callback</code>&nbsp;)            <div class="mdesc">
                                    <div class="short">Fires before a network request is made to retrieve the Json text which specifies a node's children.</div>
            <div class="long">
                Fires before a network request is made to retrieve the Json text which specifies a node's children.    <div class="mdetail-params">
        <strong style="font-weight:normal;">Listeners will be called with the following arguments:</strong>
        <ul><li><code>This</code> : Object<div class="sub-desc">TreeLoader object.</div></li><li><code>node</code> : Object<div class="sub-desc">The <a ext:cls="CQ.Ext.tree.TreeNode" href="output/CQ.Ext.tree.TreeNode.html">CQ.Ext.tree.TreeNode</a> object being loaded.</div></li><li><code>callback</code> : Object<div class="sub-desc">The callback function specified in the <a ext:cls="CQ.Ext.tree.TreeLoader" ext:member="load" href="output/CQ.Ext.tree.TreeLoader.html#load">load</a> call.</div></li>        </ul>
    </div>
                </div>
                                    </div>
        </td>
        <td class="msource">TreeLoader</td>
    </tr>
        <tr class="event-row alt expandable">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ.Ext.tree.TreeLoader-load"></a>
            <b>load</b> : (&nbsp;<code>Object This</code>, <code>Object node</code>, <code>Object response</code>&nbsp;)            <div class="mdesc">
                                    <div class="short">Fires when the node has been successfuly loaded.</div>
            <div class="long">
                Fires when the node has been successfuly loaded.    <div class="mdetail-params">
        <strong style="font-weight:normal;">Listeners will be called with the following arguments:</strong>
        <ul><li><code>This</code> : Object<div class="sub-desc">TreeLoader object.</div></li><li><code>node</code> : Object<div class="sub-desc">The <a ext:cls="CQ.Ext.tree.TreeNode" href="output/CQ.Ext.tree.TreeNode.html">CQ.Ext.tree.TreeNode</a> object being loaded.</div></li><li><code>response</code> : Object<div class="sub-desc">The response object containing the data from the server.</div></li>        </ul>
    </div>
                </div>
                                    </div>
        </td>
        <td class="msource">TreeLoader</td>
    </tr>
        <tr class="event-row expandable">
        <td class="micon"><a class="exi" href="#expand">&nbsp;</a></td>
        <td class="sig">
        <a id="CQ.Ext.tree.TreeLoader-loadexception"></a>
            <b>loadexception</b> : (&nbsp;<code>Object This</code>, <code>Object node</code>, <code>Object response</code>&nbsp;)            <div class="mdesc">
                                    <div class="short">Fires if the network request failed.</div>
            <div class="long">
                Fires if the network request failed.    <div class="mdetail-params">
        <strong style="font-weight:normal;">Listeners will be called with the following arguments:</strong>
        <ul><li><code>This</code> : Object<div class="sub-desc">TreeLoader object.</div></li><li><code>node</code> : Object<div class="sub-desc">The <a ext:cls="CQ.Ext.tree.TreeNode" href="output/CQ.Ext.tree.TreeNode.html">CQ.Ext.tree.TreeNode</a> object being loaded.</div></li><li><code>response</code> : Object<div class="sub-desc">The response object containing the data from the server.</div></li>        </ul>
    </div>
                </div>
                                    </div>
        </td>
        <td class="msource">TreeLoader</td>
    </tr>
            </table>
        
        </div>