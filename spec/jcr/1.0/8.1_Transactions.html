<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head><title>JCR 1.0: 8.1 Transactions (Content Repository for Java Technology API)</title><meta http-equiv="CONTENT-TYPE" content="text/html; charset=utf-8"></meta><link rel="stylesheet" type="text/css" href="main.css"></link></head><body><script type="text/javascript" src="header.js"></script><script type="text/javascript" src="nav.js"></script>		<h3>
			<a name="section_8.1." id="section_8.1."></a>8.1 Transactions
		</h3>
		
			
				
					
						
							
								<p class="c5">
									A compliant content repository may support transactions. If it does so, it must adhere to the Java Transaction API (JTA) specification (see http://java.sun.com/products/jta/index.html).
								</p>
							
							
								<p class="c5">
									Whether a particular implementation supports transactions can be determined by querying the repository descriptor table with <b>Repository.getDescriptor("</b><b>OPTION_TRANSACTIONS_SUPPORTED")</b> (a return value of <b>true</b> indicates support for transactions, see 6.1.1.1 Repository Descriptors).
								</p>
							
							
								<p class="c5">
									The actual methods used to control transaction boundaries are not defined by this specification (that is why there are no <i>begin</i>, <i>commit</i> or <i>rollback</i> methods in this API). These methods are defined by the JTA specification.
								</p>
							
							
								<p class="c5">
									The JTA provides for two general approaches to transactions, container managed transactions and user managed transactions. In the first case, container managed transactions, the transaction management is taken care of by the application server and it is entirely transparent to the application using the API. The JTA interfaces <b>javax.transaction.TransactionManager</b> and <b>javax.transaction.Transaction</b> are the relevant ones in this context (though the client, as mentioned, will never have a need to use these).
								</p>
							
							
								<p class="c5">
									In the second case, user managed transactions, the application using the API may choose to control transaction boundaries from within the application. In this case the relevant interface is <b>javax.transaction.UserTransaction</b>. This is the interface that provides the methods <b>begin</b>, <b>commit</b>, <b>rollback</b> and so forth. Note that behind the scenes the <b>javax.transaction.TransactionManager</b> and <b>javax.transaction.Transaction</b> are still employed, but again, the client does not deal with these.
								</p>
							
							
								<p class="c5">
									A content repository implementation must support both of these approaches.
								</p>
							
						
					
				
			
		
<script type="text/javascript" src="footer.js"></script></body></html>